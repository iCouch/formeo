/*!
 * formeo - https://formeo.io
 * Version: 0.7.17
 * Author: Draggable https://draggable.io
 */
(function(t){function g(I){if(e[I])return e[I].exports;var l=e[I]={i:I,l:!1,exports:{}};return t[I].call(l.exports,l,l.exports,g),l.l=!0,l.exports}var e={};return g.m=t,g.c=e,g.i=function(I){return I},g.d=function(I,l,c){g.o(I,l)||Object.defineProperty(I,l,{configurable:!1,enumerable:!0,get:c})},g.n=function(I){var l=I&&I.__esModule?function(){return I['default']}:function(){return I};return g.d(l,'a',l),l},g.o=function(I,l){return Object.prototype.hasOwnProperty.call(I,l)},g.p='/assets/',g(g.s=24)})([function(module,exports,__webpack_require__){'use strict';eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _helpers = __webpack_require__(/*! ./helpers */ 1);\n\nvar _helpers2 = _interopRequireDefault(_helpers);\n\nvar _events = __webpack_require__(/*! ./events */ 5);\n\nvar _events2 = _interopRequireDefault(_events);\n\nvar _row = __webpack_require__(/*! ../components/row */ 15);\n\nvar _row2 = _interopRequireDefault(_row);\n\nvar _column = __webpack_require__(/*! ../components/column */ 12);\n\nvar _column2 = _interopRequireDefault(_column);\n\nvar _field = __webpack_require__(/*! ../components/field */ 14);\n\nvar _field2 = _interopRequireDefault(_field);\n\nvar _animation = __webpack_require__(/*! ./animation */ 8);\n\nvar _animation2 = _interopRequireDefault(_animation);\n\nvar _data2 = __webpack_require__(/*! ./data */ 2);\n\nvar _utils = __webpack_require__(/*! ./utils */ 3);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nvar DOM = function () {\n  function DOM() {\n    _classCallCheck(this, DOM);\n\n    this.stages = new Map();\n    this.rows = new Map();\n    this.columns = new Map();\n    this.fields = new Map();\n    this.styleSheet = function () {\n      var style = document.createElement(\'style\');\n      style.setAttribute(\'media\', \'screen\');\n      style.setAttribute(\'type\', \'text/css\');\n      style.appendChild(document.createTextNode(\'\'));\n      document.head.appendChild(style);\n      return style.sheet;\n    }();\n  }\n\n  DOM.prototype.processTagName = function processTagName(elem) {\n    var tagName = void 0;\n    if (typeof elem === \'string\') {\n      tagName = elem;\n      elem = { tag: tagName };\n    }\n    if (elem.attrs) {\n      var tag = elem.attrs.tag;\n      if (tag) {\n        var selectedTag = tag.filter(function (t) {\n          return t.selected === true;\n        });\n        if (selectedTag.length) {\n          tagName = selectedTag[0].value;\n        }\n      }\n    }\n\n    elem.tag = tagName || elem.tag;\n\n    return elem;\n  };\n\n  DOM.prototype.create = function create(elem) {\n    var isPreview = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n    elem = this.processTagName(elem);\n    var _this = this;\n    var contentType = void 0;\n    var _elem = elem,\n        tag = _elem.tag;\n\n    var processed = [];\n    var i = void 0;\n    var wrap = {\n      tag: \'div\',\n      attrs: {},\n      className: [_helpers2.default.get(elem, \'config.inputWrap\') || \'f-field-group\'],\n      content: [],\n      config: {}\n    };\n    var requiredMark = {\n      tag: \'span\',\n      className: \'text-error\',\n      content: \'*\'\n    };\n    var element = document.createElement(tag);\n    var required = _helpers2.default.get(elem, \'attrs.required\');\n\n    var appendContent = {\n      string: function string(content) {\n        element.innerHTML += content;\n      },\n      object: function object(content) {\n        return element.appendChild(_this.create(content));\n      },\n      node: function node(content) {\n        return element.appendChild(content);\n      },\n      array: function array(content) {\n        for (var _i = 0; _i < content.length; _i++) {\n          contentType = _this.contentType(content[_i]);\n          appendContent[contentType](content[_i]);\n        }\n      },\n      function: function _function(content) {\n        content = content();\n        contentType = _this.contentType(content);\n        appendContent[contentType](content);\n      },\n      undefined: function undefined() {\n        return null;\n      }\n    };\n\n    processed.push(\'tag\');\n\n    if (elem.className) {\n      var _elem2 = elem,\n          className = _elem2.className;\n\n      elem.attrs = Object.assign({}, elem.attrs, { className: className });\n      delete elem.className;\n    }\n\n    if (elem.options) {\n      var _elem3 = elem,\n          options = _elem3.options;\n\n      options = this.processOptions(options, elem, isPreview);\n      if (this.holdsContent(element) && tag !== \'button\') {\n        appendContent.array.call(this, options);\n        delete elem.content;\n      } else {\n        _helpers2.default.forEach(options, function (option) {\n          wrap.content.push(_this.create(option, isPreview));\n        });\n\n        if (elem.attrs.className) {\n          wrap.className = elem.attrs.className;\n        }\n\n        wrap.config = Object.assign({}, elem.config);\n        wrap.className.push = _helpers2.default.get(elem, \'attrs.className\');\n\n        if (required) {\n          wrap.attrs.required = required;\n        }\n\n        return this.create(wrap, isPreview);\n      }\n\n      processed.push(\'options\');\n    }\n\n    if (elem.attrs) {\n      _this.processAttrs(elem, element, isPreview);\n      processed.push(\'attrs\');\n    }\n\n    if (elem.config) {\n      var editablePreview = elem.config.editable && isPreview;\n      if (elem.config.label && tag !== \'button\') {\n        var label = void 0;\n\n        if (isPreview) {\n          label = _this.label(elem, \'config.label\');\n        } else {\n          label = _this.label(elem);\n        }\n\n        if (!elem.config.hideLabel) {\n          if (_this.labelAfter(elem)) {\n            wrap.className = \'f-\' + elem.attrs.type;\n\n            label.insertBefore(element, label.firstChild);\n            wrap.content.push(label);\n            if (required) {\n              wrap.content.push(requiredMark);\n            }\n          } else {\n            wrap.content.push(label);\n            if (required) {\n              wrap.content.push(requiredMark);\n            }\n            wrap.content.push(element);\n          }\n        } else if (editablePreview) {\n          element.contentEditable = true;\n        }\n      } else if (editablePreview) {\n        element.contentEditable = true;\n      }\n\n      processed.push(\'config\');\n    }\n\n    if (elem.content) {\n      contentType = _this.contentType(elem.content);\n      appendContent[contentType].call(this, elem.content);\n      processed.push(\'content\');\n    }\n\n    if (elem.dataset) {\n      for (var _data in elem.dataset) {\n        if (elem.dataset.hasOwnProperty(_data)) {\n          element.dataset[_data] = elem.dataset[_data];\n        }\n      }\n      processed.push(\'dataset\');\n    }\n\n    if (elem.action) {\n      var actions = Object.keys(elem.action);\n\n      var _loop = function _loop() {\n        var event = actions[i];\n        var action = elem.action[event];\n        if (typeof action === \'string\') {\n          action = eval(\'(\' + elem.action[event] + \')\');\n        }\n        var useCaptureEvts = [\'focus\', \'blur\'];\n\n        if (event === \'onRender\') {\n          setTimeout(function () {\n            action(element);\n          }, 10);\n        } else {\n          var useCapture = _helpers2.default.inArray(event, useCaptureEvts);\n          element.addEventListener(event, action, useCapture);\n        }\n      };\n\n      for (i = actions.length - 1; i >= 0; i--) {\n        _loop();\n      }\n      processed.push(\'action\');\n    }\n\n    var fieldDataBindings = [\'stage\', \'row\', \'column\', \'field\'];\n\n    if (_helpers2.default.inArray(elem.fType, fieldDataBindings)) {\n      var dataType = elem.fType + \'Data\';\n      element[dataType] = elem;\n      if (dataType === \'fieldData\') {\n        element.panelNav = elem.panelNav;\n      }\n      processed.push(dataType);\n    }\n\n    var remaining = _helpers2.default.subtract(processed, Object.keys(elem));\n    for (i = remaining.length - 1; i >= 0; i--) {\n      element[remaining[i]] = elem[remaining[i]];\n    }\n\n    if (wrap.content.length) {\n      element = this.create(wrap);\n    }\n\n    return element;\n  };\n\n  DOM.prototype.icon = function icon(name) {\n    var iconLink = document.getElementById(\'icon-\' + name);\n    var icon = void 0;\n\n    if (iconLink) {\n      icon = \'<svg class="svg-icon icon-\' + name + \'"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-\' + name + \'"></use></svg>\';\n    } else {\n      icon = \'<span class="glyphicon glyphicon-\' + name + \'" aria-hidden="true"></span>\';\n    }\n    return icon;\n  };\n\n  DOM.prototype.processAttrs = function processAttrs(elem, element, isPreview) {\n    var _elem$attrs = elem.attrs,\n        attrs = _elem$attrs === undefined ? {} : _elem$attrs;\n\n    delete attrs.tag;\n\n    if (!isPreview) {\n      if (!attrs.name && this.isInput(elem.tag)) {\n        element.setAttribute(\'name\', (0, _utils.uuid)(elem));\n      }\n    }\n\n    Object.keys(attrs).forEach(function (attr) {\n      var name = _helpers2.default.safeAttrName(attr);\n      var value = attrs[attr] || \'\';\n\n      if (Array.isArray(value)) {\n        if (_typeof(value[0]) === \'object\') {\n          var selected = value.filter(function (t) {\n            return t.selected === true;\n          });\n          value = selected.length ? selected[0].value : value[0].value;\n        } else {\n          value = value.join(\' \');\n        }\n      }\n\n      if (value) {\n        element.setAttribute(name, value);\n      }\n    });\n  };\n\n  DOM.prototype.checkbox = function checkbox(elem, isPreview) {\n    var label = _helpers2.default.get(elem, \'elem.config.label\') || \'\';\n    var checkable = {\n      tag: \'span\',\n      className: \'checkable\',\n      content: label\n    };\n    var optionLabel = {\n      tag: \'label\',\n      attrs: {},\n      content: [elem, checkable]\n    };\n\n    return optionLabel;\n  };\n\n  DOM.prototype.processOptions = function processOptions(options, elem, isPreview) {\n    var action = elem.action,\n        attrs = elem.attrs;\n\n    var fieldType = attrs.type || elem.tag;\n    var id = attrs.id || elem.id;\n\n    var optionMap = function optionMap(option, i) {\n      var defaultInput = function defaultInput() {\n        var input = {\n          tag: \'input\',\n          attrs: {\n            id: id,\n            type: fieldType,\n            value: option.value || \'\'\n          },\n          action: action\n        };\n        var checkable = {\n          tag: \'span\',\n          className: \'checkable\',\n          content: option.label\n        };\n        var optionLabel = {\n          tag: \'label\',\n          attrs: {},\n          config: {\n            inputWrap: \'form-check\'\n          },\n          content: [option.label]\n        };\n        var inputWrap = {\n          tag: \'div\',\n          content: [optionLabel],\n          className: [\'f-\' + fieldType]\n        };\n\n        if (elem.attrs.className) {\n          elem.config.inputWrap = elem.attrs.className;\n        }\n\n        if (elem.config.inline) {\n          inputWrap.className.push(\'f-${fieldType}-inline\');\n        }\n\n        if (option.selected) {\n          input.attrs.checked = true;\n        }\n\n        if (isPreview) {\n          input.fMap = \'options[\' + i + \'].selected\';\n          optionLabel.attrs.contenteditable = true;\n          optionLabel.fMap = \'options[\' + i + \'].label\';\n          checkable.content = undefined;\n          var checkableLabel = {\n            tag: \'label\',\n            content: [input, checkable]\n          };\n          inputWrap.content.unshift(checkableLabel);\n        } else {\n          input.attrs.name = id;\n          optionLabel.content = checkable;\n          optionLabel = dom.create(optionLabel);\n          input = dom.create(input);\n          optionLabel.insertBefore(input, optionLabel.firstChild);\n          inputWrap.content = optionLabel;\n        }\n\n        return inputWrap;\n      };\n\n      var optionMarkup = {\n        select: function select() {\n          return {\n            tag: \'option\',\n            attrs: option,\n            content: option.label\n          };\n        },\n        button: function button(option) {\n          var type = option.type,\n              label = option.label,\n              className = option.className,\n              id = option.id;\n\n          return Object.assign({}, elem, {\n            attrs: {\n              type: type\n            },\n            className: className,\n            id: id || (0, _utils.uuid)(),\n            options: undefined,\n            content: label,\n            action: elem.action\n          });\n        },\n        checkbox: defaultInput,\n        radio: defaultInput\n      };\n\n      return optionMarkup[fieldType](option);\n    };\n\n    var mappedOptions = options.map(optionMap);\n\n    return mappedOptions;\n  };\n\n  DOM.prototype.holdsContent = function holdsContent(element) {\n    return element.outerHTML.indexOf(\'/\') !== -1;\n  };\n\n  DOM.prototype.isBlockInput = function isBlockInput(element) {\n    return !this.isInput(element) && this.holdsContent(element);\n  };\n\n  DOM.prototype.isInput = function isInput(tag) {\n    if (typeof tag !== \'string\') {\n      tag = tag.tagName;\n    }\n    return [\'input\', \'textarea\', \'select\'].indexOf(tag) !== -1;\n  };\n\n  DOM.prototype.parsedHtml = function parsedHtml(html) {\n    var escapeElement = document.createElement(\'textarea\');\n    escapeElement.innerHTML = html;\n    return escapeElement.textContent;\n  };\n\n  DOM.prototype.labelAfter = function labelAfter(elem) {\n    var type = _helpers2.default.get(elem, \'attrs.type\');\n    var isCB = type === \'checkbox\' || type === \'radio\';\n    return isCB || _helpers2.default.get(elem, \'config.labelAfter\');\n  };\n\n  DOM.prototype.label = function label(elem, fMap) {\n    var fieldLabel = {\n      tag: \'label\',\n      attrs: {},\n      className: [],\n      content: elem.config.label,\n      action: {}\n    };\n\n    if (this.labelAfter(elem)) {\n      var checkable = {\n        tag: \'span\',\n        className: \'checkable\',\n        content: elem.config.label\n      };\n      fieldLabel.content = checkable;\n    }\n\n    if (elem.id) {\n      fieldLabel.attrs.for = elem.id;\n    }\n\n    if (fMap) {\n      delete fieldLabel.attrs.for;\n      fieldLabel.attrs.contenteditable = true;\n      fieldLabel.fMap = fMap;\n    }\n\n    return dom.create(fieldLabel);\n  };\n\n  DOM.prototype.contentType = function contentType(content) {\n    var type = typeof content === \'undefined\' ? \'undefined\' : _typeof(content);\n    if (content instanceof Node || content instanceof HTMLElement) {\n      type = \'node\';\n    } else if (Array.isArray(content)) {\n      type = \'array\';\n    }\n\n    return type;\n  };\n\n  DOM.prototype.getStyle = function getStyle(elem) {\n    var property = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n    var style = void 0;\n    if (window.getComputedStyle) {\n      style = window.getComputedStyle(elem, null);\n    } else if (elem.currentStyle) {\n      style = elem.currentStyle;\n    }\n\n    return property ? style[property] : style;\n  };\n\n  DOM.prototype.getElement = function getElement(elem) {\n    var getElement = {\n      node: function node() {\n        return elem;\n      },\n      object: function object() {\n        return document.getElementById(elem.id);\n      },\n      string: function string() {\n        return document.getElementById(elem);\n      }\n    };\n    var type = this.contentType(elem);\n    var element = getElement[type]();\n\n    return element;\n  };\n\n  DOM.prototype.empty = function empty(elem) {\n    if (!elem) {\n      return false;\n    }\n    while (elem.firstChild) {\n      this.remove(elem.firstChild);\n    }\n    return elem;\n  };\n\n  DOM.prototype.actionButtons = function actionButtons(id) {\n    var item = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \'column\';\n\n    var _this = this;\n    var tag = item === \'column\' ? \'li\' : \'div\';\n    var btnWrap = {\n      tag: \'div\',\n      className: \'action-btn-wrap\'\n    };\n    var actions = {\n      tag: tag,\n      className: item + \'-actions group-actions\',\n      action: {\n        mouseenter: function mouseenter(evt) {\n          var element = document.getElementById(id);\n          element.classList.add(\'hovering-\' + item);\n          evt.target.parentReference = element;\n        },\n        mouseleave: function mouseleave(evt) {\n          evt.target.parentReference.classList.remove(\'hovering-\' + item);\n        },\n        onRender: function onRender(elem) {\n          var buttons = elem.getElementsByTagName(\'button\');\n          var btnWidth = parseInt(_this.getStyle(buttons[0], \'width\')) + 1;\n          var expandedWidth = buttons.length * btnWidth + \'px\';\n          var woh = item === \'row\' ? \'height\' : \'width\';\n          var rules = [[\'.hovering-\' + item + \' .\' + item + \'-actions\', [woh, expandedWidth, true]]];\n\n          _this.insertRule(rules);\n        }\n      }\n    };\n\n    btnWrap.content = this.config[item + \'s\'].actionButtons.buttons;\n    actions.content = btnWrap;\n\n    return actions;\n  };\n\n  DOM.prototype.clone = function clone(elem, parent) {\n    var _this = this;\n    var id = elem.id,\n        fType = elem.fType;\n\n    var dataClone = (0, _utils.clone)(_data2.formData[fType].get(id));\n    var newIndex = _helpers2.default.indexOfNode(elem) + 1;\n    var noParent = false;\n    dataClone.id = (0, _utils.uuid)();\n    _data2.formData[fType].set(dataClone.id, dataClone);\n    if (!parent) {\n      parent = elem.parentElement;\n      noParent = true;\n    }\n    var cloneType = {\n      rows: function rows() {\n        dataClone.columns = [];\n        var stage = _this.activeStage;\n        var newRow = _this.addRow(null, dataClone.id);\n        var columns = elem.getElementsByClassName(\'stage-columns\');\n\n        stage.insertBefore(newRow, stage.childNodes[newIndex]);\n        _helpers2.default.forEach(columns, function (column) {\n          return _this.clone(column, newRow);\n        });\n        _data2.data.saveRowOrder();\n        return newRow;\n      },\n      columns: function columns() {\n        dataClone.fields = [];\n        var newColumn = _this.addColumn(parent.id, dataClone.id);\n        parent.insertBefore(newColumn, parent.childNodes[newIndex]);\n        var fields = elem.getElementsByClassName(\'stage-fields\');\n\n        if (noParent) {\n          dom.columnWidths(parent);\n        }\n        _helpers2.default.forEach(fields, function (field) {\n          return _this.clone(field, newColumn);\n        });\n        return newColumn;\n      },\n      fields: function fields() {\n        var newField = _this.addField(parent.id, dataClone.id);\n        parent.insertBefore(newField, parent.childNodes[newIndex]);\n        return newField;\n      }\n    };\n\n    return cloneType[fType]();\n  };\n\n  DOM.prototype.removeEmpty = function removeEmpty(element) {\n    var _this = this;\n    var parent = element.parentElement;\n    var type = element.fType;\n    var children = void 0;\n    _this.remove(element);\n    children = parent.getElementsByClassName(\'stage-\' + type);\n    if (!children.length) {\n      if (parent.fType !== \'stages\') {\n        return _this.removeEmpty(parent);\n      } else {\n        this.emptyClass(parent);\n      }\n    }\n    if (type === \'columns\') {\n      _this.columnWidths(parent);\n    }\n    return _data2.data.save();\n  };\n\n  DOM.prototype.remove = function remove(elem) {\n    if (!elem) {\n      return true;\n    }\n    var fType = elem.fType,\n        id = elem.id;\n\n    if (fType) {\n      var parent = elem.parentElement;\n      var pData = _data2.formData[parent.fType].get(parent.id);\n      _data2.data.empty(fType, id);\n      this[fType].delete(id);\n      _data2.formData[fType].delete(id);\n      (0, _utils.remove)(pData[fType], id);\n    }\n    return elem.parentElement.removeChild(elem);\n  };\n\n  DOM.prototype.removeClasses = function removeClasses(nodeList, className) {\n    var _this = this;\n    var removeClass = {\n      string: function string(elem) {\n        elem.className = elem.className.replace(className, \'\');\n      },\n      array: function array(elem) {\n        for (var i = className.length - 1; i >= 0; i--) {\n          elem.classList.remove(className[i]);\n        }\n      }\n    };\n    removeClass.object = removeClass.string;\n    _helpers2.default.forEach(nodeList, removeClass[_this.contentType(className)]);\n  };\n\n  DOM.prototype.addClasses = function addClasses(nodeList, className) {\n    var _this = this;\n    var addClass = {\n      string: function string(elem) {\n        elem.classList.add(className);\n      },\n      array: function array(elem) {\n        for (var i = className.length - 1; i >= 0; i--) {\n          elem.classList.add(className[i]);\n        }\n      }\n    };\n    _helpers2.default.forEach(nodeList, addClass[_this.contentType(className)]);\n  };\n\n  DOM.prototype.fieldOrderClass = function fieldOrderClass(column) {\n    var fields = column.querySelectorAll(\'.stage-fields\');\n\n    if (fields.length) {\n      this.removeClasses(fields, [\'first-field\', \'last-field\']);\n      fields[0].classList.add(\'first-field\');\n      fields[fields.length - 1].classList.add(\'last-field\');\n    }\n  };\n\n  DOM.prototype.columnWidths = function columnWidths(row) {\n    var _this = this;\n    var fields = [];\n    var columns = row.getElementsByClassName(\'stage-columns\');\n    if (!columns.length) {\n      return;\n    }\n    var width = parseFloat((100 / columns.length).toFixed(1)) / 1;\n    var bsGridRegEx = /\\bcol-\\w+-\\d+/g;\n\n    _this.removeClasses(columns, bsGridRegEx);\n\n    _helpers2.default.forEach(columns, function (column) {\n      var columnData = _data2.formData.columns.get(column.id);\n      fields.push.apply(fields, columnData.fields);\n\n      var colWidth = (0, _utils.numToPercent)(width);\n\n      column.style.width = colWidth;\n      column.style.float = \'left\';\n      columnData.config.width = colWidth;\n      column.dataset.colWidth = colWidth;\n      document.dispatchEvent(_events2.default.columnResized);\n    });\n\n    setTimeout(function () {\n      fields.forEach(function (fieldID) {\n        var field = dom.fields.get(fieldID);\n        if (field.instance.panels) {\n          field.instance.panels.nav.refresh();\n        }\n      });\n    }, 250);\n\n    dom.updateColumnPreset(row);\n  };\n\n  DOM.prototype.formGroup = function formGroup(content) {\n    var className = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \'\';\n\n    return {\n      tag: \'div\',\n      className: [\'f-field-group\', className],\n      content: content\n    };\n  };\n\n  DOM.prototype.columnPresetControl = function columnPresetControl(rowID) {\n    var _this2 = this;\n\n    var _this = this;\n    var rowData = _data2.formData.rows.get(rowID);\n    var layoutPreset = {\n      tag: \'select\',\n      attrs: {\n        ariaLabel: \'Define a column layout\',\n        className: \'column-preset\'\n      },\n      action: {\n        change: function change(e) {\n          var dRow = _this2.rows.get(rowID);\n          _this.setColumnWidths(dRow.row, e.target.value);\n          _data2.data.save();\n        }\n      }\n    };\n    var pMap = new Map();\n    var custom = { value: \'custom\', label: \'Custom\' };\n\n    pMap.set(1, [{ value: \'100.0\', label: \'100%\' }]);\n    pMap.set(2, [{ value: \'50.0,50.0\', label: \'50 | 50\' }, { value: \'33.3,66.6\', label: \'33 | 66\' }, { value: \'66.6,33.3\', label: \'66 | 33\' }, custom]);\n    pMap.set(3, [{ value: \'33.3,33.3,33.3\', label: \'33 | 33 | 33\' }, { value: \'25.0,25.0,50.0\', label: \'25 | 25 | 50\' }, { value: \'50.0,25.0,25.0\', label: \'50 | 25 | 25\' }, { value: \'25.0,50.0,25.0\', label: \'25 | 50 | 25\' }, custom]);\n    pMap.set(4, [{ value: \'25.0,25.0,25.0,25.0\', label: \'25 | 25 | 25 | 25\' }, custom]);\n    pMap.set(\'custom\', [custom]);\n\n    if (rowData && rowData.columns.length) {\n      var columns = rowData.columns;\n      var pMapVal = pMap.get(columns.length);\n      layoutPreset.options = pMapVal || pMap.get(\'custom\');\n      var curVal = columns.map(function (columnID, i) {\n        var colData = _data2.formData.columns.get(columnID);\n        return colData.config.width.replace(\'%\', \'\');\n      }).join(\',\');\n      if (pMapVal) {\n        pMapVal.forEach(function (val, i) {\n          var options = layoutPreset.options;\n          if (val.value === curVal) {\n            options[i].selected = true;\n          } else {\n            delete options[i].selected;\n            options[options.length - 1].selected = true;\n          }\n        });\n      }\n    } else {\n      layoutPreset.options = pMap.get(1);\n    }\n\n    return layoutPreset;\n  };\n\n  DOM.prototype.setColumnWidths = function setColumnWidths(row, widths) {\n    if (widths === \'custom\') {\n      return;\n    }\n    widths = widths.split(\',\');\n    var columns = row.getElementsByClassName(\'stage-columns\');\n    _helpers2.default.forEach(columns, function (column, i) {\n      var percentWidth = widths[i] + \'%\';\n      column.dataset.colWidth = percentWidth;\n      column.style.width = percentWidth;\n      _data2.formData.columns.get(column.id).config.width = percentWidth;\n    });\n  };\n\n  DOM.prototype.updateColumnPreset = function updateColumnPreset(row) {\n    var _this = this;\n    var oldColumnPreset = row.querySelector(\'.column-preset\');\n    var rowEdit = oldColumnPreset.parentElement;\n    var columnPresetConfig = _this.columnPresetControl(row.id);\n    var newColumnPreset = _this.create(columnPresetConfig);\n\n    rowEdit.replaceChild(newColumnPreset, oldColumnPreset);\n    return columnPresetConfig;\n  };\n\n  DOM.prototype.coords = function coords(element) {\n    var elemPosition = element.getBoundingClientRect();\n    var bodyRect = document.body.getBoundingClientRect();\n\n    return {\n      pageX: elemPosition.left + elemPosition.width / 2,\n      pageY: elemPosition.top - bodyRect.top - elemPosition.height / 2\n    };\n  };\n\n  DOM.prototype.loadRows = function loadRows(stage) {\n    var _this3 = this;\n\n    if (!stage) {\n      stage = this.activeStage;\n    }\n\n    var rows = _data2.formData.stages.get(stage.id).rows;\n    return rows.forEach(function (rowID) {\n      var row = _this3.addRow(stage.id, rowID);\n      _this3.loadColumns(row);\n      dom.updateColumnPreset(row);\n      stage.appendChild(row);\n    });\n  };\n\n  DOM.prototype.loadColumns = function loadColumns(row) {\n    var _this4 = this;\n\n    var columns = _data2.formData.rows.get(row.id).columns;\n    columns.forEach(function (columnID) {\n      var column = _this4.addColumn(row.id, columnID);\n      _this4.loadFields(column);\n    });\n  };\n\n  DOM.prototype.loadFields = function loadFields(column) {\n    var _this5 = this;\n\n    var fields = _data2.formData.columns.get(column.id).fields;\n    fields.forEach(function (fieldID) {\n      return _this5.addField(column.id, fieldID);\n    });\n    this.fieldOrderClass(column);\n  };\n\n  DOM.prototype.createColumn = function createColumn(evt) {\n    var fType = evt.from.fType;\n    var field = fType === \'columns\' ? evt.item : new _field2.default(evt.item.id);\n    var column = new _column2.default();\n\n    field.classList.add(\'first-field\');\n    column.appendChild(field);\n    _data2.formData.columns.get(column.id).fields.push(field.id);\n    return column;\n  };\n\n  DOM.prototype.processColumnConfig = function processColumnConfig(columnData) {\n    if (columnData.className) {\n      columnData.className.push(\'f-render-column\');\n    }\n    var colWidth = columnData.config.width || \'100%\';\n    columnData.style = \'width: \' + colWidth;\n    return columnData;\n  };\n\n  DOM.prototype.renderForm = function renderForm(renderTarget) {\n    var _this6 = this;\n\n    this.empty(renderTarget);\n    var renderData = _data2.data.prepData;\n    var renderCount = document.getElementsByClassName(\'formeo-render\').length;\n    var content = Object.values(renderData.stages).map(function (stageData) {\n      var rows = stageData.rows,\n          stage = _objectWithoutProperties(stageData, [\'rows\']);\n\n      rows = rows.map(function (rowID) {\n        var _renderData$rows$rowI = renderData.rows[rowID],\n            columns = _renderData$rows$rowI.columns,\n            row = _objectWithoutProperties(_renderData$rows$rowI, [\'columns\']);\n\n        var cols = columns.map(function (columnID) {\n          var col = _this6.processColumnConfig(renderData.columns[columnID]);\n          var fields = col.fields.map(function (fieldID) {\n            return renderData.fields[fieldID];\n          });\n          col.tag = \'div\';\n          col.content = fields;\n          return col;\n        });\n        row.tag = \'div\';\n        row.content = [cols];\n        var rowData = (0, _utils.clone)(row);\n        if (row.config.inputGroup) {\n          var removeButton = {\n            tag: \'button\',\n            className: \'remove-input-group\',\n            content: dom.icon(\'remove\'),\n            action: {\n              mouseover: function mouseover(e) {\n                e.target.parentElement.classList.add(\'will-remove\');\n              },\n              mouseleave: function mouseleave(e) {\n                e.target.parentElement.classList.remove(\'will-remove\');\n              },\n              click: function click(e) {\n                var currentInputGroup = e.target.parentElement;\n                var iGWrap = currentInputGroup.parentElement;\n                var iG = iGWrap.getElementsByClassName(\'f-input-group\');\n                if (iG.length > 1) {\n                  dom.remove(currentInputGroup);\n                } else {\n                  console.log(\'Need at least 1 group\');\n                }\n              }\n            }\n          };\n          rowData.content.unshift(removeButton);\n          var inputGroupWrap = {\n            tag: \'div\',\n            id: (0, _utils.uuid)(),\n            className: \'f-input-group-wrap\'\n          };\n          if (rowData.attrs.className) {\n            if (typeof rowData.attrs.className === \'string\') {\n              rowData.attrs.className += \' f-input-group\';\n            } else {\n              rowData.attrs.className.push(\'f-input-group\');\n            }\n          }\n          var addButton = {\n            tag: \'button\',\n            attrs: {\n              className: \'add-input-group btn pull-right\',\n              type: \'button\'\n            },\n            content: \'Add +\',\n            action: {\n              click: function click(e) {\n                var fInputGroup = e.target.parentElement;\n                var newRow = dom.create(rowData);\n                fInputGroup.insertBefore(newRow, fInputGroup.lastChild);\n              }\n            }\n          };\n\n          row.content.unshift(removeButton);\n          inputGroupWrap.content = [rowData, addButton];\n          row = inputGroupWrap;\n        }\n        return row;\n      });\n      stage.tag = \'div\';\n      stage.content = rows;\n      stage.className = \'f-stage\';\n      return stage;\n    });\n\n    var config = {\n      tag: \'div\',\n      id: \'formeo-rendered-\' + renderCount,\n      className: \'formeo-render formeo\',\n      content: content\n    };\n\n    renderTarget.appendChild(this.create(config));\n  };\n\n  DOM.prototype.clearForm = function clearForm(evt) {\n    var _this7 = this;\n\n    this.stages.forEach(function (dStage) {\n      return _this7.clearStage(dStage.stage);\n    });\n  };\n\n  DOM.prototype.clearStage = function clearStage(stage) {\n    stage.classList.add(\'removing-all-fields\');\n\n    var resetStage = function resetStage() {\n      dom.empty(stage);\n      stage.classList.remove(\'removing-all-fields\');\n      _data2.data.save();\n      dom.emptyClass(stage);\n      _animation2.default.slideDown(stage, 300);\n    };\n\n    _animation2.default.slideUp(stage, 600, resetStage);\n  };\n\n  DOM.prototype.addRow = function addRow(stageID, rowID) {\n    var row = new _row2.default(rowID);\n    var stage = stageID ? this.stages.get(stageID).stage : this.activeStage;\n    stage.appendChild(row);\n    _data2.data.saveRowOrder(stage);\n    this.emptyClass(stage);\n    _events2.default.formeoUpdated = new CustomEvent(\'formeoUpdated\', {\n      data: {\n        updateType: \'added\',\n        changed: \'row\',\n        oldValue: undefined,\n        newValue: _data2.formData.rows.get(row.id)\n      }\n    });\n    document.dispatchEvent(_events2.default.formeoUpdated);\n    return row;\n  };\n\n  DOM.prototype.addColumn = function addColumn(rowID, columnID) {\n    var column = new _column2.default(columnID);\n    var row = this.rows.get(rowID).row;\n    row.appendChild(column);\n    _data2.data.saveColumnOrder(row);\n    this.emptyClass(row);\n    _events2.default.formeoUpdated = new CustomEvent(\'formeoUpdated\', {\n      data: {\n        updateType: \'added\',\n        changed: \'column\',\n        oldValue: undefined,\n        newValue: _data2.formData.columns.get(column.id)\n      }\n    });\n    document.dispatchEvent(_events2.default.formeoUpdated);\n    return column;\n  };\n\n  DOM.prototype.toggleSortable = function toggleSortable(elem, state) {\n    var fType = elem.fType;\n\n    if (!fType) {\n      return;\n    }\n    var pFtype = elem.parentElement.fType;\n    var sortable = dom[fType].get(elem.id).sortable;\n    if (state === undefined) {\n      state = !sortable.option(\'disabled\');\n    }\n    sortable.option(\'disabled\', state);\n    if (pFtype && _helpers2.default.inArray(pFtype, [\'rows\', \'columns\', \'stages\'])) {\n      this.toggleSortable(elem.parentElement, state);\n    }\n  };\n\n  DOM.prototype.addField = function addField(columnID, fieldID) {\n    var field = new _field2.default(fieldID);\n    if (columnID) {\n      var column = this.columns.get(columnID).column;\n      column.appendChild(field);\n      _data2.data.saveFieldOrder(column);\n      this.emptyClass(column);\n    }\n    _events2.default.formeoUpdated = new CustomEvent(\'formeoUpdated\', {\n      data: {\n        updateType: \'add\',\n        changed: \'field\',\n        oldValue: undefined,\n        newValue: _data2.formData.fields.get(field.id)\n      }\n    });\n    document.dispatchEvent(_events2.default.formeoUpdated);\n    return field;\n  };\n\n  DOM.prototype.emptyClass = function emptyClass(elem) {\n    var type = elem.fType;\n    if (type) {\n      var childMap = new Map();\n      childMap.set(\'rows\', \'columns\');\n      childMap.set(\'columns\', \'fields\');\n      childMap.set(\'stages\', \'rows\');\n      var children = elem.getElementsByClassName(\'stage-\' + childMap.get(type));\n      elem.classList.toggle(\'empty-\' + type, !children.length);\n    }\n  };\n\n  DOM.prototype.h = function h(tag, attrs, content) {\n    return this.create({ tag: tag, attrs: attrs, content: content });\n  };\n\n  DOM.prototype.insertRule = function insertRule(rules) {\n    var styleSheet = this.styleSheet;\n    var rulesLength = styleSheet.cssRules.length;\n    for (var i = 0, rl = rules.length; i < rl; i++) {\n      var j = 1;\n      var rule = rules[i];\n      var selector = rules[i][0];\n      var propStr = \'\';\n\n      if (Object.prototype.toString.call(rule[1][0]) === \'[object Array]\') {\n        rule = rule[1];\n        j = 0;\n      }\n\n      for (var pl = rule.length; j < pl; j++) {\n        var prop = rule[j];\n        var important = prop[2] ? \' !important\' : \'\';\n        propStr += prop[0] + \':\' + prop[1] + important + \';\';\n      }\n\n      return styleSheet.insertRule(selector + \' { \' + propStr + \' }\', rulesLength);\n    }\n  };\n\n  _createClass(DOM, [{\n    key: \'setConfig\',\n    set: function set(userConfig) {\n      var _this = this;\n      var icon = _this.icon;\n      var btnTemplate = {\n        tag: \'button\',\n        content: [],\n        attrs: {\n          className: [\'btn\'],\n          type: \'button\'\n        }\n      };\n\n      var handle = _helpers2.default.merge(Object.assign({}, btnTemplate), {\n        content: [icon(\'move\'), icon(\'handle\')],\n        attrs: {\n          className: [\'item-handle\']\n        },\n        meta: {\n          id: \'handle\'\n        }\n      });\n\n      var edit = _helpers2.default.merge(Object.assign({}, btnTemplate), {\n        content: icon(\'edit\'),\n        attrs: {\n          className: [\'item-edit-toggle\']\n        },\n        meta: {\n          id: \'edit\'\n        },\n        action: {\n          click: function click(evt) {\n            var element = (0, _utils.closestFtype)(evt.target);\n            var fType = element.fType;\n\n            fType = fType.replace(/s$/, \'\');\n            var editClass = \'editing-\' + fType;\n            var editWindow = element.querySelector(\'.\' + fType + \'-edit\');\n            _animation2.default.slideToggle(editWindow, 333);\n            if (fType === \'field\') {\n              _animation2.default.slideToggle(editWindow.nextSibling, 333);\n              element.parentElement.classList.toggle(\'column-\' + editClass);\n            }\n            element.classList.toggle(editClass);\n          }\n        }\n      });\n\n      var remove = _helpers2.default.merge(Object.assign({}, btnTemplate), {\n        content: icon(\'remove\'),\n        attrs: {\n          className: [\'item-remove\']\n        },\n        meta: {\n          id: \'remove\'\n        },\n        action: {\n          click: function click(evt, id) {\n            var element = (0, _utils.closestFtype)(evt.target);\n            _animation2.default.slideUp(element, 250, function (elem) {\n              _this.removeEmpty(elem);\n            });\n          }\n        }\n      });\n\n      var cloneItem = _helpers2.default.merge(Object.assign({}, btnTemplate), {\n        content: icon(\'copy\'),\n        attrs: {\n          className: [\'item-clone\']\n        },\n        meta: {\n          id: \'clone\'\n        },\n        action: {\n          click: function click(evt) {\n            _this.clone((0, _utils.closestFtype)(evt.target));\n            _data2.data.save();\n          }\n        }\n      });\n\n      var defaultConfig = {\n        rows: {\n          actionButtons: {\n            buttons: [(0, _utils.clone)(handle), remove],\n            order: [],\n            disabled: []\n          }\n        },\n        columns: {\n          actionButtons: {\n            buttons: [(0, _utils.clone)(handle), remove],\n            order: [],\n            disabled: []\n          }\n        },\n        fields: {\n          actionButtons: {\n            buttons: [handle, remove],\n            order: [],\n            disabled: []\n          }\n        }\n      };\n\n      defaultConfig.rows.actionButtons.buttons[0].content = [icon(\'move-vertical\'), icon(\'handle\')];\n      defaultConfig.columns.actionButtons.buttons[0].content = [icon(\'move\'), icon(\'handle\')];\n\n      var mergedConfig = _helpers2.default.merge(defaultConfig, userConfig);\n\n      Object.keys(mergedConfig).forEach(function (key) {\n        if (mergedConfig[key].actionButtons) {\n          var aButtons = mergedConfig[key].actionButtons;\n          var disabled = aButtons.disabled;\n          var buttons = aButtons.buttons;\n\n          aButtons.buttons = _helpers2.default.orderObjectsBy(buttons, aButtons.order, \'meta.id\');\n\n          aButtons.buttons = aButtons.buttons.filter(function (button) {\n            var metaId = _helpers2.default.get(button, \'meta.id\');\n            return !_helpers2.default.inArray(metaId, disabled);\n          });\n        }\n      });\n\n      if (mergedConfig.dir) {\n        this.dir = mergedConfig.dir;\n      }\n\n      this.config = mergedConfig;\n\n      return this.config;\n    }\n  }]);\n\n  return DOM;\n}();\n\nvar dom = new DOM();\n\nexports.default = dom;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvanMvY29tbW9uL2RvbS5qcz9hOTZkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBoIGZyb20gJy4vaGVscGVycyc7XG5pbXBvcnQgZXZlbnRzIGZyb20gJy4vZXZlbnRzJztcbmltcG9ydCBSb3cgZnJvbSAnLi4vY29tcG9uZW50cy9yb3cnO1xuaW1wb3J0IENvbHVtbiBmcm9tICcuLi9jb21wb25lbnRzL2NvbHVtbic7XG5pbXBvcnQgRmllbGQgZnJvbSAnLi4vY29tcG9uZW50cy9maWVsZCc7XG5pbXBvcnQgYW5pbWF0ZSBmcm9tICcuL2FuaW1hdGlvbic7XG5pbXBvcnQge2RhdGEsIGZvcm1EYXRhfSBmcm9tICcuL2RhdGEnO1xuaW1wb3J0IHt1dWlkLCBjbG9uZSwgbnVtVG9QZXJjZW50LCByZW1vdmUsIGNsb3Nlc3RGdHlwZX0gZnJvbSAnLi91dGlscyc7XG5cbi8qKlxuICogR2VuZXJhbCBwdXJwb3NlIG1hcmt1cCB1dGlsaXRpZXMgYW5kIGdlbmVyYXRvci5cbiAqL1xuY2xhc3MgRE9NIHtcbiAgLyoqXG4gICAqIFNldCBkZWZhdWx0cywgc3RvcmUgcmVmZXJlbmNlcyB0byBrZXkgZWxlbWVudHNcbiAgICogbGlrZSBzdGFnZXMsIHJvd3MsIGNvbHVtbnMgZXRjXG4gICAqL1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICAvLyBNYWludGFpbiByZWZlcmVuY2VzIHRvIERPTSBub2Rlc1xuICAgIC8vIHNvIHdlIGRvbid0IGhhdmUgdG8ga2VlcCBkb2luZyBnZXRFbGVtZW50QnlJZFxuICAgIHRoaXMuc3RhZ2VzID0gbmV3IE1hcCgpO1xuICAgIHRoaXMucm93cyA9IG5ldyBNYXAoKTtcbiAgICB0aGlzLmNvbHVtbnMgPSBuZXcgTWFwKCk7XG4gICAgdGhpcy5maWVsZHMgPSBuZXcgTWFwKCk7XG4gICAgdGhpcy5zdHlsZVNoZWV0ID0gKCgpID0+IHtcbiAgICAgIGNvbnN0IHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICAgIHN0eWxlLnNldEF0dHJpYnV0ZSgnbWVkaWEnLCAnc2NyZWVuJyk7XG4gICAgICBzdHlsZS5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCAndGV4dC9jc3MnKTtcbiAgICAgIHN0eWxlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKSk7XG4gICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlKTtcbiAgICAgIHJldHVybiBzdHlsZS5zaGVldDtcbiAgICB9KSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIE1lcmdlcyBhIHVzZXIncyBjb25maWd1cmF0aW9uIHdpdGggZGVmYXVsdFxuICAgKiBAcGFyYW0gIHtPYmplY3R9IHVzZXJDb25maWdcbiAgICogQHJldHVybiB7T2JqZWN0fSBjb25maWdcbiAgICovXG4gIHNldCBzZXRDb25maWcodXNlckNvbmZpZykge1xuICAgIGNvbnN0IF90aGlzID0gdGhpcztcbiAgICBjb25zdCBpY29uID0gX3RoaXMuaWNvbjtcbiAgICBsZXQgYnRuVGVtcGxhdGUgPSB7XG4gICAgICAgIHRhZzogJ2J1dHRvbicsXG4gICAgICAgIGNvbnRlbnQ6IFtdLFxuICAgICAgICBhdHRyczoge1xuICAgICAgICAgIGNsYXNzTmFtZTogWydidG4nXSxcbiAgICAgICAgICB0eXBlOiAnYnV0dG9uJ1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgbGV0IGhhbmRsZSA9IGgubWVyZ2UoT2JqZWN0LmFzc2lnbih7fSwgYnRuVGVtcGxhdGUpLCB7XG4gICAgICBjb250ZW50OiBbaWNvbignbW92ZScpLCBpY29uKCdoYW5kbGUnKV0sXG4gICAgICBhdHRyczoge1xuICAgICAgICBjbGFzc05hbWU6IFsnaXRlbS1oYW5kbGUnXSxcbiAgICAgIH0sXG4gICAgICBtZXRhOiB7XG4gICAgICAgIGlkOiAnaGFuZGxlJ1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgbGV0IGVkaXQgPSBoLm1lcmdlKE9iamVjdC5hc3NpZ24oe30sIGJ0blRlbXBsYXRlKSwge1xuICAgICAgY29udGVudDogaWNvbignZWRpdCcpLFxuICAgICAgYXR0cnM6IHtcbiAgICAgICAgY2xhc3NOYW1lOiBbJ2l0ZW0tZWRpdC10b2dnbGUnXSxcbiAgICAgIH0sXG4gICAgICBtZXRhOiB7XG4gICAgICAgIGlkOiAnZWRpdCdcbiAgICAgIH0sXG4gICAgICBhY3Rpb246IHtcbiAgICAgICAgY2xpY2s6IGV2dCA9PiB7XG4gICAgICAgICAgY29uc3QgZWxlbWVudCA9IGNsb3Nlc3RGdHlwZShldnQudGFyZ2V0KTtcbiAgICAgICAgICBsZXQge2ZUeXBlfSA9IGVsZW1lbnQ7XG4gICAgICAgICAgZlR5cGUgPSBmVHlwZS5yZXBsYWNlKC9zJC8sICcnKTtcbiAgICAgICAgICBsZXQgZWRpdENsYXNzID0gJ2VkaXRpbmctJyArIGZUeXBlO1xuICAgICAgICAgIGxldCBlZGl0V2luZG93ID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtmVHlwZX0tZWRpdGApO1xuICAgICAgICAgIGFuaW1hdGUuc2xpZGVUb2dnbGUoZWRpdFdpbmRvdywgMzMzKTtcbiAgICAgICAgICBpZiAoZlR5cGUgPT09ICdmaWVsZCcpIHtcbiAgICAgICAgICAgIGFuaW1hdGUuc2xpZGVUb2dnbGUoZWRpdFdpbmRvdy5uZXh0U2libGluZywgMzMzKTtcbiAgICAgICAgICAgIGVsZW1lbnQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QudG9nZ2xlKCdjb2x1bW4tJyArIGVkaXRDbGFzcyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZShlZGl0Q2xhc3MpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBsZXQgcmVtb3ZlID0gaC5tZXJnZShPYmplY3QuYXNzaWduKHt9LCBidG5UZW1wbGF0ZSksIHtcbiAgICAgIGNvbnRlbnQ6IGljb24oJ3JlbW92ZScpLFxuICAgICAgYXR0cnM6IHtcbiAgICAgICAgY2xhc3NOYW1lOiBbJ2l0ZW0tcmVtb3ZlJ10sXG4gICAgICB9LFxuICAgICAgbWV0YToge1xuICAgICAgICBpZDogJ3JlbW92ZSdcbiAgICAgIH0sXG4gICAgICBhY3Rpb246IHtcbiAgICAgICAgY2xpY2s6IChldnQsIGlkKSA9PiB7XG4gICAgICAgICAgY29uc3QgZWxlbWVudCA9IGNsb3Nlc3RGdHlwZShldnQudGFyZ2V0KTtcbiAgICAgICAgICBhbmltYXRlLnNsaWRlVXAoZWxlbWVudCwgMjUwLCBlbGVtID0+IHtcbiAgICAgICAgICAgIF90aGlzLnJlbW92ZUVtcHR5KGVsZW0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBsZXQgY2xvbmVJdGVtID0gaC5tZXJnZShPYmplY3QuYXNzaWduKHt9LCBidG5UZW1wbGF0ZSksIHtcbiAgICAgIGNvbnRlbnQ6IGljb24oJ2NvcHknKSxcbiAgICAgIGF0dHJzOiB7XG4gICAgICAgIGNsYXNzTmFtZTogWydpdGVtLWNsb25lJ10sXG4gICAgICB9LFxuICAgICAgbWV0YToge1xuICAgICAgICBpZDogJ2Nsb25lJ1xuICAgICAgfSxcbiAgICAgIGFjdGlvbjoge1xuICAgICAgICBjbGljazogZXZ0ID0+IHtcbiAgICAgICAgICBfdGhpcy5jbG9uZShjbG9zZXN0RnR5cGUoZXZ0LnRhcmdldCkpO1xuICAgICAgICAgIGRhdGEuc2F2ZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBsZXQgZGVmYXVsdENvbmZpZyA9IHtcbiAgICAgICAgcm93czoge1xuICAgICAgICAgIGFjdGlvbkJ1dHRvbnM6IHtcbiAgICAgICAgICAgIGJ1dHRvbnM6IFtcbiAgICAgICAgICAgICAgY2xvbmUoaGFuZGxlKSxcbiAgICAgICAgICAgICAgcmVtb3ZlXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgb3JkZXI6IFtdLFxuICAgICAgICAgICAgZGlzYWJsZWQ6IFtdXG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBjb2x1bW5zOiB7XG4gICAgICAgICAgYWN0aW9uQnV0dG9uczoge1xuICAgICAgICAgICAgYnV0dG9uczogW1xuICAgICAgICAgICAgICBjbG9uZShoYW5kbGUpLFxuICAgICAgICAgICAgICByZW1vdmVcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBvcmRlcjogW10sXG4gICAgICAgICAgICBkaXNhYmxlZDogW11cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIGFjdGlvbkJ1dHRvbnM6IHtcbiAgICAgICAgICAgIGJ1dHRvbnM6IFtcbiAgICAgICAgICAgICAgaGFuZGxlLFxuICAgICAgICAgICAgICByZW1vdmVcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBvcmRlcjogW10sXG4gICAgICAgICAgICBkaXNhYmxlZDogW11cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICBkZWZhdWx0Q29uZmlnLnJvd3MuYWN0aW9uQnV0dG9ucy5idXR0b25zWzBdLmNvbnRlbnQgPSBbXG4gICAgICBpY29uKCdtb3ZlLXZlcnRpY2FsJyksXG4gICAgICBpY29uKCdoYW5kbGUnKVxuICAgIF07XG4gICAgZGVmYXVsdENvbmZpZy5jb2x1bW5zLmFjdGlvbkJ1dHRvbnMuYnV0dG9uc1swXS5jb250ZW50ID0gW1xuICAgICAgaWNvbignbW92ZScpLFxuICAgICAgaWNvbignaGFuZGxlJyksXG4gICAgXTtcblxuICAgIGxldCBtZXJnZWRDb25maWcgPSBoLm1lcmdlKGRlZmF1bHRDb25maWcsIHVzZXJDb25maWcpO1xuXG4gICAgT2JqZWN0LmtleXMobWVyZ2VkQ29uZmlnKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICBpZiAobWVyZ2VkQ29uZmlnW2tleV0uYWN0aW9uQnV0dG9ucykge1xuICAgICAgICBjb25zdCBhQnV0dG9ucyA9IG1lcmdlZENvbmZpZ1trZXldLmFjdGlvbkJ1dHRvbnM7XG4gICAgICAgIGNvbnN0IGRpc2FibGVkID0gYUJ1dHRvbnMuZGlzYWJsZWQ7XG4gICAgICAgIGxldCBidXR0b25zID0gYUJ1dHRvbnMuYnV0dG9ucztcblxuICAgICAgICAvLyBPcmRlciBidXR0b25zXG4gICAgICAgIGFCdXR0b25zLmJ1dHRvbnMgPSBoLm9yZGVyT2JqZWN0c0J5KGJ1dHRvbnMsIGFCdXR0b25zLm9yZGVyLCAnbWV0YS5pZCcpO1xuICAgICAgICAvLyBmaWx0ZXIgZGlzYWJsZWQgYnV0dG9uc1xuICAgICAgICBhQnV0dG9ucy5idXR0b25zID0gYUJ1dHRvbnMuYnV0dG9ucy5maWx0ZXIoYnV0dG9uID0+IHtcbiAgICAgICAgICBsZXQgbWV0YUlkID0gaC5nZXQoYnV0dG9uLCAnbWV0YS5pZCcpO1xuICAgICAgICAgIHJldHVybiAhaC5pbkFycmF5KG1ldGFJZCwgZGlzYWJsZWQpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIG92ZXJyaWRlcyBsYW5ndWFnZSBzZXQgZGlyXG4gICAgaWYgKG1lcmdlZENvbmZpZy5kaXIpIHtcbiAgICAgIHRoaXMuZGlyID0gbWVyZ2VkQ29uZmlnLmRpcjtcbiAgICB9XG5cbiAgICB0aGlzLmNvbmZpZyA9IG1lcmdlZENvbmZpZztcblxuICAgIHJldHVybiB0aGlzLmNvbmZpZztcbiAgfVxuXG4gIC8qKlxuICAgKiBFbnN1cmUgZWxlbWVudHMgaGF2ZSBwcm9wZXIgdGFnTmFtZVxuICAgKiBAcGFyYW0gIHtPYmplY3R8U3RyaW5nfSBlbGVtXG4gICAqIEByZXR1cm4ge09iamVjdH0gdmFsaWQgZWxlbWVudCBvYmplY3RcbiAgICovXG4gIHByb2Nlc3NUYWdOYW1lKGVsZW0pIHtcbiAgICBsZXQgdGFnTmFtZTtcbiAgICBpZiAodHlwZW9mIGVsZW0gPT09ICdzdHJpbmcnKSB7XG4gICAgICB0YWdOYW1lID0gZWxlbTtcbiAgICAgIGVsZW0gPSB7dGFnOiB0YWdOYW1lfTtcbiAgICB9XG4gICAgaWYgKGVsZW0uYXR0cnMpIHtcbiAgICAgIGxldCB0YWcgPSBlbGVtLmF0dHJzLnRhZztcbiAgICAgIGlmICh0YWcpIHtcbiAgICAgICAgbGV0IHNlbGVjdGVkVGFnID0gdGFnLmZpbHRlcih0ID0+ICh0LnNlbGVjdGVkID09PSB0cnVlKSk7XG4gICAgICAgIGlmIChzZWxlY3RlZFRhZy5sZW5ndGgpIHtcbiAgICAgICAgICB0YWdOYW1lID0gc2VsZWN0ZWRUYWdbMF0udmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBlbGVtLnRhZyA9IHRhZ05hbWUgfHwgZWxlbS50YWc7XG5cbiAgICByZXR1cm4gZWxlbTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIERPTSBlbGVtZW50c1xuICAgKiBAcGFyYW0gIHtPYmplY3R9ICBlbGVtICAgICAgZWxlbWVudCBjb25maWcgb2JqZWN0XG4gICAqIEBwYXJhbSAge0Jvb2xlYW59IGlzUHJldmlldyBnZW5lcmF0aW5nIGVsZW1lbnQgZm9yIHByZXZpZXcgb3IgcmVuZGVyP1xuICAgKiBAcmV0dXJuIHtPYmplY3R9ICAgICAgICAgICAgRE9NIE9iamVjdFxuICAgKi9cbiAgY3JlYXRlKGVsZW0sIGlzUHJldmlldyA9IGZhbHNlKSB7XG4gICAgZWxlbSA9IHRoaXMucHJvY2Vzc1RhZ05hbWUoZWxlbSk7XG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICBsZXQgY29udGVudFR5cGU7XG4gICAgbGV0IHt0YWd9ID0gZWxlbTtcbiAgICBsZXQgcHJvY2Vzc2VkID0gW107XG4gICAgbGV0IGk7XG4gICAgbGV0IHdyYXAgPSB7XG4gICAgICB0YWc6ICdkaXYnLFxuICAgICAgYXR0cnM6IHt9LFxuICAgICAgY2xhc3NOYW1lOiBbaC5nZXQoZWxlbSwgJ2NvbmZpZy5pbnB1dFdyYXAnKSB8fCAnZi1maWVsZC1ncm91cCddLFxuICAgICAgY29udGVudDogW10sXG4gICAgICBjb25maWc6IHt9XG4gICAgfTtcbiAgICBsZXQgcmVxdWlyZWRNYXJrID0ge1xuICAgICAgdGFnOiAnc3BhbicsXG4gICAgICBjbGFzc05hbWU6ICd0ZXh0LWVycm9yJyxcbiAgICAgIGNvbnRlbnQ6ICcqJ1xuICAgIH07XG4gICAgbGV0IGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZyk7XG4gICAgbGV0IHJlcXVpcmVkID0gaC5nZXQoZWxlbSwgJ2F0dHJzLnJlcXVpcmVkJyk7XG5cbiAgICAvKipcbiAgICAgKiBPYmplY3QgZm9yIG1hcHBpbmcgY29udGVudFR5cGUgdG8gaXRzIGZ1bmN0aW9uXG4gICAgICogQHR5cGUge09iamVjdH1cbiAgICAgKi9cbiAgICBsZXQgYXBwZW5kQ29udGVudCA9IHtcbiAgICAgIHN0cmluZzogY29udGVudCA9PiB7XG4gICAgICAgIGVsZW1lbnQuaW5uZXJIVE1MICs9IGNvbnRlbnQ7XG4gICAgICB9LFxuICAgICAgb2JqZWN0OiBjb250ZW50ID0+IHtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQuYXBwZW5kQ2hpbGQoX3RoaXMuY3JlYXRlKGNvbnRlbnQpKTtcbiAgICAgIH0sXG4gICAgICBub2RlOiBjb250ZW50ID0+IHtcbiAgICAgICAgcmV0dXJuIGVsZW1lbnQuYXBwZW5kQ2hpbGQoY29udGVudCk7XG4gICAgICB9LFxuICAgICAgYXJyYXk6IGNvbnRlbnQgPT4ge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvbnRlbnQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBjb250ZW50VHlwZSA9IF90aGlzLmNvbnRlbnRUeXBlKGNvbnRlbnRbaV0pO1xuICAgICAgICAgIGFwcGVuZENvbnRlbnRbY29udGVudFR5cGVdKGNvbnRlbnRbaV0pO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgZnVuY3Rpb246IGNvbnRlbnQgPT4ge1xuICAgICAgICBjb250ZW50ID0gY29udGVudCgpO1xuICAgICAgICBjb250ZW50VHlwZSA9IF90aGlzLmNvbnRlbnRUeXBlKGNvbnRlbnQpO1xuICAgICAgICBhcHBlbmRDb250ZW50W2NvbnRlbnRUeXBlXShjb250ZW50KTtcbiAgICAgIH0sXG4gICAgICB1bmRlZmluZWQ6ICgpID0+IG51bGxcbiAgICB9O1xuXG4gICAgcHJvY2Vzc2VkLnB1c2goJ3RhZycpO1xuXG5cbiAgICAvLyBjaGVjayBmb3Igcm9vdCBjbGFzc05hbWUgcHJvcGVydHlcbiAgICBpZiAoZWxlbS5jbGFzc05hbWUpIHtcbiAgICAgIGxldCB7Y2xhc3NOYW1lfSA9IGVsZW07XG4gICAgICBlbGVtLmF0dHJzID0gT2JqZWN0LmFzc2lnbih7fSwgZWxlbS5hdHRycywge2NsYXNzTmFtZX0pO1xuICAgICAgZGVsZXRlIGVsZW0uY2xhc3NOYW1lO1xuICAgIH1cblxuICAgIC8vIEFwcGVuZCBFbGVtZW50IENvbnRlbnRcbiAgICBpZiAoZWxlbS5vcHRpb25zKSB7XG4gICAgICBsZXQge29wdGlvbnN9ID0gZWxlbTtcbiAgICAgIG9wdGlvbnMgPSB0aGlzLnByb2Nlc3NPcHRpb25zKG9wdGlvbnMsIGVsZW0sIGlzUHJldmlldyk7XG4gICAgICBpZiAodGhpcy5ob2xkc0NvbnRlbnQoZWxlbWVudCkgJiYgdGFnICE9PSAnYnV0dG9uJykge1xuICAgICAgICAvLyBtYWlubHkgdXNlZCBmb3IgPHNlbGVjdD4gdGFnXG4gICAgICAgIGFwcGVuZENvbnRlbnQuYXJyYXkuY2FsbCh0aGlzLCBvcHRpb25zKTtcbiAgICAgICAgZGVsZXRlIGVsZW0uY29udGVudDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGguZm9yRWFjaChvcHRpb25zLCBvcHRpb24gPT4ge1xuICAgICAgICAgIHdyYXAuY29udGVudC5wdXNoKF90aGlzLmNyZWF0ZShvcHRpb24sIGlzUHJldmlldykpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoZWxlbS5hdHRycy5jbGFzc05hbWUpIHtcbiAgICAgICAgICB3cmFwLmNsYXNzTmFtZSA9IGVsZW0uYXR0cnMuY2xhc3NOYW1lO1xuICAgICAgICB9XG5cbiAgICAgICAgd3JhcC5jb25maWcgPSBPYmplY3QuYXNzaWduKHt9LCBlbGVtLmNvbmZpZyk7XG4gICAgICAgIHdyYXAuY2xhc3NOYW1lLnB1c2ggPSBoLmdldChlbGVtLCAnYXR0cnMuY2xhc3NOYW1lJyk7XG5cblxuICAgICAgICBpZiAocmVxdWlyZWQpIHtcbiAgICAgICAgICB3cmFwLmF0dHJzLnJlcXVpcmVkID0gcmVxdWlyZWQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGUod3JhcCwgaXNQcmV2aWV3KTtcbiAgICAgIH1cblxuICAgICAgcHJvY2Vzc2VkLnB1c2goJ29wdGlvbnMnKTtcbiAgICB9XG5cbiAgICAvLyBTZXQgZWxlbWVudCBhdHRyaWJ1dGVzXG4gICAgaWYgKGVsZW0uYXR0cnMpIHtcbiAgICAgIF90aGlzLnByb2Nlc3NBdHRycyhlbGVtLCBlbGVtZW50LCBpc1ByZXZpZXcpO1xuICAgICAgcHJvY2Vzc2VkLnB1c2goJ2F0dHJzJyk7XG4gICAgfVxuXG4gICAgaWYgKGVsZW0uY29uZmlnKSB7XG4gICAgICBsZXQgZWRpdGFibGVQcmV2aWV3ID0gKGVsZW0uY29uZmlnLmVkaXRhYmxlICYmIGlzUHJldmlldyk7XG4gICAgICBpZiAoZWxlbS5jb25maWcubGFiZWwgJiYgdGFnICE9PSAnYnV0dG9uJykge1xuICAgICAgICBsZXQgbGFiZWw7XG5cbiAgICAgICAgaWYgKGlzUHJldmlldykge1xuICAgICAgICAgIGxhYmVsID0gX3RoaXMubGFiZWwoZWxlbSwgJ2NvbmZpZy5sYWJlbCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxhYmVsID0gX3RoaXMubGFiZWwoZWxlbSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWVsZW0uY29uZmlnLmhpZGVMYWJlbCkge1xuICAgICAgICAgIGlmIChfdGhpcy5sYWJlbEFmdGVyKGVsZW0pKSB7XG4gICAgICAgICAgICAvLyBhZGQgY2hlY2sgZm9yIGlubGluZSBjaGVja2JveFxuICAgICAgICAgICAgd3JhcC5jbGFzc05hbWUgPSBgZi0ke2VsZW0uYXR0cnMudHlwZX1gO1xuXG4gICAgICAgICAgICBsYWJlbC5pbnNlcnRCZWZvcmUoZWxlbWVudCwgbGFiZWwuZmlyc3RDaGlsZCk7XG4gICAgICAgICAgICB3cmFwLmNvbnRlbnQucHVzaChsYWJlbCk7XG4gICAgICAgICAgICBpZiAocmVxdWlyZWQpIHtcbiAgICAgICAgICAgICAgd3JhcC5jb250ZW50LnB1c2gocmVxdWlyZWRNYXJrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgd3JhcC5jb250ZW50LnB1c2gobGFiZWwpO1xuICAgICAgICAgICAgaWYgKHJlcXVpcmVkKSB7XG4gICAgICAgICAgICAgIHdyYXAuY29udGVudC5wdXNoKHJlcXVpcmVkTWFyayk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3cmFwLmNvbnRlbnQucHVzaChlbGVtZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoZWRpdGFibGVQcmV2aWV3KSB7XG4gICAgICAgICAgZWxlbWVudC5jb250ZW50RWRpdGFibGUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGVkaXRhYmxlUHJldmlldykge1xuICAgICAgICBlbGVtZW50LmNvbnRlbnRFZGl0YWJsZSA9IHRydWU7XG4gICAgICB9XG5cbiAgICAgIHByb2Nlc3NlZC5wdXNoKCdjb25maWcnKTtcbiAgICB9XG5cbiAgICAvLyBBcHBlbmQgRWxlbWVudCBDb250ZW50XG4gICAgaWYgKGVsZW0uY29udGVudCkge1xuICAgICAgY29udGVudFR5cGUgPSBfdGhpcy5jb250ZW50VHlwZShlbGVtLmNvbnRlbnQpO1xuICAgICAgYXBwZW5kQ29udGVudFtjb250ZW50VHlwZV0uY2FsbCh0aGlzLCBlbGVtLmNvbnRlbnQpO1xuICAgICAgcHJvY2Vzc2VkLnB1c2goJ2NvbnRlbnQnKTtcbiAgICB9XG5cbiAgICAvLyBTZXQgdGhlIG5ldyBlbGVtZW50J3MgZGF0YXNldFxuICAgIGlmIChlbGVtLmRhdGFzZXQpIHtcbiAgICAgIGZvciAoY29uc3QgZGF0YSBpbiBlbGVtLmRhdGFzZXQpIHtcbiAgICAgICAgaWYgKGVsZW0uZGF0YXNldC5oYXNPd25Qcm9wZXJ0eShkYXRhKSkge1xuICAgICAgICAgIGVsZW1lbnQuZGF0YXNldFtkYXRhXSA9IGVsZW0uZGF0YXNldFtkYXRhXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcHJvY2Vzc2VkLnB1c2goJ2RhdGFzZXQnKTtcbiAgICB9XG5cbiAgICAvLyBBZGQgbGlzdGVuZXJzIGZvciBkZWZpbmVkIGFjdGlvbnNcbiAgICBpZiAoZWxlbS5hY3Rpb24pIHtcbiAgICAgIGxldCBhY3Rpb25zID0gT2JqZWN0LmtleXMoZWxlbS5hY3Rpb24pO1xuICAgICAgZm9yIChpID0gYWN0aW9ucy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBsZXQgZXZlbnQgPSBhY3Rpb25zW2ldO1xuICAgICAgICBsZXQgYWN0aW9uID0gZWxlbS5hY3Rpb25bZXZlbnRdO1xuICAgICAgICBpZiAodHlwZW9mIGFjdGlvbiA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICBhY3Rpb24gPSBldmFsKGAoJHtlbGVtLmFjdGlvbltldmVudF19KWApO1xuICAgICAgICB9XG4gICAgICAgIGxldCB1c2VDYXB0dXJlRXZ0cyA9IFtcbiAgICAgICAgICAnZm9jdXMnLFxuICAgICAgICAgICdibHVyJ1xuICAgICAgICBdO1xuXG4gICAgICAgIC8vIGRpcnR5IGhhY2sgdG8gaGFuZGxlIG9uUmVuZGVyIGNhbGxiYWNrXG4gICAgICAgIGlmIChldmVudCA9PT0gJ29uUmVuZGVyJykge1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgYWN0aW9uKGVsZW1lbnQpO1xuICAgICAgICAgIH0sIDEwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsZXQgdXNlQ2FwdHVyZSA9IGguaW5BcnJheShldmVudCwgdXNlQ2FwdHVyZUV2dHMpO1xuICAgICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgYWN0aW9uLCB1c2VDYXB0dXJlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcHJvY2Vzc2VkLnB1c2goJ2FjdGlvbicpO1xuICAgIH1cblxuICAgIGxldCBmaWVsZERhdGFCaW5kaW5ncyA9IFtcbiAgICAgICdzdGFnZScsXG4gICAgICAncm93JyxcbiAgICAgICdjb2x1bW4nLFxuICAgICAgJ2ZpZWxkJ1xuICAgIF07XG5cbiAgICBpZiAoaC5pbkFycmF5KGVsZW0uZlR5cGUsIGZpZWxkRGF0YUJpbmRpbmdzKSkge1xuICAgICAgbGV0IGRhdGFUeXBlID0gZWxlbS5mVHlwZSArICdEYXRhJztcbiAgICAgIGVsZW1lbnRbZGF0YVR5cGVdID0gZWxlbTtcbiAgICAgIGlmIChkYXRhVHlwZSA9PT0gJ2ZpZWxkRGF0YScpIHtcbiAgICAgICAgZWxlbWVudC5wYW5lbE5hdiA9IGVsZW0ucGFuZWxOYXY7XG4gICAgICB9XG4gICAgICBwcm9jZXNzZWQucHVzaChkYXRhVHlwZSk7XG4gICAgfVxuXG4gICAgLy8gU3VidHJhY3QgcHJvY2Vzc2VkIGFuZCBpZ25vcmVkIGFuZCBhdHRhY2ggdGhlIHJlc3RcbiAgICBsZXQgcmVtYWluaW5nID0gaC5zdWJ0cmFjdChwcm9jZXNzZWQsIE9iamVjdC5rZXlzKGVsZW0pKTtcbiAgICBmb3IgKGkgPSByZW1haW5pbmcubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIGVsZW1lbnRbcmVtYWluaW5nW2ldXSA9IGVsZW1bcmVtYWluaW5nW2ldXTtcbiAgICB9XG5cbiAgICBpZiAod3JhcC5jb250ZW50Lmxlbmd0aCkge1xuICAgICAgZWxlbWVudCA9IHRoaXMuY3JlYXRlKHdyYXApO1xuICAgIH1cblxuICAgIHJldHVybiBlbGVtZW50O1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhbmQgU1ZHIG9yIGZvbnQgaWNvbi5cbiAgICogU2ltcGxlIHN0cmluZyBjb25jYXRlbmF0aW9uIGluc3RlYWQgb2YgRE9NLmNyZWF0ZSBiZWNhdXNlOlxuICAgKiAgLSB3ZSBkb24ndCBuZWVkIHRoZSBwZXJrcyBvZiBoYXZpbmcgaWNvbnMgYmUgRE9NIG9iamVjdHMgYXQgdGhpcyBzdGFnZVxuICAgKiAgLSBpdCBmb3JjZXMgdGhlIGljb24gdG8gYmUgYXBwZW5kZWQgdXNpbmcgaW5uZXJIVE1MIHdoaWNoIGhlbHBzIHN2ZyByZW5kZXJcbiAgICogQHBhcmFtICB7U3RyaW5nfSBuYW1lIC0gaWNvbiBuYW1lXG4gICAqIEByZXR1cm4ge1N0cmluZ30gaWNvbiBtYXJrdXBcbiAgICovXG4gIGljb24obmFtZSkge1xuICAgIGxldCBpY29uTGluayA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpY29uLScgKyBuYW1lKTtcbiAgICBsZXQgaWNvbjtcblxuICAgIGlmIChpY29uTGluaykge1xuICAgICAgaWNvbiA9IGA8c3ZnIGNsYXNzPVwic3ZnLWljb24gaWNvbi0ke25hbWV9XCI+PHVzZSB4bWxuczp4bGluaz1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmtcIiB4bGluazpocmVmPVwiI2ljb24tJHtuYW1lfVwiPjwvdXNlPjwvc3ZnPmA7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICBpY29uID0gYDxzcGFuIGNsYXNzPVwiZ2x5cGhpY29uIGdseXBoaWNvbi0ke25hbWV9XCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9zcGFuPmA7XG4gICAgfVxuICAgIHJldHVybiBpY29uO1xuICB9XG5cbiAgLyoqXG4gICAqIEpTIE9iamVjdCB0byBET00gYXR0cmlidXRlc1xuICAgKiBAcGFyYW0gIHtPYmplY3R9IGVsZW0gICAgZWxlbWVudCBjb25maWcgb2JqZWN0XG4gICAqIEBwYXJhbSAge09iamVjdH0gZWxlbWVudCBET00gZWxlbWVudCB3ZSBhcmUgYnVpbGRpbmdcbiAgICogQHBhcmFtICB7Qm9vbGVhbn0gaXNQcmV2aWV3XG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICBwcm9jZXNzQXR0cnMoZWxlbSwgZWxlbWVudCwgaXNQcmV2aWV3KSB7XG4gICAgbGV0IHthdHRycyA9IHt9fSA9IGVsZW07XG4gICAgZGVsZXRlIGF0dHJzLnRhZztcblxuICAgIGlmICghaXNQcmV2aWV3KSB7XG4gICAgICBpZiAoIWF0dHJzLm5hbWUgJiYgdGhpcy5pc0lucHV0KGVsZW0udGFnKSkge1xuICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnbmFtZScsIHV1aWQoZWxlbSkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFNldCBlbGVtZW50IGF0dHJpYnV0ZXNcbiAgICBPYmplY3Qua2V5cyhhdHRycykuZm9yRWFjaChhdHRyID0+IHtcbiAgICAgIGxldCBuYW1lID0gaC5zYWZlQXR0ck5hbWUoYXR0cik7XG4gICAgICBsZXQgdmFsdWUgPSBhdHRyc1thdHRyXSB8fCAnJztcblxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWVbMF0gPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgbGV0IHNlbGVjdGVkID0gdmFsdWUuZmlsdGVyKHQgPT4gKHQuc2VsZWN0ZWQgPT09IHRydWUpKTtcbiAgICAgICAgICB2YWx1ZSA9IHNlbGVjdGVkLmxlbmd0aCA/IHNlbGVjdGVkWzBdLnZhbHVlIDogdmFsdWVbMF0udmFsdWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFsdWUgPSB2YWx1ZS5qb2luKCcgJyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKG5hbWUsIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZW5lcmF0ZSBhIGZhbmN5IGNoZWNrYm94IG9yIHJhZGlvXG4gICAqIEBwYXJhbSAge09iamVjdH0gIGVsZW1cbiAgICogQHBhcmFtICB7Qm9vbGVhbn0gaXNQcmV2aWV3XG4gICAqIEByZXR1cm4ge09iamVjdH0gY2hlY2thYmxlXG4gICAqL1xuICBjaGVja2JveChlbGVtLCBpc1ByZXZpZXcpIHtcbiAgICBsZXQgbGFiZWwgPSBoLmdldChlbGVtLCAnZWxlbS5jb25maWcubGFiZWwnKSB8fCAnJztcbiAgICBsZXQgY2hlY2thYmxlID0ge1xuICAgICAgdGFnOiAnc3BhbicsXG4gICAgICBjbGFzc05hbWU6ICdjaGVja2FibGUnLFxuICAgICAgY29udGVudDogbGFiZWxcbiAgICB9O1xuICAgIGxldCBvcHRpb25MYWJlbCA9IHtcbiAgICAgIHRhZzogJ2xhYmVsJyxcbiAgICAgIGF0dHJzOiB7fSxcbiAgICAgIGNvbnRlbnQ6IFtlbGVtLCBjaGVja2FibGVdXG4gICAgfTtcblxuICAgIC8vIGlmIChpc1ByZXZpZXcpIHtcbiAgICAvLyAgIGlucHV0LmZNYXAgPSBgb3B0aW9uc1ske2l9XS5zZWxlY3RlZGA7XG4gICAgLy8gICBvcHRpb25MYWJlbC5hdHRycy5jb250ZW50ZWRpdGFibGUgPSB0cnVlO1xuICAgIC8vICAgb3B0aW9uTGFiZWwuZk1hcCA9IGBvcHRpb25zWyR7aX1dLmxhYmVsYDtcbiAgICAvLyAgIGNoZWNrYWJsZS5jb250ZW50ID0gdW5kZWZpbmVkO1xuICAgIC8vICAgbGV0IGNoZWNrYWJsZUxhYmVsID0ge1xuICAgIC8vICAgICB0YWc6ICdsYWJlbCcsXG4gICAgLy8gICAgIGNvbnRlbnQ6IFtpbnB1dCwgY2hlY2thYmxlXVxuICAgIC8vICAgfTtcbiAgICAvLyAgIGlucHV0V3JhcC5jb250ZW50LnVuc2hpZnQoY2hlY2thYmxlTGFiZWwpO1xuICAgIC8vICAgLy8gaW5wdXRXcmFwLmNvbnRlbnQudW5zaGlmdChpbnB1dCk7XG4gICAgLy8gfSBlbHNlIHtcbiAgICAvLyAgIGlucHV0LmF0dHJzLm5hbWUgPSBlbGVtLmlkO1xuICAgIC8vICAgb3B0aW9uTGFiZWwuY29udGVudCA9IGNoZWNrYWJsZTtcbiAgICAvLyAgIG9wdGlvbkxhYmVsID0gZG9tLmNyZWF0ZShvcHRpb25MYWJlbCk7XG4gICAgLy8gICBpbnB1dCA9IGRvbS5jcmVhdGUoaW5wdXQpO1xuICAgIC8vICAgb3B0aW9uTGFiZWwuaW5zZXJ0QmVmb3JlKGlucHV0LCBvcHRpb25MYWJlbC5maXJzdENoaWxkKTtcbiAgICAvLyAgIGlucHV0V3JhcC5jb250ZW50ID0gb3B0aW9uTGFiZWw7XG4gICAgLy8gfVxuXG4gICAgcmV0dXJuIG9wdGlvbkxhYmVsO1xuICB9XG5cbiAgLyoqXG4gICAqIEV4dGVuZCBBcnJheSBvZiBvcHRpb24gY29uZmlnIG9iamVjdHNcbiAgICogQHBhcmFtICB7QXJyYXl9IG9wdGlvbnNcbiAgICogQHBhcmFtICB7T2JqZWN0fSBlbGVtIGVsZW1lbnQgY29uZmlnIG9iamVjdFxuICAgKiBAcGFyYW0gIHtCb29sZWFufSBpc1ByZXZpZXdcbiAgICogQHJldHVybiB7QXJyYXl9IG9wdGlvbiBjb25maWcgb2JqZWN0c1xuICAgKi9cbiAgcHJvY2Vzc09wdGlvbnMob3B0aW9ucywgZWxlbSwgaXNQcmV2aWV3KSB7XG4gICAgbGV0IHthY3Rpb24sIGF0dHJzfSA9IGVsZW07XG4gICAgbGV0IGZpZWxkVHlwZSA9IGF0dHJzLnR5cGUgfHwgZWxlbS50YWc7XG4gICAgbGV0IGlkID0gYXR0cnMuaWQgfHwgZWxlbS5pZDtcblxuICAgIGxldCBvcHRpb25NYXAgPSAob3B0aW9uLCBpKSA9PiB7XG4gICAgICBjb25zdCBkZWZhdWx0SW5wdXQgPSAoKSA9PiB7XG4gICAgICAgIGxldCBpbnB1dCA9IHtcbiAgICAgICAgICB0YWc6ICdpbnB1dCcsXG4gICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgIGlkOiBpZCxcbiAgICAgICAgICAgIHR5cGU6IGZpZWxkVHlwZSxcbiAgICAgICAgICAgIHZhbHVlOiBvcHRpb24udmFsdWUgfHwgJydcbiAgICAgICAgICB9LFxuICAgICAgICAgIGFjdGlvblxuICAgICAgICB9O1xuICAgICAgICBsZXQgY2hlY2thYmxlID0ge1xuICAgICAgICAgIHRhZzogJ3NwYW4nLFxuICAgICAgICAgIGNsYXNzTmFtZTogJ2NoZWNrYWJsZScsXG4gICAgICAgICAgY29udGVudDogb3B0aW9uLmxhYmVsXG4gICAgICAgIH07XG4gICAgICAgIGxldCBvcHRpb25MYWJlbCA9IHtcbiAgICAgICAgICB0YWc6ICdsYWJlbCcsXG4gICAgICAgICAgYXR0cnM6IHt9LFxuICAgICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgICAgaW5wdXRXcmFwOiAnZm9ybS1jaGVjaydcbiAgICAgICAgICB9LFxuICAgICAgICAgIGNvbnRlbnQ6IFtvcHRpb24ubGFiZWxdXG4gICAgICAgIH07XG4gICAgICAgIGxldCBpbnB1dFdyYXAgPSB7XG4gICAgICAgICAgdGFnOiAnZGl2JyxcbiAgICAgICAgICBjb250ZW50OiBbb3B0aW9uTGFiZWxdLFxuICAgICAgICAgIGNsYXNzTmFtZTogW2BmLSR7ZmllbGRUeXBlfWBdXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGVsZW0uYXR0cnMuY2xhc3NOYW1lKSB7XG4gICAgICAgICAgZWxlbS5jb25maWcuaW5wdXRXcmFwID0gZWxlbS5hdHRycy5jbGFzc05hbWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZWxlbS5jb25maWcuaW5saW5lKSB7XG4gICAgICAgICAgaW5wdXRXcmFwLmNsYXNzTmFtZS5wdXNoKCdmLSR7ZmllbGRUeXBlfS1pbmxpbmUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb24uc2VsZWN0ZWQpIHtcbiAgICAgICAgICBpbnB1dC5hdHRycy5jaGVja2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpc1ByZXZpZXcpIHtcbiAgICAgICAgICBpbnB1dC5mTWFwID0gYG9wdGlvbnNbJHtpfV0uc2VsZWN0ZWRgO1xuICAgICAgICAgIG9wdGlvbkxhYmVsLmF0dHJzLmNvbnRlbnRlZGl0YWJsZSA9IHRydWU7XG4gICAgICAgICAgb3B0aW9uTGFiZWwuZk1hcCA9IGBvcHRpb25zWyR7aX1dLmxhYmVsYDtcbiAgICAgICAgICBjaGVja2FibGUuY29udGVudCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBsZXQgY2hlY2thYmxlTGFiZWwgPSB7XG4gICAgICAgICAgICB0YWc6ICdsYWJlbCcsXG4gICAgICAgICAgICBjb250ZW50OiBbaW5wdXQsIGNoZWNrYWJsZV1cbiAgICAgICAgICB9O1xuICAgICAgICAgIGlucHV0V3JhcC5jb250ZW50LnVuc2hpZnQoY2hlY2thYmxlTGFiZWwpO1xuICAgICAgICAgIC8vIGlucHV0V3JhcC5jb250ZW50LnVuc2hpZnQoaW5wdXQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlucHV0LmF0dHJzLm5hbWUgPSBpZDtcbiAgICAgICAgICBvcHRpb25MYWJlbC5jb250ZW50ID0gY2hlY2thYmxlO1xuICAgICAgICAgIG9wdGlvbkxhYmVsID0gZG9tLmNyZWF0ZShvcHRpb25MYWJlbCk7XG4gICAgICAgICAgaW5wdXQgPSBkb20uY3JlYXRlKGlucHV0KTtcbiAgICAgICAgICBvcHRpb25MYWJlbC5pbnNlcnRCZWZvcmUoaW5wdXQsIG9wdGlvbkxhYmVsLmZpcnN0Q2hpbGQpO1xuICAgICAgICAgIGlucHV0V3JhcC5jb250ZW50ID0gb3B0aW9uTGFiZWw7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaW5wdXRXcmFwO1xuICAgICAgfTtcblxuICAgICAgbGV0IG9wdGlvbk1hcmt1cCA9IHtcbiAgICAgICAgc2VsZWN0OiAoKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRhZzogJ29wdGlvbicsXG4gICAgICAgICAgICBhdHRyczogb3B0aW9uLFxuICAgICAgICAgICAgY29udGVudDogb3B0aW9uLmxhYmVsXG4gICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgYnV0dG9uOiBvcHRpb24gPT4ge1xuICAgICAgICAgIGxldCB7dHlwZSwgbGFiZWwsIGNsYXNzTmFtZSwgaWR9ID0gb3B0aW9uO1xuICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBlbGVtLCB7XG4gICAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgICB0eXBlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2xhc3NOYW1lLFxuICAgICAgICAgICAgaWQ6IGlkIHx8IHV1aWQoKSxcbiAgICAgICAgICAgIG9wdGlvbnM6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGNvbnRlbnQ6IGxhYmVsLFxuICAgICAgICAgICAgYWN0aW9uOiBlbGVtLmFjdGlvblxuICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuICAgICAgICBjaGVja2JveDogZGVmYXVsdElucHV0LFxuICAgICAgICByYWRpbzogZGVmYXVsdElucHV0XG4gICAgICB9O1xuXG4gICAgICByZXR1cm4gb3B0aW9uTWFya3VwW2ZpZWxkVHlwZV0ob3B0aW9uKTtcbiAgICB9O1xuXG4gICAgY29uc3QgbWFwcGVkT3B0aW9ucyA9IG9wdGlvbnMubWFwKG9wdGlvbk1hcCk7XG5cbiAgICByZXR1cm4gbWFwcGVkT3B0aW9ucztcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgdGhlcmUgaXMgYSBjbG9zaW5nIHRhZywgaWYgc28gaXQgY2FuIGhvbGQgY29udGVudFxuICAgKiBAcGFyYW0gIHtPYmplY3R9IGVsZW1lbnQgRE9NIGVsZW1lbnRcbiAgICogQHJldHVybiB7Qm9vbGVhbn0gaG9sZHNDb250ZW50XG4gICAqL1xuICBob2xkc0NvbnRlbnQoZWxlbWVudCkge1xuICAgIHJldHVybiAoZWxlbWVudC5vdXRlckhUTUwuaW5kZXhPZignLycpICE9PSAtMSk7XG4gIH1cblxuICAvKipcbiAgICogSXMgdGhpcyBhIHRleHRhcmVhLCBzZWxlY3Qgb3Igb3RoZXIgYmxvY2sgaW5wdXRcbiAgICogYWxzbyBpc0NvbnRlbnRFZGl0YWJsZVxuICAgKiBAcGFyYW0gIHtPYmplY3R9ICBlbGVtZW50XG4gICAqIEByZXR1cm4ge0Jvb2xlYW59XG4gICAqL1xuICBpc0Jsb2NrSW5wdXQoZWxlbWVudCkge1xuICAgIHJldHVybiAoIXRoaXMuaXNJbnB1dChlbGVtZW50KSAmJiB0aGlzLmhvbGRzQ29udGVudChlbGVtZW50KSk7XG4gIH1cblxuICAvKipcbiAgICogRGV0ZXJtaW5lIGlmIGFuIGVsZW1lbnQgaXMgYW4gaW5wdXQgZmllbGRcbiAgICogQHBhcmFtICB7U3RyaW5nfE9iamVjdH0gdGFnIHRhZ05hbWUgb3IgRE9NIGVsZW1lbnRcbiAgICogQHJldHVybiB7Qm9vbGVhbn0gaXNJbnB1dFxuICAgKi9cbiAgaXNJbnB1dCh0YWcpIHtcbiAgICBpZiAodHlwZW9mIHRhZyAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHRhZyA9IHRhZy50YWdOYW1lO1xuICAgIH1cbiAgICByZXR1cm4gKFsnaW5wdXQnLCAndGV4dGFyZWEnLCAnc2VsZWN0J10uaW5kZXhPZih0YWcpICE9PSAtMSk7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgZXNjYXBlZCBIVE1MIGludG8gdXNhYmxlIEhUTUxcbiAgICogQHBhcmFtICB7U3RyaW5nfSBodG1sIGVzY2FwZWQgSFRNTFxuICAgKiBAcmV0dXJuIHtTdHJpbmd9ICAgICAgcGFyc2VkIEhUTUxcbiAgICovXG4gIHBhcnNlZEh0bWwoaHRtbCkge1xuICAgIGxldCBlc2NhcGVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndGV4dGFyZWEnKTtcbiAgICBlc2NhcGVFbGVtZW50LmlubmVySFRNTCA9IGh0bWw7XG4gICAgcmV0dXJuIGVzY2FwZUVsZW1lbnQudGV4dENvbnRlbnQ7XG4gIH1cblxuICAvKipcbiAgICogVGVzdCBpZiBsYWJlbCBzaG91bGQgYmUgZGlzcGxheSBiZWZvcmUgb3IgYWZ0ZXIgYW4gZWxlbWVudFxuICAgKiBAcGFyYW0gIHtPYmplY3R9IGVsZW0gY29uZmlnXG4gICAqIEByZXR1cm4ge0Jvb2xlYW59IGxhYmVsQWZ0ZXJcbiAgICovXG4gIGxhYmVsQWZ0ZXIoZWxlbSkge1xuICAgIGxldCB0eXBlID0gaC5nZXQoZWxlbSwgJ2F0dHJzLnR5cGUnKTtcbiAgICBsZXQgaXNDQiA9ICh0eXBlID09PSAnY2hlY2tib3gnIHx8IHR5cGUgPT09ICdyYWRpbycpO1xuICAgIHJldHVybiBpc0NCIHx8IGguZ2V0KGVsZW0sICdjb25maWcubGFiZWxBZnRlcicpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlIGEgbGFiZWxcbiAgICogQHBhcmFtICB7T2JqZWN0fSBlbGVtIGNvbmZpZyBvYmplY3RcbiAgICogQHBhcmFtICB7U3RyaW5nfSBmTWFwIG1hcCB0byBsYWJlbCdzIHZhbHVlIGluIGZvcm1EYXRhXG4gICAqIEByZXR1cm4ge09iamVjdH0gICAgICBjb25maWcgb2JqZWN0XG4gICAqL1xuICBsYWJlbChlbGVtLCBmTWFwKSB7XG4gICAgbGV0IGZpZWxkTGFiZWwgPSB7XG4gICAgICB0YWc6ICdsYWJlbCcsXG4gICAgICBhdHRyczoge30sXG4gICAgICBjbGFzc05hbWU6IFtdLFxuICAgICAgY29udGVudDogZWxlbS5jb25maWcubGFiZWwsXG4gICAgICBhY3Rpb246IHt9XG4gICAgfTtcblxuICAgIGlmICh0aGlzLmxhYmVsQWZ0ZXIoZWxlbSkpIHtcbiAgICAgIGxldCBjaGVja2FibGUgPSB7XG4gICAgICAgIHRhZzogJ3NwYW4nLFxuICAgICAgICBjbGFzc05hbWU6ICdjaGVja2FibGUnLFxuICAgICAgICBjb250ZW50OiBlbGVtLmNvbmZpZy5sYWJlbFxuICAgICAgfTtcbiAgICAgIGZpZWxkTGFiZWwuY29udGVudCA9IGNoZWNrYWJsZTtcbiAgICB9XG5cbiAgICBpZiAoZWxlbS5pZCkge1xuICAgICAgZmllbGRMYWJlbC5hdHRycy5mb3IgPSBlbGVtLmlkO1xuICAgIH1cblxuICAgIGlmIChmTWFwKSB7XG4gICAgICAvLyBmb3IgYXR0cmlidXRlIHdpbGwgcHJldmVudCBsYWJlbCBmb2N1c1xuICAgICAgZGVsZXRlIGZpZWxkTGFiZWwuYXR0cnMuZm9yO1xuICAgICAgZmllbGRMYWJlbC5hdHRycy5jb250ZW50ZWRpdGFibGUgPSB0cnVlO1xuICAgICAgZmllbGRMYWJlbC5mTWFwID0gZk1hcDtcbiAgICB9XG5cbiAgICByZXR1cm4gZG9tLmNyZWF0ZShmaWVsZExhYmVsKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZXRlcm1pbmUgY29udGVudCB0eXBlXG4gICAqIEBwYXJhbSAge05vZGUgfCBTdHJpbmcgfCBBcnJheSB8IE9iamVjdH0gY29udGVudFxuICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAqL1xuICBjb250ZW50VHlwZShjb250ZW50KSB7XG4gICAgbGV0IHR5cGUgPSB0eXBlb2YgY29udGVudDtcbiAgICBpZiAoY29udGVudCBpbnN0YW5jZW9mIE5vZGUgfHwgY29udGVudCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG4gICAgICB0eXBlID0gJ25vZGUnO1xuICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShjb250ZW50KSkge1xuICAgICAgdHlwZSA9ICdhcnJheSc7XG4gICAgfVxuXG4gICAgcmV0dXJuIHR5cGU7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBjb21wdXRlZCBzdHlsZSBmb3IgRE9NIGVsZW1lbnRcbiAgICogQHBhcmFtICB7T2JqZWN0fSAgZWxlbSAgICAgZG9tIGVsZW1lbnRcbiAgICogQHBhcmFtICB7Qm9vbGVhbn0gcHJvcGVydHkgc3R5bGUgZWcuIHdpZHRoLCBoZWlnaHQsIG9wYWNpdHlcbiAgICogQHJldHVybiB7U3RyaW5nfSAgICAgICAgICAgY29tcHV0ZWQgc3R5bGVcbiAgICovXG4gIGdldFN0eWxlKGVsZW0sIHByb3BlcnR5ID0gZmFsc2UpIHtcbiAgICBsZXQgc3R5bGU7XG4gICAgaWYgKHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKSB7XG4gICAgICBzdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW0sIG51bGwpO1xuICAgIH0gZWxzZSBpZiAoZWxlbS5jdXJyZW50U3R5bGUpIHtcbiAgICAgIHN0eWxlID0gZWxlbS5jdXJyZW50U3R5bGU7XG4gICAgfVxuXG4gICAgcmV0dXJuIHByb3BlcnR5ID8gc3R5bGVbcHJvcGVydHldIDogc3R5bGU7XG4gIH1cblxuICAvKipcbiAgICogUmV0cmlldmVzIGFuIGVsZW1lbnQgYnkgY29uZmlnIG9iamVjdCwgc3RyaW5nIGlkLFxuICAgKiBvciBleGlzdGluZyByZWZlcmVuY2VcbiAgICogQHBhcmFtICB7T2JqZWN0fFN0cmluZ3xOb2RlfSBlbGVtXG4gICAqIEByZXR1cm4ge09iamVjdH0gICAgICAgICAgICAgRE9NIGVsZW1lbnRcbiAgICovXG4gIGdldEVsZW1lbnQoZWxlbSkge1xuICAgIGxldCBnZXRFbGVtZW50ID0ge1xuICAgICAgICBub2RlOiAoKSA9PiBlbGVtLFxuICAgICAgICBvYmplY3Q6ICgpID0+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZW0uaWQpLFxuICAgICAgICBzdHJpbmc6ICgpID0+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZW0pXG4gICAgICB9O1xuICAgIGxldCB0eXBlID0gdGhpcy5jb250ZW50VHlwZShlbGVtKTtcbiAgICBsZXQgZWxlbWVudCA9IGdldEVsZW1lbnRbdHlwZV0oKTtcblxuICAgIHJldHVybiBlbGVtZW50O1xuICB9XG5cbiAgLyoqXG4gICAqIFV0aWwgdG8gcmVtb3ZlIGNvbnRlbnRzIG9mIERPTSBPYmplY3RcbiAgICogQHBhcmFtICB7T2JqZWN0fSBlbGVtXG4gICAqIEByZXR1cm4ge09iamVjdH0gZWxlbWVudCB3aXRoIGl0cyBjaGlsZHJlbiByZW1vdmVkXG4gICAqL1xuICBlbXB0eShlbGVtKSB7XG4gICAgaWYgKCFlbGVtKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHdoaWxlIChlbGVtLmZpcnN0Q2hpbGQpIHtcbiAgICAgIHRoaXMucmVtb3ZlKGVsZW0uZmlyc3RDaGlsZCk7XG4gICAgfVxuICAgIHJldHVybiBlbGVtO1xuICB9XG5cbiAgLyoqXG4gICAqIE1vdmUsIGNsb3NlLCBhbmQgZWRpdCBidXR0b25zIGZvciByb3csIGNvbHVtbiBhbmQgZmllbGRcbiAgICogQHBhcmFtICB7U3RyaW5nfSBpZCAgIGVsZW1lbnQgaWRcbiAgICogQHBhcmFtICB7U3RyaW5nfSBpdGVtIHR5cGUgb2YgZWxlbWVudCBlZy4gcm93LCBjb2x1bW4sIGZpZWxkXG4gICAqIEByZXR1cm4ge09iamVjdH0gICAgICBlbGVtZW50IGNvbmZpZyBvYmplY3RcbiAgICovXG4gIGFjdGlvbkJ1dHRvbnMoaWQsIGl0ZW0gPSAnY29sdW1uJykge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgbGV0IHRhZyA9IChpdGVtID09PSAnY29sdW1uJyA/ICdsaScgOiAnZGl2Jyk7XG4gICAgbGV0IGJ0bldyYXAgPSB7XG4gICAgICAgIHRhZzogJ2RpdicsXG4gICAgICAgIGNsYXNzTmFtZTogJ2FjdGlvbi1idG4td3JhcCdcbiAgICAgIH07XG4gICAgbGV0IGFjdGlvbnMgPSB7XG4gICAgICB0YWcsXG4gICAgICBjbGFzc05hbWU6IGl0ZW0gKyAnLWFjdGlvbnMgZ3JvdXAtYWN0aW9ucycsXG4gICAgICBhY3Rpb246IHtcbiAgICAgICAgbW91c2VlbnRlcjogZXZ0ID0+IHtcbiAgICAgICAgICBsZXQgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcbiAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2hvdmVyaW5nLScgKyBpdGVtKTtcbiAgICAgICAgICBldnQudGFyZ2V0LnBhcmVudFJlZmVyZW5jZSA9IGVsZW1lbnQ7XG4gICAgICAgIH0sXG4gICAgICAgIG1vdXNlbGVhdmU6IGV2dCA9PiB7XG4gICAgICAgICAgZXZ0LnRhcmdldC5wYXJlbnRSZWZlcmVuY2UuY2xhc3NMaXN0LnJlbW92ZSgnaG92ZXJpbmctJyArIGl0ZW0pO1xuICAgICAgICB9LFxuICAgICAgICBvblJlbmRlcjogZWxlbSA9PiB7XG4gICAgICAgICAgY29uc3QgYnV0dG9ucyA9IGVsZW0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2J1dHRvbicpO1xuICAgICAgICAgIGxldCBidG5XaWR0aCA9IHBhcnNlSW50KF90aGlzLmdldFN0eWxlKGJ1dHRvbnNbMF0sICd3aWR0aCcpKSArIDE7XG4gICAgICAgICAgY29uc3QgZXhwYW5kZWRXaWR0aCA9IChidXR0b25zLmxlbmd0aCAqIGJ0bldpZHRoKSArICdweCc7XG4gICAgICAgICAgY29uc3Qgd29oID0gaXRlbSA9PT0gJ3JvdycgPyAnaGVpZ2h0JyA6ICd3aWR0aCc7XG4gICAgICAgICAgbGV0IHJ1bGVzID0gW1xuICAgICAgICAgICAgW1xuICAgICAgICAgICAgICBgLmhvdmVyaW5nLSR7aXRlbX0gLiR7aXRlbX0tYWN0aW9uc2AsXG4gICAgICAgICAgICAgIFt3b2gsIGV4cGFuZGVkV2lkdGgsIHRydWVdXG4gICAgICAgICAgICBdXG4gICAgICAgICAgXTtcblxuICAgICAgICAgIF90aGlzLmluc2VydFJ1bGUocnVsZXMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIGJ0bldyYXAuY29udGVudCA9IHRoaXMuY29uZmlnW2Ake2l0ZW19c2BdLmFjdGlvbkJ1dHRvbnMuYnV0dG9ucztcbiAgICBhY3Rpb25zLmNvbnRlbnQgPSBidG5XcmFwO1xuXG4gICAgcmV0dXJuIGFjdGlvbnM7XG4gIH1cblxuICAvKipcbiAgICogQ2xvbmVzIGFuIGVsZW1lbnQsIGl0J3MgZGF0YSBhbmRcbiAgICogaXQncyBuZXN0ZWQgZWxlbWVudHMgYW5kIGRhdGFcbiAgICogQHBhcmFtIHtPYmplY3R9IGVsZW0gZWxlbWVudCB3ZSBhcmUgY2xvbmluZ1xuICAgKiBAcGFyYW0ge09iamVjdH0gcGFyZW50XG4gICAqIEByZXR1cm4ge09iamVjdH0gY2xvbmVkIGVsZW1lbnRcbiAgICovXG4gIGNsb25lKGVsZW0sIHBhcmVudCkge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgbGV0IHtpZCwgZlR5cGV9ID0gZWxlbTtcbiAgICBsZXQgZGF0YUNsb25lID0gY2xvbmUoZm9ybURhdGFbZlR5cGVdLmdldChpZCkpO1xuICAgIGNvbnN0IG5ld0luZGV4ID0gaC5pbmRleE9mTm9kZShlbGVtKSArIDE7XG4gICAgbGV0IG5vUGFyZW50ID0gZmFsc2U7XG4gICAgZGF0YUNsb25lLmlkID0gdXVpZCgpO1xuICAgIGZvcm1EYXRhW2ZUeXBlXS5zZXQoZGF0YUNsb25lLmlkLCBkYXRhQ2xvbmUpO1xuICAgIGlmICghcGFyZW50KSB7XG4gICAgICBwYXJlbnQgPSBlbGVtLnBhcmVudEVsZW1lbnQ7XG4gICAgICBub1BhcmVudCA9IHRydWU7XG4gICAgfVxuICAgIGNvbnN0IGNsb25lVHlwZSA9IHtcbiAgICAgIHJvd3M6ICgpID0+IHtcbiAgICAgICAgZGF0YUNsb25lLmNvbHVtbnMgPSBbXTtcbiAgICAgICAgY29uc3Qgc3RhZ2UgPSBfdGhpcy5hY3RpdmVTdGFnZTtcbiAgICAgICAgY29uc3QgbmV3Um93ID0gX3RoaXMuYWRkUm93KG51bGwsIGRhdGFDbG9uZS5pZCk7XG4gICAgICAgIGNvbnN0IGNvbHVtbnMgPSBlbGVtLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3N0YWdlLWNvbHVtbnMnKTtcblxuICAgICAgICBzdGFnZS5pbnNlcnRCZWZvcmUobmV3Um93LCBzdGFnZS5jaGlsZE5vZGVzW25ld0luZGV4XSk7XG4gICAgICAgIGguZm9yRWFjaChjb2x1bW5zLCBjb2x1bW4gPT4gX3RoaXMuY2xvbmUoY29sdW1uLCBuZXdSb3cpKTtcbiAgICAgICAgZGF0YS5zYXZlUm93T3JkZXIoKTtcbiAgICAgICAgcmV0dXJuIG5ld1JvdztcbiAgICAgIH0sXG4gICAgICBjb2x1bW5zOiAoKSA9PiB7XG4gICAgICAgIGRhdGFDbG9uZS5maWVsZHMgPSBbXTtcbiAgICAgICAgY29uc3QgbmV3Q29sdW1uID0gX3RoaXMuYWRkQ29sdW1uKHBhcmVudC5pZCwgZGF0YUNsb25lLmlkKTtcbiAgICAgICAgcGFyZW50Lmluc2VydEJlZm9yZShuZXdDb2x1bW4sIHBhcmVudC5jaGlsZE5vZGVzW25ld0luZGV4XSk7XG4gICAgICAgIGxldCBmaWVsZHMgPSBlbGVtLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3N0YWdlLWZpZWxkcycpO1xuXG4gICAgICAgIGlmIChub1BhcmVudCkge1xuICAgICAgICAgIGRvbS5jb2x1bW5XaWR0aHMocGFyZW50KTtcbiAgICAgICAgfVxuICAgICAgICBoLmZvckVhY2goZmllbGRzLCBmaWVsZCA9PiBfdGhpcy5jbG9uZShmaWVsZCwgbmV3Q29sdW1uKSk7XG4gICAgICAgIHJldHVybiBuZXdDb2x1bW47XG4gICAgICB9LFxuICAgICAgZmllbGRzOiAoKSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld0ZpZWxkID0gX3RoaXMuYWRkRmllbGQocGFyZW50LmlkLCBkYXRhQ2xvbmUuaWQpO1xuICAgICAgICBwYXJlbnQuaW5zZXJ0QmVmb3JlKG5ld0ZpZWxkLCBwYXJlbnQuY2hpbGROb2Rlc1tuZXdJbmRleF0pO1xuICAgICAgICByZXR1cm4gbmV3RmllbGQ7XG4gICAgICB9LFxuICAgIH07XG5cbiAgICByZXR1cm4gY2xvbmVUeXBlW2ZUeXBlXSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBlbGVtZW50cyB3aXRob3V0IGYgY2hpbGRyZW5cbiAgICogQHBhcmFtICB7T2JqZWN0fSBlbGVtZW50IERPTSBlbGVtZW50XG4gICAqIEByZXR1cm4ge09iamVjdH0gZm9ybURhdGFcbiAgICovXG4gIHJlbW92ZUVtcHR5KGVsZW1lbnQpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIGxldCBwYXJlbnQgPSBlbGVtZW50LnBhcmVudEVsZW1lbnQ7XG4gICAgbGV0IHR5cGUgPSBlbGVtZW50LmZUeXBlO1xuICAgIGxldCBjaGlsZHJlbjtcbiAgICBfdGhpcy5yZW1vdmUoZWxlbWVudCk7XG4gICAgY2hpbGRyZW4gPSBwYXJlbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc3RhZ2UtJyArIHR5cGUpO1xuICAgIGlmICghY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgICBpZiAocGFyZW50LmZUeXBlICE9PSAnc3RhZ2VzJykge1xuICAgICAgICByZXR1cm4gX3RoaXMucmVtb3ZlRW1wdHkocGFyZW50KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuZW1wdHlDbGFzcyhwYXJlbnQpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAodHlwZSA9PT0gJ2NvbHVtbnMnKSB7XG4gICAgICBfdGhpcy5jb2x1bW5XaWR0aHMocGFyZW50KTtcbiAgICB9XG4gICAgcmV0dXJuIGRhdGEuc2F2ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgZWxlbWVudCBmcm9tIERPTSBhbmQgZGF0YVxuICAgKiBAcGFyYW0gIHtPYmplY3R9IGVsZW1cbiAgICogQHJldHVybiAge09iamVjdH0gcGFyZW50IGVsZW1lbnRcbiAgICovXG4gIHJlbW92ZShlbGVtKSB7XG4gICAgaWYgKCFlbGVtKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgbGV0IHtmVHlwZSwgaWR9ID0gZWxlbTtcbiAgICBpZiAoZlR5cGUpIHtcbiAgICAgIGxldCBwYXJlbnQgPSBlbGVtLnBhcmVudEVsZW1lbnQ7XG4gICAgICBsZXQgcERhdGEgPSBmb3JtRGF0YVtwYXJlbnQuZlR5cGVdLmdldChwYXJlbnQuaWQpO1xuICAgICAgZGF0YS5lbXB0eShmVHlwZSwgaWQpO1xuICAgICAgdGhpc1tmVHlwZV0uZGVsZXRlKGlkKTtcbiAgICAgIGZvcm1EYXRhW2ZUeXBlXS5kZWxldGUoaWQpO1xuICAgICAgcmVtb3ZlKHBEYXRhW2ZUeXBlXSwgaWQpO1xuICAgIH1cbiAgICByZXR1cm4gZWxlbS5wYXJlbnRFbGVtZW50LnJlbW92ZUNoaWxkKGVsZW0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgYSBjbGFzcyBvciBjbGFzc2VzIGZyb20gbm9kZUxpc3RcbiAgICpcbiAgICogQHBhcmFtICB7Tm9kZUxpc3R9IG5vZGVMaXN0XG4gICAqIEBwYXJhbSAge1N0cmluZyB8IEFycmF5fSBjbGFzc05hbWVcbiAgICovXG4gIHJlbW92ZUNsYXNzZXMobm9kZUxpc3QsIGNsYXNzTmFtZSkge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgbGV0IHJlbW92ZUNsYXNzID0ge1xuICAgICAgc3RyaW5nOiBlbGVtID0+IHtcbiAgICAgICAgZWxlbS5jbGFzc05hbWUgPSBlbGVtLmNsYXNzTmFtZS5yZXBsYWNlKGNsYXNzTmFtZSwgJycpO1xuICAgICAgfSxcbiAgICAgIGFycmF5OiBlbGVtID0+IHtcbiAgICAgICAgZm9yIChsZXQgaSA9IGNsYXNzTmFtZS5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWVbaV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgICByZW1vdmVDbGFzcy5vYmplY3QgPSByZW1vdmVDbGFzcy5zdHJpbmc7IC8vIGhhbmRsZXMgcmVnZXggbWFwXG4gICAgaC5mb3JFYWNoKG5vZGVMaXN0LCByZW1vdmVDbGFzc1tfdGhpcy5jb250ZW50VHlwZShjbGFzc05hbWUpXSk7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBhIGNsYXNzIG9yIGNsYXNzZXMgZnJvbSBub2RlTGlzdFxuICAgKlxuICAgKiBAcGFyYW0gIHtOb2RlTGlzdH0gbm9kZUxpc3RcbiAgICogQHBhcmFtICB7U3RyaW5nIHwgQXJyYXl9IGNsYXNzTmFtZVxuICAgKi9cbiAgYWRkQ2xhc3Nlcyhub2RlTGlzdCwgY2xhc3NOYW1lKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICBsZXQgYWRkQ2xhc3MgPSB7XG4gICAgICBzdHJpbmc6IGVsZW0gPT4ge1xuICAgICAgICBlbGVtLmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcbiAgICAgIH0sXG4gICAgICBhcnJheTogZWxlbSA9PiB7XG4gICAgICAgIGZvciAobGV0IGkgPSBjbGFzc05hbWUubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICBlbGVtLmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lW2ldKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gICAgaC5mb3JFYWNoKG5vZGVMaXN0LCBhZGRDbGFzc1tfdGhpcy5jb250ZW50VHlwZShjbGFzc05hbWUpXSk7XG4gIH1cblxuICAvKipcbiAgICogW2ZpZWxkT3JkZXJDbGFzcyBkZXNjcmlwdGlvbl1cbiAgICogQHBhcmFtICB7W3R5cGVdfSBjb2x1bW4gW2Rlc2NyaXB0aW9uXVxuICAgKi9cbiAgZmllbGRPcmRlckNsYXNzKGNvbHVtbikge1xuICAgIGxldCBmaWVsZHMgPSBjb2x1bW4ucXVlcnlTZWxlY3RvckFsbCgnLnN0YWdlLWZpZWxkcycpO1xuXG4gICAgaWYgKGZpZWxkcy5sZW5ndGgpIHtcbiAgICAgIHRoaXMucmVtb3ZlQ2xhc3NlcyhmaWVsZHMsIFsnZmlyc3QtZmllbGQnLCAnbGFzdC1maWVsZCddKTtcbiAgICAgIGZpZWxkc1swXS5jbGFzc0xpc3QuYWRkKCdmaXJzdC1maWVsZCcpO1xuICAgICAgZmllbGRzW2ZpZWxkcy5sZW5ndGggLSAxXS5jbGFzc0xpc3QuYWRkKCdsYXN0LWZpZWxkJyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlYWQgY29sdW1ucyBhbmQgZ2VuZXJhdGUgYm9vdHN0cmFwIGNvbHNcbiAgICogQHBhcmFtICB7T2JqZWN0fSAgcm93ICAgIERPTSBlbGVtZW50XG4gICAqL1xuICBjb2x1bW5XaWR0aHMocm93KSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICBsZXQgZmllbGRzID0gW107XG4gICAgbGV0IGNvbHVtbnMgPSByb3cuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc3RhZ2UtY29sdW1ucycpO1xuICAgIGlmICghY29sdW1ucy5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgICBsZXQgd2lkdGggPSBwYXJzZUZsb2F0KCgxMDAgLyBjb2x1bW5zLmxlbmd0aCkudG9GaXhlZCgxKSkvMTtcbiAgICBsZXQgYnNHcmlkUmVnRXggPSAvXFxiY29sLVxcdystXFxkKy9nO1xuXG4gICAgX3RoaXMucmVtb3ZlQ2xhc3Nlcyhjb2x1bW5zLCBic0dyaWRSZWdFeCk7XG5cbiAgICBoLmZvckVhY2goY29sdW1ucywgY29sdW1uID0+IHtcbiAgICAgIGxldCBjb2x1bW5EYXRhID0gZm9ybURhdGEuY29sdW1ucy5nZXQoY29sdW1uLmlkKTtcbiAgICAgIGZpZWxkcy5wdXNoKC4uLmNvbHVtbkRhdGEuZmllbGRzKTtcblxuICAgICAgbGV0IGNvbFdpZHRoID0gbnVtVG9QZXJjZW50KHdpZHRoKTtcblxuICAgICAgY29sdW1uLnN0eWxlLndpZHRoID0gY29sV2lkdGg7XG4gICAgICBjb2x1bW4uc3R5bGUuZmxvYXQgPSAnbGVmdCc7XG4gICAgICBjb2x1bW5EYXRhLmNvbmZpZy53aWR0aCA9IGNvbFdpZHRoO1xuICAgICAgY29sdW1uLmRhdGFzZXQuY29sV2lkdGggPSBjb2xXaWR0aDtcbiAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoZXZlbnRzLmNvbHVtblJlc2l6ZWQpO1xuICAgIH0pO1xuXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBmaWVsZHMuZm9yRWFjaChmaWVsZElEID0+IHtcbiAgICAgICAgbGV0IGZpZWxkID0gZG9tLmZpZWxkcy5nZXQoZmllbGRJRCk7XG4gICAgICAgIGlmIChmaWVsZC5pbnN0YW5jZS5wYW5lbHMpIHtcbiAgICAgICAgICBmaWVsZC5pbnN0YW5jZS5wYW5lbHMubmF2LnJlZnJlc2goKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSwgMjUwKTtcblxuICAgIGRvbS51cGRhdGVDb2x1bW5QcmVzZXQocm93KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBXcmFwIGNvbnRlbnQgaW4gYSBmb3JtR3JvdXBcbiAgICogQHBhcmFtICB7T2JqZWN0fEFycmF5fFN0cmluZ30gY29udGVudFxuICAgKiBAcGFyYW0gIHtTdHJpbmd9IGNsYXNzTmFtZVxuICAgKiBAcmV0dXJuIHtPYmplY3R9IGZvcm1Hcm91cCBjb25maWdcbiAgICovXG4gIGZvcm1Hcm91cChjb250ZW50LCBjbGFzc05hbWUgPSAnJykge1xuICAgIHJldHVybiB7XG4gICAgICB0YWc6ICdkaXYnLFxuICAgICAgY2xhc3NOYW1lOiBbJ2YtZmllbGQtZ3JvdXAnLCBjbGFzc05hbWVdLFxuICAgICAgY29udGVudDogY29udGVudFxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhdGVzIHRoZSBlbGVtZW50IGNvbmZpZyBmb3IgY29sdW1uIGxheW91dCBpbiByb3dcbiAgICogQHBhcmFtICB7U3RyaW5nfSByb3dJRCBbZGVzY3JpcHRpb25dXG4gICAqIEByZXR1cm4ge09iamVjdH0gICAgICAgW2Rlc2NyaXB0aW9uXVxuICAgKi9cbiAgY29sdW1uUHJlc2V0Q29udHJvbChyb3dJRCkge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgbGV0IHJvd0RhdGEgPSBmb3JtRGF0YS5yb3dzLmdldChyb3dJRCk7XG4gICAgbGV0IGxheW91dFByZXNldCA9IHtcbiAgICAgICAgdGFnOiAnc2VsZWN0JyxcbiAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICBhcmlhTGFiZWw6ICdEZWZpbmUgYSBjb2x1bW4gbGF5b3V0JyxcbiAgICAgICAgICBjbGFzc05hbWU6ICdjb2x1bW4tcHJlc2V0J1xuICAgICAgICB9LFxuICAgICAgICBhY3Rpb246IHtcbiAgICAgICAgICBjaGFuZ2U6IGUgPT4ge1xuICAgICAgICAgICAgbGV0IGRSb3cgPSB0aGlzLnJvd3MuZ2V0KHJvd0lEKTtcbiAgICAgICAgICAgIF90aGlzLnNldENvbHVtbldpZHRocyhkUm93LnJvdywgZS50YXJnZXQudmFsdWUpO1xuICAgICAgICAgICAgZGF0YS5zYXZlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIGxldCBwTWFwID0gbmV3IE1hcCgpO1xuICAgIGxldCBjdXN0b20gPSB7dmFsdWU6ICdjdXN0b20nLCBsYWJlbDogJ0N1c3RvbSd9O1xuXG4gICAgcE1hcC5zZXQoMSwgW3t2YWx1ZTogJzEwMC4wJywgbGFiZWw6ICcxMDAlJ31dKTtcbiAgICBwTWFwLnNldCgyLCBbXG4gICAgICB7dmFsdWU6ICc1MC4wLDUwLjAnLCBsYWJlbDogJzUwIHwgNTAnfSxcbiAgICAgIHt2YWx1ZTogJzMzLjMsNjYuNicsIGxhYmVsOiAnMzMgfCA2Nid9LFxuICAgICAge3ZhbHVlOiAnNjYuNiwzMy4zJywgbGFiZWw6ICc2NiB8IDMzJ30sXG4gICAgICBjdXN0b21cbiAgICBdKTtcbiAgICBwTWFwLnNldCgzLCBbXG4gICAgICB7dmFsdWU6ICczMy4zLDMzLjMsMzMuMycsIGxhYmVsOiAnMzMgfCAzMyB8IDMzJ30sXG4gICAgICB7dmFsdWU6ICcyNS4wLDI1LjAsNTAuMCcsIGxhYmVsOiAnMjUgfCAyNSB8IDUwJ30sXG4gICAgICB7dmFsdWU6ICc1MC4wLDI1LjAsMjUuMCcsIGxhYmVsOiAnNTAgfCAyNSB8IDI1J30sXG4gICAgICB7dmFsdWU6ICcyNS4wLDUwLjAsMjUuMCcsIGxhYmVsOiAnMjUgfCA1MCB8IDI1J30sXG4gICAgICBjdXN0b21cbiAgICBdKTtcbiAgICBwTWFwLnNldCg0LCBbXG4gICAgICB7dmFsdWU6ICcyNS4wLDI1LjAsMjUuMCwyNS4wJywgbGFiZWw6ICcyNSB8IDI1IHwgMjUgfCAyNSd9LFxuICAgICAgY3VzdG9tXG4gICAgICBdKTtcbiAgICBwTWFwLnNldCgnY3VzdG9tJywgW2N1c3RvbV0pO1xuXG4gICAgaWYgKHJvd0RhdGEgJiYgcm93RGF0YS5jb2x1bW5zLmxlbmd0aCkge1xuICAgICAgbGV0IGNvbHVtbnMgPSByb3dEYXRhLmNvbHVtbnM7XG4gICAgICBsZXQgcE1hcFZhbCA9IHBNYXAuZ2V0KGNvbHVtbnMubGVuZ3RoKTtcbiAgICAgIGxheW91dFByZXNldC5vcHRpb25zID0gcE1hcFZhbCB8fCBwTWFwLmdldCgnY3VzdG9tJyk7XG4gICAgICBsZXQgY3VyVmFsID0gY29sdW1ucy5tYXAoKGNvbHVtbklELCBpKSA9PiB7XG4gICAgICAgIGxldCBjb2xEYXRhID0gZm9ybURhdGEuY29sdW1ucy5nZXQoY29sdW1uSUQpO1xuICAgICAgICByZXR1cm4gY29sRGF0YS5jb25maWcud2lkdGgucmVwbGFjZSgnJScsICcnKTtcbiAgICAgIH0pLmpvaW4oJywnKTtcbiAgICAgIGlmIChwTWFwVmFsKSB7XG4gICAgICAgIHBNYXBWYWwuZm9yRWFjaCgodmFsLCBpKSA9PiB7XG4gICAgICAgICAgbGV0IG9wdGlvbnMgPSBsYXlvdXRQcmVzZXQub3B0aW9ucztcbiAgICAgICAgICBpZiAodmFsLnZhbHVlID09PSBjdXJWYWwpIHtcbiAgICAgICAgICAgIG9wdGlvbnNbaV0uc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkZWxldGUgb3B0aW9uc1tpXS5zZWxlY3RlZDtcbiAgICAgICAgICAgIG9wdGlvbnNbb3B0aW9ucy5sZW5ndGgtMV0uc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGxheW91dFByZXNldC5vcHRpb25zID0gcE1hcC5nZXQoMSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGxheW91dFByZXNldDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIHdpZHRocyBvZiBjb2x1bW5zIGluIGEgcm93XG4gICAqIEBwYXJhbSB7T2JqZWN0fSByb3cgRE9NIGVsZW1lbnRcbiAgICogQHBhcmFtIHtTdHJpbmd9IHdpZHRoc1xuICAgKi9cbiAgc2V0Q29sdW1uV2lkdGhzKHJvdywgd2lkdGhzKSB7XG4gICAgaWYgKHdpZHRocyA9PT0gJ2N1c3RvbScpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgd2lkdGhzID0gd2lkdGhzLnNwbGl0KCcsJyk7XG4gICAgbGV0IGNvbHVtbnMgPSByb3cuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc3RhZ2UtY29sdW1ucycpO1xuICAgIGguZm9yRWFjaChjb2x1bW5zLCAoY29sdW1uLCBpKSA9PiB7XG4gICAgICBsZXQgcGVyY2VudFdpZHRoID0gd2lkdGhzW2ldICsgJyUnO1xuICAgICAgY29sdW1uLmRhdGFzZXQuY29sV2lkdGggPSBwZXJjZW50V2lkdGg7XG4gICAgICBjb2x1bW4uc3R5bGUud2lkdGggPSBwZXJjZW50V2lkdGg7XG4gICAgICBmb3JtRGF0YS5jb2x1bW5zLmdldChjb2x1bW4uaWQpLmNvbmZpZy53aWR0aCA9IHBlcmNlbnRXaWR0aDtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGVzIHRoZSBjb2x1bW4gcHJlc2V0IDxzZWxlY3Q+XG4gICAqIEBwYXJhbSAge1N0cmluZ30gcm93XG4gICAqIEByZXR1cm4ge09iamVjdH0gY29sdW1uUHJlc2V0Q29uZmlnXG4gICAqL1xuICB1cGRhdGVDb2x1bW5QcmVzZXQocm93KSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICBsZXQgb2xkQ29sdW1uUHJlc2V0ID0gcm93LnF1ZXJ5U2VsZWN0b3IoJy5jb2x1bW4tcHJlc2V0Jyk7XG4gICAgbGV0IHJvd0VkaXQgPSBvbGRDb2x1bW5QcmVzZXQucGFyZW50RWxlbWVudDtcbiAgICBsZXQgY29sdW1uUHJlc2V0Q29uZmlnID0gX3RoaXMuY29sdW1uUHJlc2V0Q29udHJvbChyb3cuaWQpO1xuICAgIGxldCBuZXdDb2x1bW5QcmVzZXQgPSBfdGhpcy5jcmVhdGUoY29sdW1uUHJlc2V0Q29uZmlnKTtcblxuICAgIHJvd0VkaXQucmVwbGFjZUNoaWxkKG5ld0NvbHVtblByZXNldCwgb2xkQ29sdW1uUHJlc2V0KTtcbiAgICByZXR1cm4gY29sdW1uUHJlc2V0Q29uZmlnO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHt4LCB5fSBjb29yZGluYXRlcyBmb3IgdGhlXG4gICAqIGNlbnRlciBvZiBhIGdpdmVuIGVsZW1lbnRcbiAgICogQHBhcmFtICB7RE9NfSBlbGVtZW50XG4gICAqIEByZXR1cm4ge09iamVjdH0gICAgICB7eCx5fSBjb29yZGluYXRlc1xuICAgKi9cbiAgY29vcmRzKGVsZW1lbnQpIHtcbiAgICBsZXQgZWxlbVBvc2l0aW9uID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBsZXQgYm9keVJlY3QgPSBkb2N1bWVudC5ib2R5LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHBhZ2VYOiBlbGVtUG9zaXRpb24ubGVmdCArIChlbGVtUG9zaXRpb24ud2lkdGggLyAyKSxcbiAgICAgIHBhZ2VZOiAoZWxlbVBvc2l0aW9uLnRvcCAtIGJvZHlSZWN0LnRvcCkgLSAoZWxlbVBvc2l0aW9uLmhlaWdodCAvIDIpXG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMb29wIHRocm91Z2ggdGhlIGZvcm1EYXRhIGFuZCBhcHBlbmQgaXQgdG8gdGhlIHN0YWdlXG4gICAqIEBwYXJhbSAge09iamVjdH0gc3RhZ2UgRE9NIGVsZW1lbnRcbiAgICogQHJldHVybiB7QXJyYXl9ICBsb2FkZWQgcm93c1xuICAgKi9cbiAgbG9hZFJvd3Moc3RhZ2UpIHtcbiAgICBpZiAoIXN0YWdlKSB7XG4gICAgICBzdGFnZSA9IHRoaXMuYWN0aXZlU3RhZ2U7XG4gICAgfVxuXG4gICAgbGV0IHJvd3MgPSBmb3JtRGF0YS5zdGFnZXMuZ2V0KHN0YWdlLmlkKS5yb3dzO1xuICAgIHJldHVybiByb3dzLmZvckVhY2gocm93SUQgPT4ge1xuICAgICAgbGV0IHJvdyA9IHRoaXMuYWRkUm93KHN0YWdlLmlkLCByb3dJRCk7XG4gICAgICB0aGlzLmxvYWRDb2x1bW5zKHJvdyk7XG4gICAgICBkb20udXBkYXRlQ29sdW1uUHJlc2V0KHJvdyk7XG4gICAgICBzdGFnZS5hcHBlbmRDaGlsZChyb3cpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIExvYWQgY29sdW1ucyB0byByb3dcbiAgICogQHBhcmFtICB7T2JqZWN0fSByb3dcbiAgICovXG4gIGxvYWRDb2x1bW5zKHJvdykge1xuICAgIGxldCBjb2x1bW5zID0gZm9ybURhdGEucm93cy5nZXQocm93LmlkKS5jb2x1bW5zO1xuICAgIGNvbHVtbnMuZm9yRWFjaChjb2x1bW5JRCA9PiB7XG4gICAgICBsZXQgY29sdW1uID0gdGhpcy5hZGRDb2x1bW4ocm93LmlkLCBjb2x1bW5JRCk7XG4gICAgICB0aGlzLmxvYWRGaWVsZHMoY29sdW1uKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMb2FkIGEgY29sdW1ucyBmaWVsZHNcbiAgICogQHBhcmFtICB7T2JqZWN0fSBjb2x1bW4gY29sdW1uIGNvbmZpZyBvYmplY3RcbiAgICovXG4gIGxvYWRGaWVsZHMoY29sdW1uKSB7XG4gICAgbGV0IGZpZWxkcyA9IGZvcm1EYXRhLmNvbHVtbnMuZ2V0KGNvbHVtbi5pZCkuZmllbGRzO1xuICAgIGZpZWxkcy5mb3JFYWNoKGZpZWxkSUQgPT4gdGhpcy5hZGRGaWVsZChjb2x1bW4uaWQsIGZpZWxkSUQpKTtcbiAgICB0aGlzLmZpZWxkT3JkZXJDbGFzcyhjb2x1bW4pO1xuICB9XG5cbiAgLyoqXG4gICAqIENyZWF0ZSBvciBhZGQgYSBmaWVsZCBhbmQgY29sdW1uIHRoZW4gcmV0dXJuIGl0LlxuICAgKiBAcGFyYW0gIHtPYmplY3R9IGV2dCBEcmFnIGV2ZW50IGRhdGFcbiAgICogQHJldHVybiB7T2JqZWN0fSAgICAgY29sdW1uXG4gICAqL1xuICBjcmVhdGVDb2x1bW4oZXZ0KSB7XG4gICAgbGV0IGZUeXBlID0gZXZ0LmZyb20uZlR5cGU7XG4gICAgbGV0IGZpZWxkID0gZlR5cGUgPT09ICdjb2x1bW5zJyA/IGV2dC5pdGVtIDogbmV3IEZpZWxkKGV2dC5pdGVtLmlkKTtcbiAgICBsZXQgY29sdW1uID0gbmV3IENvbHVtbigpO1xuXG4gICAgZmllbGQuY2xhc3NMaXN0LmFkZCgnZmlyc3QtZmllbGQnKTtcbiAgICBjb2x1bW4uYXBwZW5kQ2hpbGQoZmllbGQpO1xuICAgIGZvcm1EYXRhLmNvbHVtbnMuZ2V0KGNvbHVtbi5pZCkuZmllbGRzLnB1c2goZmllbGQuaWQpO1xuICAgIHJldHVybiBjb2x1bW47XG4gIH1cblxuICAvKipcbiAgICogW3Byb2Nlc3NDb2x1bW5Db25maWcgZGVzY3JpcHRpb25dXG4gICAqIEBwYXJhbSAge1t0eXBlXX0gY29sdW1uRGF0YSBbZGVzY3JpcHRpb25dXG4gICAqIEByZXR1cm4ge1t0eXBlXX0gICAgICAgICBbZGVzY3JpcHRpb25dXG4gICAqL1xuICBwcm9jZXNzQ29sdW1uQ29uZmlnKGNvbHVtbkRhdGEpIHtcbiAgICBpZiAoY29sdW1uRGF0YS5jbGFzc05hbWUpIHtcbiAgICAgIGNvbHVtbkRhdGEuY2xhc3NOYW1lLnB1c2goJ2YtcmVuZGVyLWNvbHVtbicpO1xuICAgIH1cbiAgICBsZXQgY29sV2lkdGggPSBjb2x1bW5EYXRhLmNvbmZpZy53aWR0aCB8fCAnMTAwJSc7XG4gICAgY29sdW1uRGF0YS5zdHlsZSA9IGB3aWR0aDogJHtjb2xXaWR0aH1gO1xuICAgIHJldHVybiBjb2x1bW5EYXRhO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbmRlcnMgY3VycmVudGx5IGxvYWRlZCBmb3JtRGF0YSB0byB0aGUgcmVuZGVyVGFyZ2V0XG4gICAqIEBwYXJhbSB7T2JqZWN0fSByZW5kZXJUYXJnZXRcbiAgICovXG4gIHJlbmRlckZvcm0ocmVuZGVyVGFyZ2V0KSB7XG4gICAgdGhpcy5lbXB0eShyZW5kZXJUYXJnZXQpO1xuICAgIGxldCByZW5kZXJEYXRhID0gZGF0YS5wcmVwRGF0YTtcbiAgICBsZXQgcmVuZGVyQ291bnQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdmb3JtZW8tcmVuZGVyJykubGVuZ3RoO1xuICAgIGxldCBjb250ZW50ID0gT2JqZWN0LnZhbHVlcyhyZW5kZXJEYXRhLnN0YWdlcykubWFwKHN0YWdlRGF0YSA9PiB7XG4gICAgICBsZXQge3Jvd3MsIC4uLnN0YWdlfSA9IHN0YWdlRGF0YTtcbiAgICAgIHJvd3MgPSByb3dzLm1hcChyb3dJRCA9PiB7XG4gICAgICAgIGxldCB7Y29sdW1ucywgLi4ucm93fSA9IHJlbmRlckRhdGEucm93c1tyb3dJRF07XG4gICAgICAgIGxldCBjb2xzID0gY29sdW1ucy5tYXAoY29sdW1uSUQgPT4ge1xuICAgICAgICAgIGxldCBjb2wgPSB0aGlzLnByb2Nlc3NDb2x1bW5Db25maWcocmVuZGVyRGF0YS5jb2x1bW5zW2NvbHVtbklEXSk7XG4gICAgICAgICAgbGV0IGZpZWxkcyA9IGNvbC5maWVsZHMubWFwKGZpZWxkSUQgPT4gcmVuZGVyRGF0YS5maWVsZHNbZmllbGRJRF0pO1xuICAgICAgICAgIGNvbC50YWcgPSAnZGl2JztcbiAgICAgICAgICBjb2wuY29udGVudCA9IGZpZWxkcztcbiAgICAgICAgICByZXR1cm4gY29sO1xuICAgICAgICB9KTtcbiAgICAgICAgcm93LnRhZyA9ICdkaXYnO1xuICAgICAgICByb3cuY29udGVudCA9IFtjb2xzXTtcbiAgICAgICAgbGV0IHJvd0RhdGEgPSBjbG9uZShyb3cpO1xuICAgICAgICBpZiAocm93LmNvbmZpZy5pbnB1dEdyb3VwKSB7XG4gICAgICAgICAgbGV0IHJlbW92ZUJ1dHRvbiA9IHtcbiAgICAgICAgICAgIHRhZzogJ2J1dHRvbicsXG4gICAgICAgICAgICBjbGFzc05hbWU6ICdyZW1vdmUtaW5wdXQtZ3JvdXAnLFxuICAgICAgICAgICAgY29udGVudDogZG9tLmljb24oJ3JlbW92ZScpLFxuICAgICAgICAgICAgYWN0aW9uOiB7XG4gICAgICAgICAgICAgIG1vdXNlb3ZlcjogZSA9PiB7XG4gICAgICAgICAgICAgICAgZS50YXJnZXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCd3aWxsLXJlbW92ZScpO1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBtb3VzZWxlYXZlOiBlID0+IHtcbiAgICAgICAgICAgICAgICBlLnRhcmdldC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ3dpbGwtcmVtb3ZlJyk7XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGNsaWNrOiBlID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgY3VycmVudElucHV0R3JvdXAgPSBlLnRhcmdldC5wYXJlbnRFbGVtZW50O1xuICAgICAgICAgICAgICAgIGxldCBpR1dyYXAgPSBjdXJyZW50SW5wdXRHcm91cC5wYXJlbnRFbGVtZW50O1xuICAgICAgICAgICAgICAgIGxldCBpRyA9IGlHV3JhcC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdmLWlucHV0LWdyb3VwJyk7XG4gICAgICAgICAgICAgICAgaWYgKGlHLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgIGRvbS5yZW1vdmUoY3VycmVudElucHV0R3JvdXApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTmVlZCBhdCBsZWFzdCAxIGdyb3VwJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgICByb3dEYXRhLmNvbnRlbnQudW5zaGlmdChyZW1vdmVCdXR0b24pO1xuICAgICAgICAgIGxldCBpbnB1dEdyb3VwV3JhcCA9IHtcbiAgICAgICAgICAgIHRhZzogJ2RpdicsXG4gICAgICAgICAgICBpZDogdXVpZCgpLFxuICAgICAgICAgICAgY2xhc3NOYW1lOiAnZi1pbnB1dC1ncm91cC13cmFwJ1xuICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAocm93RGF0YS5hdHRycy5jbGFzc05hbWUpIHtcbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiByb3dEYXRhLmF0dHJzLmNsYXNzTmFtZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICByb3dEYXRhLmF0dHJzLmNsYXNzTmFtZSArPSAnIGYtaW5wdXQtZ3JvdXAnO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJvd0RhdGEuYXR0cnMuY2xhc3NOYW1lLnB1c2goJ2YtaW5wdXQtZ3JvdXAnKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIGxldCBhZGRCdXR0b24gPSB7XG4gICAgICAgICAgICB0YWc6ICdidXR0b24nLFxuICAgICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnYWRkLWlucHV0LWdyb3VwIGJ0biBwdWxsLXJpZ2h0JyxcbiAgICAgICAgICAgICAgdHlwZTogJ2J1dHRvbidcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb250ZW50OiAnQWRkICsnLFxuICAgICAgICAgICAgYWN0aW9uOiB7XG4gICAgICAgICAgICAgIGNsaWNrOiBlID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgZklucHV0R3JvdXAgPSBlLnRhcmdldC5wYXJlbnRFbGVtZW50O1xuICAgICAgICAgICAgICAgIGxldCBuZXdSb3cgPSBkb20uY3JlYXRlKHJvd0RhdGEpO1xuICAgICAgICAgICAgICAgIGZJbnB1dEdyb3VwLmluc2VydEJlZm9yZShuZXdSb3csIGZJbnB1dEdyb3VwLmxhc3RDaGlsZCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuXG4gICAgICAgICAgcm93LmNvbnRlbnQudW5zaGlmdChyZW1vdmVCdXR0b24pO1xuICAgICAgICAgIGlucHV0R3JvdXBXcmFwLmNvbnRlbnQgPSBbcm93RGF0YSwgYWRkQnV0dG9uXTtcbiAgICAgICAgICByb3cgPSBpbnB1dEdyb3VwV3JhcDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcm93O1xuICAgICAgfSk7XG4gICAgICBzdGFnZS50YWcgPSAnZGl2JztcbiAgICAgIHN0YWdlLmNvbnRlbnQgPSByb3dzO1xuICAgICAgc3RhZ2UuY2xhc3NOYW1lID0gJ2Ytc3RhZ2UnO1xuICAgICAgcmV0dXJuIHN0YWdlO1xuICAgIH0pO1xuXG4gICAgbGV0IGNvbmZpZyA9IHtcbiAgICAgIHRhZzogJ2RpdicsXG4gICAgICBpZDogYGZvcm1lby1yZW5kZXJlZC0ke3JlbmRlckNvdW50fWAsXG4gICAgICBjbGFzc05hbWU6ICdmb3JtZW8tcmVuZGVyIGZvcm1lbycsXG4gICAgICBjb250ZW50XG4gICAgfTtcblxuICAgIHJlbmRlclRhcmdldC5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZShjb25maWcpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDbGVhcnMgdGhlIGVkaXRvclxuICAgKiBAcGFyYW0gIHtPYmplY3R9IGV2dFxuICAgKi9cbiAgY2xlYXJGb3JtKGV2dCkge1xuICAgIHRoaXMuc3RhZ2VzLmZvckVhY2goZFN0YWdlID0+IHRoaXMuY2xlYXJTdGFnZShkU3RhZ2Uuc3RhZ2UpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmVzIGFsbCBmaWVsZHMgYW5kIHJlc2V0cyBhIHN0YWdlXG4gICAqIEBwYXJhbSAge1t0eXBlXX0gc3RhZ2UgRE9NIGVsZW1lbnRcbiAgICovXG4gIGNsZWFyU3RhZ2Uoc3RhZ2UpIHtcbiAgICBzdGFnZS5jbGFzc0xpc3QuYWRkKCdyZW1vdmluZy1hbGwtZmllbGRzJyk7XG5cbiAgICBjb25zdCByZXNldFN0YWdlID0gKCkgPT4ge1xuICAgICAgLy8gRW1wdHkgdGhlIGRhdGEgcmVnaXN0ZXIgZm9yIHN0YWdlXG4gICAgICAvLyBhbmQgZXZlcnl0aGluZyBiZWxvdyBpdC5cbiAgICAgIGRvbS5lbXB0eShzdGFnZSk7XG4gICAgICBzdGFnZS5jbGFzc0xpc3QucmVtb3ZlKCdyZW1vdmluZy1hbGwtZmllbGRzJyk7XG4gICAgICBkYXRhLnNhdmUoKTtcbiAgICAgIGRvbS5lbXB0eUNsYXNzKHN0YWdlKTtcbiAgICAgIGFuaW1hdGUuc2xpZGVEb3duKHN0YWdlLCAzMDApO1xuICAgIH07XG5cbiAgICAvLyB2YXIgbWFya0VtcHR5QXJyYXkgPSBbXTtcblxuICAgIC8vIGlmIChvcHRzLnByZXBlbmQpIHtcbiAgICAvLyAgIG1hcmtFbXB0eUFycmF5LnB1c2godHJ1ZSk7XG4gICAgLy8gfVxuXG4gICAgLy8gaWYgKG9wdHMuYXBwZW5kKSB7XG4gICAgLy8gICBtYXJrRW1wdHlBcnJheS5wdXNoKHRydWUpO1xuICAgIC8vIH1cblxuICAgIC8vIGlmICghbWFya0VtcHR5QXJyYXkuc29tZShlbGVtID0+IGVsZW0gPT09IHRydWUpKSB7XG4gICAgLy8gc3RhZ2UuY2xhc3NMaXN0LmFkZCgnZW1wdHktc3RhZ2VzJyk7XG4gICAgLy8gfVxuXG4gICAgYW5pbWF0ZS5zbGlkZVVwKHN0YWdlLCA2MDAsIHJlc2V0U3RhZ2UpO1xuICAgIC8vIGFuaW1hdGUuc2xpZGVVcChzdGFnZSwgMjAwMCk7XG4gIH1cblxuICAvKipcbiAgICogQWRkcyBhIHJvdyB0byB0aGUgc3RhZ2VcbiAgICogQHBhcmFtIHtTdHJpbmd9IHN0YWdlSURcbiAgICogQHBhcmFtIHtTdHJpbmd9IHJvd0lEXG4gICAqIEByZXR1cm4ge09iamVjdH0gRE9NIGVsZW1lbnRcbiAgICovXG4gIGFkZFJvdyhzdGFnZUlELCByb3dJRCkge1xuICAgIGxldCByb3cgPSBuZXcgUm93KHJvd0lEKTtcbiAgICBsZXQgc3RhZ2UgPSBzdGFnZUlEID8gdGhpcy5zdGFnZXMuZ2V0KHN0YWdlSUQpLnN0YWdlIDogdGhpcy5hY3RpdmVTdGFnZTtcbiAgICBzdGFnZS5hcHBlbmRDaGlsZChyb3cpO1xuICAgIGRhdGEuc2F2ZVJvd09yZGVyKHN0YWdlKTtcbiAgICB0aGlzLmVtcHR5Q2xhc3Moc3RhZ2UpO1xuICAgIGV2ZW50cy5mb3JtZW9VcGRhdGVkID0gbmV3IEN1c3RvbUV2ZW50KCdmb3JtZW9VcGRhdGVkJywge1xuICAgICAgZGF0YToge1xuICAgICAgICB1cGRhdGVUeXBlOiAnYWRkZWQnLFxuICAgICAgICBjaGFuZ2VkOiAncm93JyxcbiAgICAgICAgb2xkVmFsdWU6IHVuZGVmaW5lZCxcbiAgICAgICAgbmV3VmFsdWU6IGZvcm1EYXRhLnJvd3MuZ2V0KHJvdy5pZClcbiAgICAgIH1cbiAgICB9KTtcbiAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGV2ZW50cy5mb3JtZW9VcGRhdGVkKTtcbiAgICByZXR1cm4gcm93O1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgYSBDb2x1bW4gdG8gYSByb3dcbiAgICogQHBhcmFtIHtTdHJpbmd9IHJvd0lEXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBjb2x1bW5JRFxuICAgKiBAcmV0dXJuIHtPYmplY3R9IERPTSBlbGVtZW50XG4gICAqL1xuICBhZGRDb2x1bW4ocm93SUQsIGNvbHVtbklEKSB7XG4gICAgbGV0IGNvbHVtbiA9IG5ldyBDb2x1bW4oY29sdW1uSUQpO1xuICAgIGxldCByb3cgPSB0aGlzLnJvd3MuZ2V0KHJvd0lEKS5yb3c7XG4gICAgcm93LmFwcGVuZENoaWxkKGNvbHVtbik7XG4gICAgZGF0YS5zYXZlQ29sdW1uT3JkZXIocm93KTtcbiAgICB0aGlzLmVtcHR5Q2xhc3Mocm93KTtcbiAgICBldmVudHMuZm9ybWVvVXBkYXRlZCA9IG5ldyBDdXN0b21FdmVudCgnZm9ybWVvVXBkYXRlZCcsIHtcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgdXBkYXRlVHlwZTogJ2FkZGVkJyxcbiAgICAgICAgY2hhbmdlZDogJ2NvbHVtbicsXG4gICAgICAgIG9sZFZhbHVlOiB1bmRlZmluZWQsXG4gICAgICAgIG5ld1ZhbHVlOiBmb3JtRGF0YS5jb2x1bW5zLmdldChjb2x1bW4uaWQpXG4gICAgICB9XG4gICAgfSk7XG4gICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChldmVudHMuZm9ybWVvVXBkYXRlZCk7XG4gICAgcmV0dXJuIGNvbHVtbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBUb2dnbGVzIGEgc29ydGFibGVzIGBkaXNhYmxlZGAgb3B0aW9uLlxuICAgKiBAcGFyYW0gIHtPYmplY3R9IGVsZW0gRE9NIGVsZW1lbnRcbiAgICogQHBhcmFtICB7Qm9vbGVhbn0gc3RhdGVcbiAgICovXG4gIHRvZ2dsZVNvcnRhYmxlKGVsZW0sIHN0YXRlKSB7XG4gICAgbGV0IHtmVHlwZX0gPSBlbGVtO1xuICAgIGlmICghZlR5cGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IHBGdHlwZSA9IGVsZW0ucGFyZW50RWxlbWVudC5mVHlwZTtcbiAgICBjb25zdCBzb3J0YWJsZSA9IGRvbVtmVHlwZV0uZ2V0KGVsZW0uaWQpLnNvcnRhYmxlO1xuICAgIGlmIChzdGF0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBzdGF0ZSA9ICFzb3J0YWJsZS5vcHRpb24oJ2Rpc2FibGVkJyk7XG4gICAgfVxuICAgIHNvcnRhYmxlLm9wdGlvbignZGlzYWJsZWQnLCBzdGF0ZSk7XG4gICAgaWYgKHBGdHlwZSAmJiBoLmluQXJyYXkocEZ0eXBlLCBbJ3Jvd3MnLCAnY29sdW1ucycsICdzdGFnZXMnXSkpIHtcbiAgICAgIHRoaXMudG9nZ2xlU29ydGFibGUoZWxlbS5wYXJlbnRFbGVtZW50LCBzdGF0ZSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgYSBmaWVsZCB0byBhIGNvbHVtblxuICAgKiBAcGFyYW0ge1N0cmluZ30gY29sdW1uSURcbiAgICogQHBhcmFtIHtTdHJpbmd9IGZpZWxkSURcbiAgICogQHJldHVybiB7T2JqZWN0fSBmaWVsZFxuICAgKi9cbiAgYWRkRmllbGQoY29sdW1uSUQsIGZpZWxkSUQpIHtcbiAgICBsZXQgZmllbGQgPSBuZXcgRmllbGQoZmllbGRJRCk7XG4gICAgaWYgKGNvbHVtbklEKSB7XG4gICAgICBsZXQgY29sdW1uID0gdGhpcy5jb2x1bW5zLmdldChjb2x1bW5JRCkuY29sdW1uO1xuICAgICAgY29sdW1uLmFwcGVuZENoaWxkKGZpZWxkKTtcbiAgICAgIGRhdGEuc2F2ZUZpZWxkT3JkZXIoY29sdW1uKTtcbiAgICAgIHRoaXMuZW1wdHlDbGFzcyhjb2x1bW4pO1xuICAgIH1cbiAgICBldmVudHMuZm9ybWVvVXBkYXRlZCA9IG5ldyBDdXN0b21FdmVudCgnZm9ybWVvVXBkYXRlZCcsIHtcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgdXBkYXRlVHlwZTogJ2FkZCcsXG4gICAgICAgIGNoYW5nZWQ6ICdmaWVsZCcsXG4gICAgICAgIG9sZFZhbHVlOiB1bmRlZmluZWQsXG4gICAgICAgIG5ld1ZhbHVlOiBmb3JtRGF0YS5maWVsZHMuZ2V0KGZpZWxkLmlkKVxuICAgICAgfVxuICAgIH0pO1xuICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoZXZlbnRzLmZvcm1lb1VwZGF0ZWQpO1xuICAgIHJldHVybiBmaWVsZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBcGxseSBlbXB0eSBjbGFzcyB0byBlbGVtZW50IGlmIGRvZXMgbm90IGhhdmUgY2hpbGRyZW5cbiAgICogQHBhcmFtICB7T2JqZWN0fSBlbGVtXG4gICAqL1xuICBlbXB0eUNsYXNzKGVsZW0pIHtcbiAgICBsZXQgdHlwZSA9IGVsZW0uZlR5cGU7XG4gICAgaWYgKHR5cGUpIHtcbiAgICAgIGxldCBjaGlsZE1hcCA9IG5ldyBNYXAoKTtcbiAgICAgIGNoaWxkTWFwLnNldCgncm93cycsICdjb2x1bW5zJyk7XG4gICAgICBjaGlsZE1hcC5zZXQoJ2NvbHVtbnMnLCAnZmllbGRzJyk7XG4gICAgICBjaGlsZE1hcC5zZXQoJ3N0YWdlcycsICdyb3dzJyk7XG4gICAgICBsZXQgY2hpbGRyZW4gPSBlbGVtLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoYHN0YWdlLSR7Y2hpbGRNYXAuZ2V0KHR5cGUpfWApO1xuICAgICAgZWxlbS5jbGFzc0xpc3QudG9nZ2xlKGBlbXB0eS0ke3R5cGV9YCwgIWNoaWxkcmVuLmxlbmd0aCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNob3J0aGFuZCBleHBhbmRlciBmb3IgZG9tLmNyZWF0ZVxuICAgKiBAcGFyYW0gIHtTdHJpbmd9IHRhZ1xuICAgKiBAcGFyYW0gIHtPYmplY3R9IGF0dHJzXG4gICAqIEBwYXJhbSAge09iamVjdHxBcnJheXxTdHJpbmd9IGNvbnRlbnRcbiAgICogQHJldHVybiB7T2JqZWN0fSBET00gbm9kZVxuICAgKi9cbiAgaCh0YWcsIGF0dHJzLCBjb250ZW50KSB7XG4gICAgcmV0dXJuIHRoaXMuY3JlYXRlKHt0YWcsIGF0dHJzLCBjb250ZW50fSk7XG4gIH1cblxuICAvKipcbiAgICogU3R5bGUgT2JqZWN0XG4gICAqIEBwYXJhbSAge09iamVjdH0gcnVsZXNcbiAgICogQHJldHVybiB7TnVtYmVyfSBpbmRleCBvZiBhZGRlZCBydWxlXG4gICAqL1xuICBpbnNlcnRSdWxlKHJ1bGVzKSB7XG4gICAgY29uc3Qgc3R5bGVTaGVldCA9IHRoaXMuc3R5bGVTaGVldDtcbiAgICBsZXQgcnVsZXNMZW5ndGggPSBzdHlsZVNoZWV0LmNzc1J1bGVzLmxlbmd0aDtcbiAgICBmb3IgKGxldCBpID0gMCwgcmwgPSBydWxlcy5sZW5ndGg7IGkgPCBybDsgaSsrKSB7XG4gICAgICBsZXQgaiA9IDE7XG4gICAgICBsZXQgcnVsZSA9IHJ1bGVzW2ldO1xuICAgICAgbGV0IHNlbGVjdG9yID0gcnVsZXNbaV1bMF07XG4gICAgICBsZXQgcHJvcFN0ciA9ICcnO1xuICAgICAgLy8gSWYgdGhlIHNlY29uZCBhcmd1bWVudCBvZiBhIHJ1bGUgaXMgYW4gYXJyYXlcbiAgICAgIC8vIG9mIGFycmF5cywgY29ycmVjdCBvdXIgdmFyaWFibGVzLlxuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChydWxlWzFdWzBdKSA9PT0gJ1tvYmplY3QgQXJyYXldJykge1xuICAgICAgICBydWxlID0gcnVsZVsxXTtcbiAgICAgICAgaiA9IDA7XG4gICAgICB9XG5cbiAgICAgIGZvciAobGV0IHBsID0gcnVsZS5sZW5ndGg7IGogPCBwbDsgaisrKSB7XG4gICAgICAgIGxldCBwcm9wID0gcnVsZVtqXTtcbiAgICAgICAgbGV0IGltcG9ydGFudCA9IChwcm9wWzJdID8gJyAhaW1wb3J0YW50JyA6ICcnKTtcbiAgICAgICAgcHJvcFN0ciArPSBgJHtwcm9wWzBdfToke3Byb3BbMV19JHtpbXBvcnRhbnR9O2A7XG4gICAgICB9XG5cbiAgICAgIC8vIEluc2VydCBDU1MgUnVsZVxuICAgICAgcmV0dXJuIHN0eWxlU2hlZXQuaW5zZXJ0UnVsZShgJHtzZWxlY3Rvcn0geyAke3Byb3BTdHJ9IH1gLCBydWxlc0xlbmd0aCk7XG4gICAgfVxuICB9XG5cbn1cblxuY29uc3QgZG9tID0gbmV3IERPTSgpO1xuXG5leHBvcnQgZGVmYXVsdCBkb207XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL2pzL2NvbW1vbi9kb20uanMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBO0FBQUE7QUFDQTs7Ozs7OztBQUlBO0FBS0E7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWtLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBSEE7QUFBQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQXJCQTtBQUNBO0FBdUJBO0FBQ0E7QUFHQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRkE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFyQkE7QUFDQTtBQUNBO0FBQUE7QUFvQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBQ0E7QUF5QkE7QUFDQTtBQUNBO0FBUUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQVBBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBTkE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFSQTtBQVVBO0FBQ0E7QUFDQTtBQXRCQTtBQUNBO0FBd0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBdEJBO0FBSEE7QUFDQTtBQTRCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFRQTtBQUNBO0FBREE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBNUJBO0FBQ0E7QUE4QkE7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFBQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFSQTtBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVJBO0FBVUE7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBTUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBTkE7QUFjQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFPQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQU1BO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWhCQTtBQUpBO0FBdUJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQVBBO0FBQ0E7QUFlQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUtBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBZUE7QUFFQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFEQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFEQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQURBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBOTlDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUhBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQURBO0FBTEE7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFiQTtBQVJBO0FBQ0E7QUF3QkE7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTkE7QUFSQTtBQUNBO0FBaUJBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFSQTtBQUNBO0FBZUE7QUFDQTtBQUNBO0FBQ0E7QUFJQTtBQUNBO0FBTkE7QUFEQTtBQVVBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFOQTtBQURBO0FBVUE7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQU5BO0FBREE7QUFyQkE7QUFDQTtBQWdDQTtBQUlBO0FBQ0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7O0FBNDBDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///0\n')},function(module,exports,__webpack_require__){'use strict';eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };\n\nvar _dom = __webpack_require__(/*! ./dom */ 0);\n\nvar _dom2 = _interopRequireDefault(_dom);\n\nvar _utils = __webpack_require__(/*! ./utils */ 3);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|(["\'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(\\.|\\[\\])(?:\\4|$))/g;\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\nvar stringToPath = function stringToPath(string) {\n  var result = [];\n  if (Array.isArray(string)) {\n    result = string;\n  } else {\n    string.replace(rePropName, function (match, number, quote, string) {\n      var segment = void 0;\n      if (quote) {\n        segment = string.replace(reEscapeChar, \'$1\');\n      } else {\n        segment = number || match;\n      }\n      result.push(segment);\n    });\n  }\n  return result;\n};\n\nvar helpers = {\n  hyphenCase: function hyphenCase(str) {\n    str = str.replace(/([A-Z])/g, function ($1) {\n      return \'-\' + $1.toLowerCase();\n    });\n\n    return str.replace(/\\s/g, \'-\').replace(/^-+/g, \'\');\n  },\n\n  safeAttrName: function safeAttrName(name) {\n    var safeAttr = {\n      className: \'class\'\n    };\n\n    return safeAttr[name] || helpers.hyphenCase(name);\n  },\n  ajax: function ajax(file, callback) {\n    return new window.Promise(function (resolve, reject) {\n      var xhr = new XMLHttpRequest();\n      xhr.open(\'GET\', file, true);\n      xhr.onload = function () {\n        if (this.status >= 200 && this.status < 300) {\n          callback(xhr);\n          resolve(xhr.response);\n        } else {\n          reject({\n            status: this.status,\n            statusText: xhr.statusText\n          });\n        }\n      };\n      xhr.onerror = function () {\n        reject({\n          status: this.status,\n          statusText: xhr.statusText\n        });\n      };\n      xhr.send();\n    });\n  },\n  insertIcons: function insertIcons(response) {\n    var id = \'formeo-sprite\';\n    var iconSpriteWrap = _dom2.default.create({\n      tag: \'div\',\n      content: response.responseText,\n      id: id\n    });\n    iconSpriteWrap.style.display = \'none\';\n    var existingSprite = document.getElementById(id);\n    if (existingSprite) {\n      existingSprite.parentElement.replaceChild(iconSpriteWrap, existingSprite);\n    } else {\n      document.body.insertBefore(iconSpriteWrap, document.body.childNodes[0]);\n    }\n  },\n  insertStyle: function insertStyle(response) {\n    var formeoStyle = _dom2.default.create({\n      tag: \'style\',\n      content: response.responseText\n    });\n    document.head.appendChild(formeoStyle);\n  },\n  capitalize: function capitalize(str) {\n    return str.replace(/\\b\\w/g, function (m) {\n      return m.toUpperCase();\n    });\n  },\n\n  inArray: function inArray(needle, haystack) {\n    return haystack.indexOf(needle) !== -1;\n  },\n\n  forEach: function forEach(array, callback, scope) {\n    for (var i = 0; i < array.length; i++) {\n      callback.call(scope, array[i], i);\n    }\n  },\n\n  copyObj: function copyObj(obj) {\n    return window.JSON.parse(window.JSON.stringify(obj));\n  },\n\n  map: function map(arr, callback, scope) {\n    var newArray = [];\n    helpers.forEach(arr, function (elem, i) {\n      return newArray.push(callback(i));\n    });\n\n    return newArray;\n  },\n  subtract: function subtract(arr, from) {\n    return from.filter(function (a) {\n      return !~this.indexOf(a);\n    }, arr);\n  },\n\n  indexOfNode: function indexOfNode(node, parent) {\n    var parentElement = parent || node.parentElement;\n    var nodeList = Array.prototype.slice.call(parentElement.childNodes);\n    return nodeList.indexOf(node);\n  },\n\n  isInt: function isInt(n) {\n    return Number(n) === n && n % 1 === 0;\n  },\n\n  get: function get(object, path) {\n    path = stringToPath(path);\n\n    var index = 0;\n    var length = path.length;\n\n    while (object != null && index < length) {\n      object = object[path[index++]];\n    }\n\n    return index && index === length ? object : undefined;\n  },\n  set: function set(object, path, value, customizer) {\n    path = stringToPath(path);\n\n    var index = -1;\n    var length = path.length;\n    var lastIndex = length - 1;\n    var nested = object;\n\n    while (nested !== null && ++index < length) {\n      var key = path[index];\n      if ((typeof nested === \'undefined\' ? \'undefined\' : _typeof(nested)) === \'object\') {\n        var newValue = value;\n        if (index !== lastIndex) {\n          var objValue = nested[key];\n          newValue = customizer ? customizer(objValue, key, nested) : undefined;\n          if (newValue === undefined) {\n            newValue = objValue === null ? [] : objValue;\n          }\n        }\n\n        if (!(hasOwnProperty.call(nested, key) && nested[key] === newValue) || newValue === undefined && !(key in nested)) {\n          nested[key] = newValue;\n        }\n      }\n      nested = nested[key];\n    }\n\n    return object;\n  },\n\n  merge: function merge(obj1, obj2) {\n    var mergedObj = Object.assign({}, obj1, obj2);\n    for (var prop in obj2) {\n      if (mergedObj.hasOwnProperty(prop)) {\n        if (Array.isArray(obj2[prop])) {\n          if (obj1) {\n            if (Array.isArray(obj1[prop])) {\n              mergedObj[prop] = obj1[prop].concat(obj2[prop]);\n            } else {\n              mergedObj[prop] = obj2[prop];\n            }\n          } else {\n            mergedObj[prop] = obj2[prop];\n          }\n        } else if (_typeof(obj2[prop]) === \'object\') {\n          mergedObj[prop] = helpers.merge(obj1[prop], obj2[prop]);\n        } else {\n          mergedObj[prop] = obj2[prop];\n        }\n      }\n    }\n    return mergedObj;\n  },\n\n  orderObjectsBy: function orderObjectsBy(elements, order, path) {\n    var objOrder = (0, _utils.unique)(order);\n    var newOrder = objOrder.map(function (key) {\n      return elements.filter(function (elem) {\n        var propVal = helpers.get(elem, path);\n        return propVal === key;\n      })[0];\n    }).filter(Boolean);\n    var orderedElements = newOrder.concat(elements);\n\n    return (0, _utils.unique)(orderedElements);\n  },\n\n  toggleElementsByStr: function toggleElementsByStr(elems, term) {\n    var filteredElems = [];\n    helpers.forEach(elems, function (elem) {\n      var txt = elem.textContent.toLowerCase();\n      if (txt.indexOf(term.toLowerCase()) !== -1) {\n        elem.style.display = \'block\';\n        filteredElems.push(elem);\n      } else {\n        elem.style.display = \'none\';\n      }\n    });\n\n    return filteredElems;\n  }\n\n};\n\nexports.default = helpers;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvanMvY29tbW9uL2hlbHBlcnMuanM/ZjM5NyJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5pbXBvcnQgZG9tIGZyb20gJy4vZG9tJztcbmltcG9ydCB7dW5pcXVlfSBmcm9tICcuL3V0aWxzJztcblxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG5jb25zdCByZVByb3BOYW1lID0gL1teLltcXF1dK3xcXFsoPzooLT9cXGQrKD86XFwuXFxkKyk/KXwoW1wiJ10pKCg/Oig/IVxcMilbXlxcXFxdfFxcXFwuKSo/KVxcMilcXF18KD89KFxcLnxcXFtcXF0pKD86XFw0fCQpKS9nO1xuY29uc3QgcmVFc2NhcGVDaGFyID0gL1xcXFwoXFxcXCk/L2c7XG5cbmNvbnN0IHN0cmluZ1RvUGF0aCA9IGZ1bmN0aW9uKHN0cmluZykge1xuICBsZXQgcmVzdWx0ID0gW107XG4gIGlmIChBcnJheS5pc0FycmF5KHN0cmluZykpIHtcbiAgICByZXN1bHQgPSBzdHJpbmc7XG4gIH0gZWxzZSB7XG4gICAgc3RyaW5nLnJlcGxhY2UocmVQcm9wTmFtZSwgZnVuY3Rpb24obWF0Y2gsIG51bWJlciwgcXVvdGUsIHN0cmluZykge1xuICAgICAgbGV0IHNlZ21lbnQ7XG4gICAgICBpZiAocXVvdGUpIHtcbiAgICAgICAgc2VnbWVudCA9IHN0cmluZy5yZXBsYWNlKHJlRXNjYXBlQ2hhciwgJyQxJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZWdtZW50ID0gKG51bWJlciB8fCBtYXRjaCk7XG4gICAgICB9XG4gICAgICByZXN1bHQucHVzaChzZWdtZW50KTtcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuY29uc3QgaGVscGVycyA9IHtcblxuICAvKipcbiAgICogQ29udmVydCBjYW1lbENhc2UgaW50byBsb3dlcmNhc2UtaHlwaGVuXG4gICAqXG4gICAqIEBwYXJhbSAge1N0cmluZ30gc3RyXG4gICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICovXG4gIGh5cGhlbkNhc2U6IChzdHIpID0+IHtcbiAgICBzdHIgPSBzdHIucmVwbGFjZSgvKFtBLVpdKS9nLCBmdW5jdGlvbigkMSkge1xuICAgICAgcmV0dXJuICctJyArICQxLnRvTG93ZXJDYXNlKCk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gc3RyLnJlcGxhY2UoL1xccy9nLCAnLScpLnJlcGxhY2UoL14tKy9nLCAnJyk7XG4gIH0sXG5cbiAgc2FmZUF0dHJOYW1lOiBuYW1lID0+IHtcbiAgICBsZXQgc2FmZUF0dHIgPSB7XG4gICAgICBjbGFzc05hbWU6ICdjbGFzcydcbiAgICB9O1xuXG4gICAgcmV0dXJuIHNhZmVBdHRyW25hbWVdIHx8IGhlbHBlcnMuaHlwaGVuQ2FzZShuYW1lKTtcbiAgfSxcbiAgYWpheDogKGZpbGUsIGNhbGxiYWNrKSA9PiB7XG4gICAgcmV0dXJuIG5ldyB3aW5kb3cuUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIGNvbnN0IHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgeGhyLm9wZW4oJ0dFVCcsIGZpbGUsIHRydWUpO1xuICAgICAgeGhyLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5zdGF0dXMgPj0gMjAwICYmIHRoaXMuc3RhdHVzIDwgMzAwKSB7XG4gICAgICAgICAgY2FsbGJhY2soeGhyKTtcbiAgICAgICAgICByZXNvbHZlKHhoci5yZXNwb25zZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVqZWN0KHtcbiAgICAgICAgICAgIHN0YXR1czogdGhpcy5zdGF0dXMsXG4gICAgICAgICAgICBzdGF0dXNUZXh0OiB4aHIuc3RhdHVzVGV4dFxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgeGhyLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmVqZWN0KHtcbiAgICAgICAgICBzdGF0dXM6IHRoaXMuc3RhdHVzLFxuICAgICAgICAgIHN0YXR1c1RleHQ6IHhoci5zdGF0dXNUZXh0XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICAgIHhoci5zZW5kKCk7XG4gICAgfSk7XG4gIH0sXG4gIGluc2VydEljb25zOiByZXNwb25zZSA9PiB7XG4gICAgY29uc3QgaWQgPSAnZm9ybWVvLXNwcml0ZSc7XG4gICAgbGV0IGljb25TcHJpdGVXcmFwID0gZG9tLmNyZWF0ZSh7XG4gICAgICB0YWc6ICdkaXYnLFxuICAgICAgY29udGVudDogcmVzcG9uc2UucmVzcG9uc2VUZXh0LFxuICAgICAgaWRcbiAgICB9KTtcbiAgICBpY29uU3ByaXRlV3JhcC5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIGNvbnN0IGV4aXN0aW5nU3ByaXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xuICAgIGlmIChleGlzdGluZ1Nwcml0ZSkge1xuICAgICAgZXhpc3RpbmdTcHJpdGUucGFyZW50RWxlbWVudC5yZXBsYWNlQ2hpbGQoaWNvblNwcml0ZVdyYXAsIGV4aXN0aW5nU3ByaXRlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZG9jdW1lbnQuYm9keS5pbnNlcnRCZWZvcmUoaWNvblNwcml0ZVdyYXAsIGRvY3VtZW50LmJvZHkuY2hpbGROb2Rlc1swXSk7XG4gICAgfVxuICB9LFxuICBpbnNlcnRTdHlsZTogcmVzcG9uc2UgPT4ge1xuICAgIGxldCBmb3JtZW9TdHlsZSA9IGRvbS5jcmVhdGUoe1xuICAgICAgdGFnOiAnc3R5bGUnLFxuICAgICAgY29udGVudDogcmVzcG9uc2UucmVzcG9uc2VUZXh0XG4gICAgfSk7XG4gICAgZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChmb3JtZW9TdHlsZSk7XG4gIH0sXG4gIGNhcGl0YWxpemU6IHN0ciA9PiB7XG4gICAgcmV0dXJuIHN0ci5yZXBsYWNlKC9cXGJcXHcvZywgZnVuY3Rpb24obSkge1xuICAgICAgcmV0dXJuIG0udG9VcHBlckNhc2UoKTtcbiAgICB9KTtcbiAgfSxcbiAgLy8gbmljZXIgc3ludGF4IGZvciBjaGVja2luZyB0aGUgZXhpc3RlbmNlIG9mIGFuIGVsZW1lbnQgaW4gYW4gYXJyYXlcbiAgaW5BcnJheTogKG5lZWRsZSwgaGF5c3RhY2spID0+IHtcbiAgICByZXR1cm4gaGF5c3RhY2suaW5kZXhPZihuZWVkbGUpICE9PSAtMTtcbiAgfSxcbiAgLy8gZm9yRWFjaCB0aGF0IGNhbiBiZSB1c2VkIG9uIG5vZGVMaXN0XG4gIGZvckVhY2g6IChhcnJheSwgY2FsbGJhY2ssIHNjb3BlKSA9PiB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgY2FsbGJhY2suY2FsbChzY29wZSwgYXJyYXlbaV0sIGkpO1xuICAgIH1cbiAgfSxcbiAgLy8gQWRkZWQgYmVjYXVzZSBPYmplY3QuYXNzaWduIGlzIG11dGF0aW5nIG9iamVjdHMuXG4gIC8vIE1heWJlIGEgYmFiZWwgcG9seWZpbGwgaXNzdWU/XG4gIGNvcHlPYmo6IG9iaiA9PiB7XG4gICAgcmV0dXJuICh3aW5kb3cuSlNPTi5wYXJzZSh3aW5kb3cuSlNPTi5zdHJpbmdpZnkob2JqKSkpO1xuICB9LFxuXG4gIC8vIGJhc2ljIG1hcCB0aGF0IGNhbiBiZSB1c2VkIG9uIG5vZGVMaXN0XG4gIG1hcDogKGFyciwgY2FsbGJhY2ssIHNjb3BlKSA9PiB7XG4gICAgbGV0IG5ld0FycmF5ID0gW107XG4gICAgaGVscGVycy5mb3JFYWNoKGFyciwgKGVsZW0sIGkpID0+IG5ld0FycmF5LnB1c2goY2FsbGJhY2soaSkpKTtcblxuICAgIHJldHVybiBuZXdBcnJheTtcbiAgfSxcbiAgc3VidHJhY3Q6IChhcnIsIGZyb20pID0+IHtcbiAgICByZXR1cm4gZnJvbS5maWx0ZXIoZnVuY3Rpb24oYSkge1xuICAgICAgcmV0dXJuICF+dGhpcy5pbmRleE9mKGEpO1xuICAgIH0sIGFycik7XG4gIH0sXG4gIC8vIGZpbmQgdGhlIGluZGV4IG9mIG9uZSBub2RlIGluIGFub3RoZXJcbiAgaW5kZXhPZk5vZGU6IChub2RlLCBwYXJlbnQpID0+IHtcbiAgICBsZXQgcGFyZW50RWxlbWVudCA9IHBhcmVudCB8fCBub2RlLnBhcmVudEVsZW1lbnQ7XG4gICAgbGV0IG5vZGVMaXN0ID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwocGFyZW50RWxlbWVudC5jaGlsZE5vZGVzKTtcbiAgICByZXR1cm4gbm9kZUxpc3QuaW5kZXhPZihub2RlKTtcbiAgfSxcbiAgLy8gVGVzdHMgaWYgaXMgd2hvbGUgbnVtYmVyLiByZXR1cm5zIGZhbHNlIGlmIG4gaXMgRmxvYXRcbiAgaXNJbnQ6IChuKSA9PiB7XG4gICAgcmV0dXJuIE51bWJlcihuKSA9PT0gbiAmJiBuICUgMSA9PT0gMDtcbiAgfSxcbiAgLyoqXG4gICAqIGdldCBuZXN0ZWQgcHJvcGVydHkgdmFsdWUgaW4gYW4gb2JqZWN0XG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICogQHBhcmFtIHtTdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICogQHJldHVybiB7U3RyaW5nfEFycmF5fE9iamVjdH0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gICAqL1xuICBnZXQ6IChvYmplY3QsIHBhdGgpID0+IHtcbiAgICBwYXRoID0gc3RyaW5nVG9QYXRoKHBhdGgpO1xuXG4gICAgbGV0IGluZGV4ID0gMDtcbiAgICBsZXQgbGVuZ3RoID0gcGF0aC5sZW5ndGg7XG5cbiAgICB3aGlsZSAob2JqZWN0ICE9IG51bGwgJiYgaW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIG9iamVjdCA9IG9iamVjdFtwYXRoW2luZGV4KytdXTtcbiAgICB9XG5cbiAgICByZXR1cm4gKGluZGV4ICYmIGluZGV4ID09PSBsZW5ndGgpID8gb2JqZWN0IDogdW5kZWZpbmVkO1xuICB9LFxuICBzZXQ6IChvYmplY3QsIHBhdGgsIHZhbHVlLCBjdXN0b21pemVyKSA9PiB7XG4gICAgcGF0aCA9IHN0cmluZ1RvUGF0aChwYXRoKTtcblxuICAgIGxldCBpbmRleCA9IC0xO1xuICAgIGxldCBsZW5ndGggPSBwYXRoLmxlbmd0aDtcbiAgICBsZXQgbGFzdEluZGV4ID0gbGVuZ3RoIC0gMTtcbiAgICBsZXQgbmVzdGVkID0gb2JqZWN0O1xuXG4gICAgd2hpbGUgKG5lc3RlZCAhPT0gbnVsbCAmJiArK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBsZXQga2V5ID0gcGF0aFtpbmRleF07XG4gICAgICBpZiAodHlwZW9mIG5lc3RlZCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgbGV0IG5ld1ZhbHVlID0gdmFsdWU7XG4gICAgICAgIGlmIChpbmRleCAhPT0gbGFzdEluZGV4KSB7XG4gICAgICAgICAgbGV0IG9ialZhbHVlID0gbmVzdGVkW2tleV07XG4gICAgICAgICAgbmV3VmFsdWUgPSBjdXN0b21pemVyID8gY3VzdG9taXplcihvYmpWYWx1ZSwga2V5LCBuZXN0ZWQpIDogdW5kZWZpbmVkO1xuICAgICAgICAgIGlmIChuZXdWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IG9ialZhbHVlID09PSBudWxsID8gW10gOiBvYmpWYWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIShoYXNPd25Qcm9wZXJ0eS5jYWxsKG5lc3RlZCwga2V5KSAmJiAobmVzdGVkW2tleV0gPT09IG5ld1ZhbHVlKSkgfHxcbiAgICAgICAgICAobmV3VmFsdWUgPT09IHVuZGVmaW5lZCAmJiAhKGtleSBpbiBuZXN0ZWQpKSkge1xuICAgICAgICAgIG5lc3RlZFtrZXldID0gbmV3VmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG5lc3RlZCA9IG5lc3RlZFtrZXldO1xuICAgIH1cblxuICAgIHJldHVybiBvYmplY3Q7XG4gIH0sXG4gIC8qKlxuICAgKiBNZXJnZSBvbmUgb2JqZWN0IHdpdGggYW5vdGhlci5cbiAgICogVGhpcyBpcyBleHBlbnNpdmUsIHVzZSBhcyBsaXR0bGUgYXMgcG9zc2libGUuXG4gICAqIEBwYXJhbSAge09iamVjdH0gb2JqMVxuICAgKiBAcGFyYW0gIHtPYmplY3R9IG9iajJcbiAgICogQHJldHVybiB7T2JqZWN0fSAgICAgIG1lcmdlZCBvYmplY3RcbiAgICovXG4gIG1lcmdlOiAob2JqMSwgb2JqMikgPT4ge1xuICAgIGxldCBtZXJnZWRPYmogPSBPYmplY3QuYXNzaWduKHt9LCBvYmoxLCBvYmoyKTtcbiAgICBmb3IgKGxldCBwcm9wIGluIG9iajIpIHtcbiAgICAgIGlmIChtZXJnZWRPYmouaGFzT3duUHJvcGVydHkocHJvcCkpIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob2JqMltwcm9wXSkpIHtcbiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgICAgICBpZiAob2JqMSkge1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob2JqMVtwcm9wXSkpIHtcbiAgICAgICAgICAgICAgbWVyZ2VkT2JqW3Byb3BdID0gb2JqMVtwcm9wXS5jb25jYXQob2JqMltwcm9wXSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBtZXJnZWRPYmpbcHJvcF0gPSBvYmoyW3Byb3BdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBtZXJnZWRPYmpbcHJvcF0gPSBvYmoyW3Byb3BdO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygb2JqMltwcm9wXSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICBtZXJnZWRPYmpbcHJvcF0gPSBoZWxwZXJzLm1lcmdlKG9iajFbcHJvcF0sIG9iajJbcHJvcF0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG1lcmdlZE9ialtwcm9wXSA9IG9iajJbcHJvcF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1lcmdlZE9iajtcbiAgfSxcblxuICAvKipcbiAgICogT3JkZXJzIGFuIGFycmF5IG9mIG9iamVjdHMgYnkgc3BlY2lmaWMgYXR0cmlidXRlXG4gICAqIEBwYXJhbSAge0FycmF5fSAgZWxlbWVudHMgIEFycmF5IG9mIGVsZW1lbnQgb2JqZWN0c1xuICAgKiBAcGFyYW0gIHtBcnJheX0gIG9yZGVyICAgICBhcnJheSBvZiBrZXlzIHRvIG9yZGVyIG9iamVjdHMgYnlcbiAgICogQHBhcmFtICB7U3RyaW5nfSBwYXRoICAgICAgc3RyaW5nIHBhdGggdG8gcHJvcGVydHkgdG8gb3JkZXIgYnlcbiAgICogQHJldHVybiB7QXJyYXl9ICAgICAgICAgICAgT3JkZXJlZCBBcnJheSBvZiBFbGVtZW50IE9iamVjdHNcbiAgICovXG4gIG9yZGVyT2JqZWN0c0J5OiAoZWxlbWVudHMsIG9yZGVyLCBwYXRoKSA9PiB7XG4gICAgbGV0IG9iak9yZGVyID0gdW5pcXVlKG9yZGVyKTtcbiAgICBjb25zdCBuZXdPcmRlciA9IG9iak9yZGVyLm1hcChrZXkgPT4ge1xuICAgICAgICByZXR1cm4gZWxlbWVudHMuZmlsdGVyKGZ1bmN0aW9uKGVsZW0pIHtcbiAgICAgICAgICBsZXQgcHJvcFZhbCA9IGhlbHBlcnMuZ2V0KGVsZW0sIHBhdGgpO1xuICAgICAgICAgIHJldHVybiBwcm9wVmFsID09PSBrZXk7XG4gICAgICAgIH0pWzBdO1xuICAgICAgfSkuZmlsdGVyKEJvb2xlYW4pO1xuICAgIGxldCBvcmRlcmVkRWxlbWVudHMgPSBuZXdPcmRlci5jb25jYXQoZWxlbWVudHMpO1xuXG4gICAgcmV0dXJuIHVuaXF1ZShvcmRlcmVkRWxlbWVudHMpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBIaWRlIG9yIHNob3cgYW4gQXJyYXkgb3IgSFRNTENvbGxlY3Rpb24gb2YgZWxlbWVudHNcbiAgICogQHBhcmFtICB7QXJyYXl9IGVsZW1zXG4gICAqIEBwYXJhbSAge1N0cmluZ30gdGVybSAgbWF0Y2ggdGV4dENvbnRlbnQgdG8gdGhpcyB0ZXJtXG4gICAqIEByZXR1cm4ge0FycmF5fSAgICAgICAgZmlsdGVyZWQgZWxlbWVudHNcbiAgICovXG4gIHRvZ2dsZUVsZW1lbnRzQnlTdHI6IChlbGVtcywgdGVybSkgPT4ge1xuICAgIGxldCBmaWx0ZXJlZEVsZW1zID0gW107XG4gICAgaGVscGVycy5mb3JFYWNoKGVsZW1zLCBlbGVtID0+IHtcbiAgICAgIGxldCB0eHQgPSBlbGVtLnRleHRDb250ZW50LnRvTG93ZXJDYXNlKCk7XG4gICAgICBpZiAodHh0LmluZGV4T2YodGVybS50b0xvd2VyQ2FzZSgpKSAhPT0gLTEpIHtcbiAgICAgICAgZWxlbS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgZmlsdGVyZWRFbGVtcy5wdXNoKGVsZW0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWxlbS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGZpbHRlcmVkRWxlbXM7XG4gIH1cblxufTtcblxuZXhwb3J0IGRlZmF1bHQgaGVscGVycztcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvanMvY29tbW9uL2hlbHBlcnMuanMiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7Ozs7Ozs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBMU9BO0FBQ0E7QUE0T0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///1\n')},function(module,exports,__webpack_require__){'use strict';eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.registeredFields = exports.formData = exports.data = undefined;\n\nvar _events = __webpack_require__(/*! ./events */ 5);\n\nvar _events2 = _interopRequireDefault(_events);\n\nvar _helpers = __webpack_require__(/*! ./helpers */ 1);\n\nvar _helpers2 = _interopRequireDefault(_helpers);\n\nvar _dom = __webpack_require__(/*! ./dom */ 0);\n\nvar _dom2 = _interopRequireDefault(_dom);\n\nvar _utils = __webpack_require__(/*! ./utils */ 3);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar _data = {};\nvar formData = void 0;\n\nvar registeredFields = {};\n\nvar data = {\n  init: function init(opts, userFormData) {\n    var defaultFormData = {\n      id: (0, _utils.uuid)(),\n      settings: new Map(),\n      stages: new Map(),\n      rows: new Map(),\n      columns: new Map(),\n      fields: new Map()\n    };\n    _data.opts = opts;\n    var processFormData = function processFormData(data) {\n      if (typeof data === \'string\') {\n        data = window.JSON.parse(data);\n      }\n\n      data.settings = (0, _utils.objToStrMap)(data.settings);\n      data.stages = (0, _utils.objToStrMap)(data.stages);\n      data.rows = (0, _utils.objToStrMap)(data.rows);\n      data.columns = (0, _utils.objToStrMap)(data.columns);\n      data.fields = (0, _utils.objToStrMap)(data.fields);\n\n      exports.formData = formData = Object.assign({}, defaultFormData, data);\n    };\n\n    if (userFormData) {\n      processFormData(userFormData);\n    } else if (window.sessionStorage && _data.opts.sessionStorage) {\n      var sessionFormData = window.sessionStorage.getItem(\'formData\');\n      if (sessionFormData) {\n        processFormData(sessionFormData);\n      }\n    }\n\n    if (!formData) {\n      exports.formData = formData = defaultFormData;\n    }\n\n    return formData;\n  },\n\n  saveColumnOrder: function saveColumnOrder(row) {\n    var columns = row.getElementsByClassName(\'stage-columns\');\n    var columnOrder = _helpers2.default.map(columns, function (i) {\n      return columns[i].id;\n    });\n    var rowData = formData.rows.get(row.id);\n\n    rowData.columns = columnOrder;\n\n    return columnOrder;\n  },\n\n  saveFieldOrder: function saveFieldOrder(column) {\n    var fields = column.getElementsByClassName(\'stage-fields\');\n    var fieldOrder = _helpers2.default.map(fields, function (i) {\n      return fields[i].id;\n    });\n\n    formData.columns.get(column.id).fields = fieldOrder;\n\n    return fieldOrder;\n  },\n\n  saveRowOrder: function saveRowOrder(stage) {\n    if (!stage) {\n      stage = _dom2.default.activeStage;\n    }\n    var oldValue = formData.stages.get(stage.id).rows.slice();\n    var rows = stage.getElementsByClassName(\'stage-rows\');\n    var rowOrder = _helpers2.default.map(rows, function (rowID) {\n      return rows[rowID].id;\n    });\n    formData.stages.get(stage.id).rows = rowOrder;\n    new CustomEvent(\'formeoUpdated\', {\n      data: {\n        updateType: \'sort\',\n        changed: \'rows\',\n        oldValue: oldValue,\n        newValue: rowOrder\n      }\n    });\n    document.dispatchEvent(_events2.default.formeoUpdated);\n    return rowOrder;\n  },\n\n  saveOptionOrder: function saveOptionOrder(parent) {\n    var props = parent.getElementsByClassName(\'prop-wrap\');\n    var propData = _helpers2.default.map(props, function (i) {\n      return props[i].propData;\n    });\n    var fieldData = formData.fields.get(parent.fieldID);\n    fieldData[parent.editGroup] = propData;\n    return propData;\n  },\n\n  saveOrder: function saveOrder(group, parent) {\n    var saveOrder = {\n      row: data.saveRowOrder,\n      column: data.saveColumnOrder,\n      field: data.saveFieldOrder,\n      options: data.saveOptionOrder\n    };\n\n    return saveOrder[group](parent);\n  },\n\n  saveType: function saveType(group, id) {\n    var map = {\n      settings: function settings() {\n\n        return formData.settings;\n      },\n      stages: function stages() {},\n      rows: function rows() {\n        return formData.rows;\n      },\n      columns: function columns(rowID) {\n        return formData.columns;\n      },\n      fields: function fields(columnID) {\n        return formData.fields;\n      },\n      field: function field(fieldID) {\n        return formData.fields.get(fieldID);\n      },\n      attrs: function attrs(attrUL) {\n        var fieldData = formData.fields.get(attrUL.fieldID);\n        var attrValues = fieldData.attrs;\n        _events2.default.formeoUpdated = new CustomEvent(\'formeoUpdated\', {\n          data: {\n            changed: \'field.attrs\',\n            updateType: \'update\',\n            attrValues: attrValues\n          }\n        });\n\n        document.dispatchEvent(_events2.default.formeoUpdated);\n\n        return attrValues;\n      },\n      options: function options(optionUL) {\n        var oldValue = formData.fields.get(optionUL.fieldID).options;\n        var newValue = data.saveOrder(\'options\', optionUL);\n        _events2.default.formeoUpdated = new CustomEvent(\'formeoUpdated\', {\n          data: {\n            changed: \'field.options\',\n            updateType: \'sort\',\n            oldValue: oldValue,\n            newValue: newValue\n          }\n        });\n        document.dispatchEvent(_events2.default.formeoUpdated);\n\n        return newValue;\n      }\n    };\n\n    return map[group](id);\n  },\n\n  empty: function empty(type, id) {\n    var removed = {};\n    var emptyType = {\n      stages: function stages(id) {\n        if (!id) {\n          id = _dom2.default.activeStage.id;\n        }\n        var stageData = formData.stages.get(id);\n        var rows = stageData.rows;\n        removed.rows = rows.map(function (rowID) {\n          emptyType[\'rows\'](rowID);\n          formData.rows.delete(rowID);\n          return rowID;\n        });\n        stageData.rows = [];\n      },\n      rows: function rows(id) {\n        var row = formData.rows.get(id);\n        if (row) {\n          var columns = row.columns;\n          removed.columns = columns.map(function (columnID) {\n            emptyType[\'columns\'](columnID);\n            formData.columns.delete(columnID);\n            return columnID;\n          });\n          columns = [];\n        }\n      },\n      columns: function columns(id) {\n        var column = formData.columns.get(id);\n        if (column) {\n          var fields = column.fields;\n          removed.fields = fields.map(function (fieldID) {\n            formData.fields.delete(fieldID);\n            return fieldID;\n          });\n          fields = [];\n        }\n      },\n      fields: function fields(id) {\n        var field = _dom2.default.fields.get(id);\n        if (field) {\n          field = field.field;\n          var column = formData.columns.get(field.parentElement.id);\n          var oldValue = column.fields.slice();\n          (0, _utils.remove)(column.fields, id);\n          _events2.default.formeoUpdated = new CustomEvent(\'formeoUpdated\', {\n            data: {\n              updateType: \'removed\',\n              changed: \'column.fields\',\n              oldValue: oldValue,\n              newValue: column.fields\n            }\n          });\n          document.dispatchEvent(_events2.default.formeoUpdated);\n        }\n      }\n    };\n\n    emptyType[type](id);\n    return removed;\n  },\n\n  saveThrottle: false,\n  saveThrottled: false,\n\n  save: function save() {\n    var group = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \'stages\';\n    var id = arguments[1];\n    var disableThrottle = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n    if (disableThrottle) {\n      data.saveThrottle = disableThrottle;\n    }\n    var doSave = function doSave() {\n      data.saveType(group, id);\n      var storage = window.sessionStorage;\n\n      if (storage && _data.opts.sessionStorage) {\n        storage.setItem(\'formData\', data.json);\n      }\n\n      if (_data.opts.debug) {\n        console.log(\'Saved: \' + group);\n      }\n\n      _events2.default.formeoSaved = new CustomEvent(\'formeoSaved\', {\n        detail: {\n          formData: data.js\n        }\n      });\n\n      document.dispatchEvent(_events2.default.formeoSaved);\n      return formData;\n    };\n\n    if (!data.saveThrottle) {\n      doSave();\n      data.saveThrottle = true;\n      setTimeout(function () {\n        if (data.saveThrottled) {\n          doSave();\n          data.saveThrottled = false;\n        }\n        data.saveThrottle = false;\n      }, 500);\n    } else {\n      data.saveThrottled = true;\n    }\n\n    return formData;\n  },\n\n  get js() {\n    var jsData = {};\n\n    Object.keys(formData).forEach(function (key) {\n      if (typeof formData[key] === \'string\') {\n        jsData[key] = formData[key];\n      } else {\n        jsData[key] = (0, _utils.strMapToObj)(formData[key]);\n      }\n    });\n    return jsData;\n  },\n\n  get prepData() {\n    var jsData = data.js;\n    Object.keys(jsData).forEach(function (type) {\n      Object.keys(jsData[type]).forEach(function (entKey) {\n        var entity = jsData[type][entKey];\n        if (entity.action) {\n          Object.keys(entity.action).forEach(function (fn) {\n            entity.action[fn] = entity.action[fn].toString();\n          });\n        }\n      });\n    });\n    return jsData;\n  },\n\n  get json() {\n    var preppedData = data.prepData;\n\n    return window.JSON.stringify(preppedData, null, \'\\t\');\n  }\n};\n\nexports.data = data;\nexports.formData = formData;\nexports.registeredFields = registeredFields;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvanMvY29tbW9uL2RhdGEuanM/ZGNjZiJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5pbXBvcnQgZXZlbnRzIGZyb20gJy4vZXZlbnRzJztcbmltcG9ydCBoIGZyb20gJy4vaGVscGVycyc7XG5pbXBvcnQgZG9tIGZyb20gJy4vZG9tJztcbmltcG9ydCB7XG4gIHN0ck1hcFRvT2JqLFxuICBvYmpUb1N0ck1hcCxcbiAgdXVpZCxcbiAgcmVtb3ZlXG59IGZyb20gJy4vdXRpbHMnO1xuLy8gT2JqZWN0IG1hcCBvZiBmaWVsZHMgb24gdGhlIHN0YWdlXG5jb25zdCBfZGF0YSA9IHt9O1xubGV0IGZvcm1EYXRhO1xuXG4vLyBSZWdpc3RlcmVkIGZpZWxkcyBhcmUgdGhlIGZpZWxkcyB0aGF0IGFyZSBjb25maWd1cmVkIG9uIGluaXQuXG4vLyBUaGlzIHZhcmlhYmxlIGFjdHMgYXMgYSBkYXRhIGJ1ZmZlciB0aGF0cyBjb250YWluc1xuLy8gdGhlIGNvbmZpZ3VyYXRpb25zIGZvciBhIGZpZWxkJ3MgZmluYWwgdmlldy5cbmxldCByZWdpc3RlcmVkRmllbGRzID0ge307XG5cbmxldCBkYXRhID0ge1xuICBpbml0OiAob3B0cywgdXNlckZvcm1EYXRhKSA9PiB7XG4gICAgbGV0IGRlZmF1bHRGb3JtRGF0YSA9IHtcbiAgICAgIGlkOiB1dWlkKCksXG4gICAgICBzZXR0aW5nczogbmV3IE1hcCgpLFxuICAgICAgc3RhZ2VzOiBuZXcgTWFwKCksXG4gICAgICByb3dzOiBuZXcgTWFwKCksXG4gICAgICBjb2x1bW5zOiBuZXcgTWFwKCksXG4gICAgICBmaWVsZHM6IG5ldyBNYXAoKVxuICAgIH07XG4gICAgX2RhdGEub3B0cyA9IG9wdHM7XG4gICAgbGV0IHByb2Nlc3NGb3JtRGF0YSA9IGRhdGEgPT4ge1xuICAgICAgaWYgKHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJykge1xuICAgICAgICBkYXRhID0gd2luZG93LkpTT04ucGFyc2UoZGF0YSk7XG4gICAgICB9XG5cbiAgICAgIGRhdGEuc2V0dGluZ3MgPSBvYmpUb1N0ck1hcChkYXRhLnNldHRpbmdzKTtcbiAgICAgIGRhdGEuc3RhZ2VzID0gb2JqVG9TdHJNYXAoZGF0YS5zdGFnZXMpO1xuICAgICAgZGF0YS5yb3dzID0gb2JqVG9TdHJNYXAoZGF0YS5yb3dzKTtcbiAgICAgIGRhdGEuY29sdW1ucyA9IG9ialRvU3RyTWFwKGRhdGEuY29sdW1ucyk7XG4gICAgICBkYXRhLmZpZWxkcyA9IG9ialRvU3RyTWFwKGRhdGEuZmllbGRzKTtcblxuICAgICAgZm9ybURhdGEgPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0Rm9ybURhdGEsIGRhdGEpO1xuICAgIH07XG5cbiAgICBpZiAodXNlckZvcm1EYXRhKSB7XG4gICAgICBwcm9jZXNzRm9ybURhdGEodXNlckZvcm1EYXRhKTtcbiAgICB9IGVsc2UgaWYgKHdpbmRvdy5zZXNzaW9uU3RvcmFnZSAmJiBfZGF0YS5vcHRzLnNlc3Npb25TdG9yYWdlKSB7XG4gICAgICBsZXQgc2Vzc2lvbkZvcm1EYXRhID0gd2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2Zvcm1EYXRhJyk7XG4gICAgICBpZiAoc2Vzc2lvbkZvcm1EYXRhKSB7XG4gICAgICAgIHByb2Nlc3NGb3JtRGF0YShzZXNzaW9uRm9ybURhdGEpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICghZm9ybURhdGEpIHtcbiAgICAgIGZvcm1EYXRhID0gZGVmYXVsdEZvcm1EYXRhO1xuICAgIH1cblxuICAgIHJldHVybiBmb3JtRGF0YTtcbiAgfSxcblxuICBzYXZlQ29sdW1uT3JkZXI6IHJvdyA9PiB7XG4gICAgbGV0IGNvbHVtbnMgPSByb3cuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc3RhZ2UtY29sdW1ucycpO1xuICAgIGxldCBjb2x1bW5PcmRlciA9IGgubWFwKGNvbHVtbnMsIGkgPT4gY29sdW1uc1tpXS5pZCk7XG4gICAgbGV0IHJvd0RhdGEgPSBmb3JtRGF0YS5yb3dzLmdldChyb3cuaWQpO1xuXG4gICAgcm93RGF0YS5jb2x1bW5zID0gY29sdW1uT3JkZXI7XG5cbiAgICByZXR1cm4gY29sdW1uT3JkZXI7XG4gIH0sXG5cbiAgc2F2ZUZpZWxkT3JkZXI6IGNvbHVtbiA9PiB7XG4gICAgbGV0IGZpZWxkcyA9IGNvbHVtbi5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzdGFnZS1maWVsZHMnKTtcbiAgICBsZXQgZmllbGRPcmRlciA9IGgubWFwKGZpZWxkcywgaSA9PiBmaWVsZHNbaV0uaWQpO1xuXG4gICAgZm9ybURhdGEuY29sdW1ucy5nZXQoY29sdW1uLmlkKS5maWVsZHMgPSBmaWVsZE9yZGVyO1xuXG4gICAgcmV0dXJuIGZpZWxkT3JkZXI7XG4gIH0sXG5cbiAgc2F2ZVJvd09yZGVyOiBzdGFnZSA9PiB7XG4gICAgaWYgKCFzdGFnZSkge1xuICAgICAgc3RhZ2UgPSBkb20uYWN0aXZlU3RhZ2U7XG4gICAgfVxuICAgIGxldCBvbGRWYWx1ZSA9IGZvcm1EYXRhLnN0YWdlcy5nZXQoc3RhZ2UuaWQpLnJvd3Muc2xpY2UoKTtcbiAgICBsZXQgcm93cyA9IHN0YWdlLmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3N0YWdlLXJvd3MnKTtcbiAgICBsZXQgcm93T3JkZXIgPSBoLm1hcChyb3dzLCByb3dJRCA9PiByb3dzW3Jvd0lEXS5pZCk7XG4gICAgZm9ybURhdGEuc3RhZ2VzLmdldChzdGFnZS5pZCkucm93cyA9IHJvd09yZGVyO1xuICAgIG5ldyBDdXN0b21FdmVudCgnZm9ybWVvVXBkYXRlZCcsIHtcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgdXBkYXRlVHlwZTogJ3NvcnQnLFxuICAgICAgICBjaGFuZ2VkOiAncm93cycsXG4gICAgICAgIG9sZFZhbHVlLFxuICAgICAgICBuZXdWYWx1ZTogcm93T3JkZXJcbiAgICAgIH1cbiAgICB9KTtcbiAgICBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGV2ZW50cy5mb3JtZW9VcGRhdGVkKTtcbiAgICByZXR1cm4gcm93T3JkZXI7XG4gIH0sXG5cbiAgc2F2ZU9wdGlvbk9yZGVyOiBwYXJlbnQgPT4ge1xuICAgIGxldCBwcm9wcyA9IHBhcmVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdwcm9wLXdyYXAnKTtcbiAgICBsZXQgcHJvcERhdGEgPSBoLm1hcChwcm9wcywgaSA9PiB7XG4gICAgICByZXR1cm4gcHJvcHNbaV0ucHJvcERhdGE7XG4gICAgfSk7XG4gICAgbGV0IGZpZWxkRGF0YSA9IGZvcm1EYXRhLmZpZWxkcy5nZXQocGFyZW50LmZpZWxkSUQpO1xuICAgIGZpZWxkRGF0YVtwYXJlbnQuZWRpdEdyb3VwXSA9IHByb3BEYXRhO1xuICAgIHJldHVybiBwcm9wRGF0YTtcbiAgfSxcblxuICBzYXZlT3JkZXI6IChncm91cCwgcGFyZW50KSA9PiB7XG4gICAgbGV0IHNhdmVPcmRlciA9IHtcbiAgICAgIHJvdzogZGF0YS5zYXZlUm93T3JkZXIsXG4gICAgICBjb2x1bW46IGRhdGEuc2F2ZUNvbHVtbk9yZGVyLFxuICAgICAgZmllbGQ6IGRhdGEuc2F2ZUZpZWxkT3JkZXIsXG4gICAgICBvcHRpb25zOiBkYXRhLnNhdmVPcHRpb25PcmRlclxuICAgIH07XG5cbiAgICByZXR1cm4gc2F2ZU9yZGVyW2dyb3VwXShwYXJlbnQpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBGb3JtZW8gc2F2ZSBmdW5jdGlvbnNcbiAgICogQHBhcmFtICB7U3RyaW5nfSBncm91cCBbZGVzY3JpcHRpb25dXG4gICAqIEBwYXJhbSAge1N0cmluZ30gaWQgICAgW2Rlc2NyaXB0aW9uXVxuICAgKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgIFtkZXNjcmlwdGlvbl1cbiAgICovXG4gIHNhdmVUeXBlOiAoZ3JvdXAsIGlkKSA9PiB7XG4gICAgbGV0IG1hcCA9IHtcbiAgICAgIHNldHRpbmdzOiAoKSA9PiB7XG4gICAgICAgIC8vIGxldCBzdGFnZSA9IGZvcm1EYXRhLnN0YWdlcy5zZXR0aW5ncztcbiAgICAgICAgLy8gZm9ybURhdGEuc2V0dGluZ3MgPSBbXTtcblxuICAgICAgICAvLyBoLmZvckVhY2goc3RhZ2UsIChpLCByb3dJRCkgPT4ge1xuICAgICAgICAvLyAgIGZvcm1EYXRhLnJvd3NbaV0gPSBoLmNsb25lKGZvcm1EYXRhLnJvd3Nbcm93SURdKTtcbiAgICAgICAgICAvLyBmb3JtRGF0YS5yb3dzW2ldID0gT2JqZWN0LmFzc2lnbih7fSwgZm9ybURhdGEucm93c1tyb3dJRF0pO1xuICAgICAgICAvLyAgIGZvcm1EYXRhLnJvd3NbaV0uY29sdW1ucyA9IG1hcC5jb2x1bW5zKHJvd0lEKTtcbiAgICAgICAgLy8gfSk7XG5cbiAgICAgICAgcmV0dXJuIGZvcm1EYXRhLnNldHRpbmdzO1xuICAgICAgfSxcbiAgICAgIHN0YWdlczogKCkgPT4ge1xuICAgICAgICAvLyBkYXRhLnNhdmVSb3dPcmRlcigpO1xuICAgICAgfSxcbiAgICAgIHJvd3M6ICgpID0+IHtcbiAgICAgICAgcmV0dXJuIGZvcm1EYXRhLnJvd3M7XG4gICAgICB9LFxuICAgICAgY29sdW1uczogcm93SUQgPT4ge1xuICAgICAgICByZXR1cm4gZm9ybURhdGEuY29sdW1ucztcbiAgICAgIH0sXG4gICAgICBmaWVsZHM6IGNvbHVtbklEID0+IHtcbiAgICAgICAgcmV0dXJuIGZvcm1EYXRhLmZpZWxkcztcbiAgICAgIH0sXG4gICAgICBmaWVsZDogZmllbGRJRCA9PiB7XG4gICAgICAgIHJldHVybiBmb3JtRGF0YS5maWVsZHMuZ2V0KGZpZWxkSUQpO1xuICAgICAgfSxcbiAgICAgIGF0dHJzOiBhdHRyVUwgPT4ge1xuICAgICAgICBjb25zdCBmaWVsZERhdGEgPSBmb3JtRGF0YS5maWVsZHMuZ2V0KGF0dHJVTC5maWVsZElEKTtcbiAgICAgICAgbGV0IGF0dHJWYWx1ZXMgPSBmaWVsZERhdGEuYXR0cnM7XG4gICAgICAgIGV2ZW50cy5mb3JtZW9VcGRhdGVkID0gbmV3IEN1c3RvbUV2ZW50KCdmb3JtZW9VcGRhdGVkJywge1xuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIGNoYW5nZWQ6ICdmaWVsZC5hdHRycycsXG4gICAgICAgICAgICB1cGRhdGVUeXBlOiAndXBkYXRlJyxcbiAgICAgICAgICAgIGF0dHJWYWx1ZXNcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoZXZlbnRzLmZvcm1lb1VwZGF0ZWQpO1xuXG4gICAgICAgIHJldHVybiBhdHRyVmFsdWVzO1xuICAgICAgfSxcbiAgICAgIG9wdGlvbnM6IG9wdGlvblVMID0+IHtcbiAgICAgICAgbGV0IG9sZFZhbHVlID0gZm9ybURhdGEuZmllbGRzLmdldChvcHRpb25VTC5maWVsZElEKS5vcHRpb25zO1xuICAgICAgICBsZXQgbmV3VmFsdWUgPSBkYXRhLnNhdmVPcmRlcignb3B0aW9ucycsIG9wdGlvblVMKTtcbiAgICAgICAgZXZlbnRzLmZvcm1lb1VwZGF0ZWQgPSBuZXcgQ3VzdG9tRXZlbnQoJ2Zvcm1lb1VwZGF0ZWQnLCB7XG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgY2hhbmdlZDogJ2ZpZWxkLm9wdGlvbnMnLFxuICAgICAgICAgICAgdXBkYXRlVHlwZTogJ3NvcnQnLFxuICAgICAgICAgICAgb2xkVmFsdWUsXG4gICAgICAgICAgICBuZXdWYWx1ZVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoZXZlbnRzLmZvcm1lb1VwZGF0ZWQpO1xuXG4gICAgICAgIHJldHVybiBuZXdWYWx1ZTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgcmV0dXJuIG1hcFtncm91cF0oaWQpO1xuICB9LFxuXG4gIC8qKlxuICAgKiBFbXB0aWVzIHRoZSBkYXRhIHJlZ2lzdGVyIGZvciBhbiBlbGVtZW50XG4gICAqIGFuZCBpdHMgY2hpbGRyZW5cbiAgICogQHBhcmFtICB7U3RyaW5nfSB0eXBlIFtkZXNjcmlwdGlvbl1cbiAgICogQHBhcmFtICB7U3RyaW5nfSBpZCAgIFtkZXNjcmlwdGlvbl1cbiAgICogQHJldHVybiB7T2JqZWN0fSAgICAgIFtkZXNjcmlwdGlvbl1cbiAgICovXG4gIGVtcHR5OiAodHlwZSwgaWQpID0+IHtcbiAgICBsZXQgcmVtb3ZlZCA9IHt9O1xuICAgIGNvbnN0IGVtcHR5VHlwZSA9IHtcbiAgICAgIHN0YWdlczogaWQgPT4ge1xuICAgICAgICBpZiAoIWlkKSB7XG4gICAgICAgICAgaWQgPSBkb20uYWN0aXZlU3RhZ2UuaWQ7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHN0YWdlRGF0YSA9IGZvcm1EYXRhLnN0YWdlcy5nZXQoaWQpO1xuICAgICAgICBsZXQgcm93cyA9IHN0YWdlRGF0YS5yb3dzO1xuICAgICAgICByZW1vdmVkLnJvd3MgPSByb3dzLm1hcChyb3dJRCA9PiB7XG4gICAgICAgICAgZW1wdHlUeXBlWydyb3dzJ10ocm93SUQpO1xuICAgICAgICAgIGZvcm1EYXRhLnJvd3MuZGVsZXRlKHJvd0lEKTtcbiAgICAgICAgICByZXR1cm4gcm93SUQ7XG4gICAgICAgIH0pO1xuICAgICAgICBzdGFnZURhdGEucm93cyA9IFtdO1xuICAgICAgfSxcbiAgICAgIHJvd3M6IGlkID0+IHtcbiAgICAgICAgbGV0IHJvdyA9IGZvcm1EYXRhLnJvd3MuZ2V0KGlkKTtcbiAgICAgICAgaWYgKHJvdykge1xuICAgICAgICAgIGxldCBjb2x1bW5zID0gcm93LmNvbHVtbnM7XG4gICAgICAgICAgcmVtb3ZlZC5jb2x1bW5zID0gY29sdW1ucy5tYXAoY29sdW1uSUQgPT4ge1xuICAgICAgICAgICAgZW1wdHlUeXBlWydjb2x1bW5zJ10oY29sdW1uSUQpO1xuICAgICAgICAgICAgZm9ybURhdGEuY29sdW1ucy5kZWxldGUoY29sdW1uSUQpO1xuICAgICAgICAgICAgcmV0dXJuIGNvbHVtbklEO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbHVtbnMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGNvbHVtbnM6IGlkID0+IHtcbiAgICAgICAgbGV0IGNvbHVtbiA9IGZvcm1EYXRhLmNvbHVtbnMuZ2V0KGlkKTtcbiAgICAgICAgaWYgKGNvbHVtbikge1xuICAgICAgICAgIGxldCBmaWVsZHMgPSBjb2x1bW4uZmllbGRzO1xuICAgICAgICAgIHJlbW92ZWQuZmllbGRzID0gZmllbGRzLm1hcChmaWVsZElEID0+IHtcbiAgICAgICAgICAgIGZvcm1EYXRhLmZpZWxkcy5kZWxldGUoZmllbGRJRCk7XG4gICAgICAgICAgICByZXR1cm4gZmllbGRJRDtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBmaWVsZHMgPSBbXTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGZpZWxkczogaWQgPT4ge1xuICAgICAgICBsZXQgZmllbGQgPSBkb20uZmllbGRzLmdldChpZCk7XG4gICAgICAgIGlmIChmaWVsZCkge1xuICAgICAgICAgIGZpZWxkID0gZmllbGQuZmllbGQ7XG4gICAgICAgICAgbGV0IGNvbHVtbiA9IGZvcm1EYXRhLmNvbHVtbnMuZ2V0KGZpZWxkLnBhcmVudEVsZW1lbnQuaWQpO1xuICAgICAgICAgIGxldCBvbGRWYWx1ZSA9IGNvbHVtbi5maWVsZHMuc2xpY2UoKTtcbiAgICAgICAgICByZW1vdmUoY29sdW1uLmZpZWxkcywgaWQpO1xuICAgICAgICAgIGV2ZW50cy5mb3JtZW9VcGRhdGVkID0gbmV3IEN1c3RvbUV2ZW50KCdmb3JtZW9VcGRhdGVkJywge1xuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICB1cGRhdGVUeXBlOiAncmVtb3ZlZCcsXG4gICAgICAgICAgICAgIGNoYW5nZWQ6ICdjb2x1bW4uZmllbGRzJyxcbiAgICAgICAgICAgICAgb2xkVmFsdWUsXG4gICAgICAgICAgICAgIG5ld1ZhbHVlOiBjb2x1bW4uZmllbGRzXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChldmVudHMuZm9ybWVvVXBkYXRlZCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZW1wdHlUeXBlW3R5cGVdKGlkKTtcbiAgICByZXR1cm4gcmVtb3ZlZDtcbiAgfSxcblxuICBzYXZlVGhyb3R0bGU6IGZhbHNlLFxuICBzYXZlVGhyb3R0bGVkOiBmYWxzZSxcblxuICBzYXZlOiAoZ3JvdXAgPSAnc3RhZ2VzJywgaWQsIGRpc2FibGVUaHJvdHRsZSA9IGZhbHNlKSA9PiB7XG4gICAgaWYgKGRpc2FibGVUaHJvdHRsZSkge1xuICAgICAgZGF0YS5zYXZlVGhyb3R0bGUgPSBkaXNhYmxlVGhyb3R0bGU7XG4gICAgfVxuICAgIGNvbnN0IGRvU2F2ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgZGF0YS5zYXZlVHlwZShncm91cCwgaWQpO1xuICAgICAgY29uc3Qgc3RvcmFnZSA9IHdpbmRvdy5zZXNzaW9uU3RvcmFnZTtcblxuICAgICAgaWYgKHN0b3JhZ2UgJiYgX2RhdGEub3B0cy5zZXNzaW9uU3RvcmFnZSkge1xuICAgICAgICBzdG9yYWdlLnNldEl0ZW0oJ2Zvcm1EYXRhJywgZGF0YS5qc29uKTtcbiAgICAgIH1cblxuICAgICAgaWYgKF9kYXRhLm9wdHMuZGVidWcpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1NhdmVkOiAnICsgZ3JvdXApO1xuICAgICAgfVxuXG4gICAgICBldmVudHMuZm9ybWVvU2F2ZWQgPSBuZXcgQ3VzdG9tRXZlbnQoJ2Zvcm1lb1NhdmVkJywge1xuICAgICAgICBkZXRhaWw6IHtcbiAgICAgICAgICBmb3JtRGF0YTogZGF0YS5qc1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChldmVudHMuZm9ybWVvU2F2ZWQpO1xuICAgICAgcmV0dXJuIGZvcm1EYXRhO1xuICAgIH07XG5cbiAgICBpZiAoIWRhdGEuc2F2ZVRocm90dGxlKSB7XG4gICAgICBkb1NhdmUoKTtcbiAgICAgIGRhdGEuc2F2ZVRocm90dGxlID0gdHJ1ZTtcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBpZiAoZGF0YS5zYXZlVGhyb3R0bGVkKSB7XG4gICAgICAgICAgZG9TYXZlKCk7XG4gICAgICAgICAgZGF0YS5zYXZlVGhyb3R0bGVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgZGF0YS5zYXZlVGhyb3R0bGUgPSBmYWxzZTtcbiAgICAgIH0sIDUwMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRhdGEuc2F2ZVRocm90dGxlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZvcm1EYXRhO1xuICB9LFxuXG4gIGdldCBqcygpIHtcbiAgICBsZXQganNEYXRhID0ge307XG5cbiAgICBPYmplY3Qua2V5cyhmb3JtRGF0YSkuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgaWYgKHR5cGVvZiBmb3JtRGF0YVtrZXldID09PSAnc3RyaW5nJykge1xuICAgICAgICBqc0RhdGFba2V5XSA9IGZvcm1EYXRhW2tleV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBqc0RhdGFba2V5XSA9IHN0ck1hcFRvT2JqKGZvcm1EYXRhW2tleV0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBqc0RhdGE7XG4gIH0sXG5cbiAgZ2V0IHByZXBEYXRhKCkge1xuICAgIGxldCBqc0RhdGEgPSBkYXRhLmpzO1xuICAgIE9iamVjdC5rZXlzKGpzRGF0YSkuZm9yRWFjaCh0eXBlID0+IHtcbiAgICAgIE9iamVjdC5rZXlzKGpzRGF0YVt0eXBlXSkuZm9yRWFjaChlbnRLZXkgPT4ge1xuICAgICAgICBsZXQgZW50aXR5ID0ganNEYXRhW3R5cGVdW2VudEtleV07XG4gICAgICAgIGlmIChlbnRpdHkuYWN0aW9uKSB7XG4gICAgICAgICAgT2JqZWN0LmtleXMoZW50aXR5LmFjdGlvbikuZm9yRWFjaChmbiA9PiB7XG4gICAgICAgICAgICBlbnRpdHkuYWN0aW9uW2ZuXSA9IGVudGl0eS5hY3Rpb25bZm5dLnRvU3RyaW5nKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiBqc0RhdGE7XG4gIH0sXG5cbiAgLyoqXG4gICAqIGdldHRlciBtZXRob2QgZm9yIEpTT04gZm9ybURhdGFcbiAgICogQHJldHVybiB7SlNPTn0gZm9ybURhdGFcbiAgICovXG4gIGdldCBqc29uKCkge1xuICAgIGxldCBwcmVwcGVkRGF0YSA9IGRhdGEucHJlcERhdGE7XG5cbiAgICByZXR1cm4gd2luZG93LkpTT04uc3RyaW5naWZ5KHByZXBwZWREYXRhLCBudWxsLCAnXFx0Jyk7XG4gIH1cbn07XG5cbmV4cG9ydCB7XG4gIGRhdGEsXG4gIGZvcm1EYXRhLFxuICByZWdpc3RlcmVkRmllbGRzXG59O1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9qcy9jb21tb24vZGF0YS5qcyJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTs7Ozs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBTUE7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU5BO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQURBO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQURBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBREE7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQXpEQTtBQUNBO0FBMkRBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFEQTtBQVFBO0FBQ0E7QUFDQTtBQXREQTtBQUNBO0FBd0RBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBREE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQW5VQTtBQUNBO0FBc1VBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///2\n')},function(module,exports,__webpack_require__){'use strict';eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.memoize = exports.clicked = exports.cleanObj = exports.numberBetween = exports.numToPercent = exports.clone = exports.uuid = exports.strMapToObj = exports.objToStrMap = exports.unique = exports.closestFtype = exports.closest = exports.remove = exports.match = undefined;\n\nvar _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };\n\nvar _uuidV = __webpack_require__(/*! uuid-v4 */ 22);\n\nvar _uuidV2 = _interopRequireDefault(_uuidV);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar match = exports.match = function match() {\n  var str = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \'\';\n  var filter = arguments[1];\n\n  if (!filter) {\n    console.warn(\'utils.match missing argument 2.\');\n    return false;\n  }\n  var matchOperators = /[|\\\\{}()[\\]^*$+?.]/g;\n  var filterArray = typeof filter === \'string\' ? [filter] : filter;\n  filterArray = filterArray.map(function (filterStr) {\n    return filterStr === \'*\' ? \'\' : filterStr.replace(matchOperators, \'\\\\$&\');\n  });\n\n  var isMatch = true;\n  if (filterArray.length) {\n    isMatch = !str.match(new RegExp(filterArray.join(\'|\'), \'i\'));\n  }\n\n  return isMatch;\n};\n\nvar remove = exports.remove = function remove(arr, val) {\n  var index = arr.indexOf(val);\n\n  if (index > -1) {\n    arr.splice(index, 1);\n  }\n};\n\nvar closest = exports.closest = function closest(el, cls) {\n  var className = cls.replace(\'.\', \'\');\n  while ((el = el.parentElement) && !el.classList.contains(className)) {}\n  return el;\n};\n\nvar closestFtype = exports.closestFtype = function closestFtype(el) {\n  while ((el = el.parentElement) && !el.fType) {}\n  return el;\n};\n\nvar unique = exports.unique = function unique(array) {\n  return array.filter(function (elem, pos, arr) {\n    return arr.indexOf(elem) === pos;\n  });\n};\n\nvar objToStrMap = exports.objToStrMap = function objToStrMap(obj) {\n  var strMap = new Map();\n  for (var _iterator = Object.keys(obj), _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();;) {\n    var _ref;\n\n    if (_isArray) {\n      if (_i >= _iterator.length) break;\n      _ref = _iterator[_i++];\n    } else {\n      _i = _iterator.next();\n      if (_i.done) break;\n      _ref = _i.value;\n    }\n\n    var k = _ref;\n\n    strMap.set(k, obj[k]);\n  }\n  return strMap;\n};\n\nvar strMapToObj = exports.strMapToObj = function strMapToObj(strMap) {\n  var obj = Object.create(null);\n  strMap.forEach(function (v, k) {\n    obj[k] = v;\n  });\n  return obj;\n};\n\nvar uuid = exports.uuid = function uuid(elem) {\n  var id = void 0;\n  if (elem) {\n    var _elem$attrs = elem.attrs,\n        attrs = _elem$attrs === undefined ? {} : _elem$attrs;\n\n    id = attrs.id || elem.id || (0, _uuidV2.default)();\n    elem.id = id;\n  } else {\n    id = (0, _uuidV2.default)();\n  }\n  return id;\n};\n\nvar clone = exports.clone = function clone(obj) {\n  var copy = void 0;\n\n  if (null === obj || \'object\' !== (typeof obj === \'undefined\' ? \'undefined\' : _typeof(obj))) {\n    return obj;\n  }\n\n  if (obj instanceof Date) {\n    copy = new Date();\n    copy.setTime(obj.getTime());\n    return copy;\n  }\n\n  if (obj instanceof Array) {\n    copy = [];\n    for (var i = 0, len = obj.length; i < len; i++) {\n      copy[i] = clone(obj[i]);\n    }\n    return copy;\n  }\n\n  if (obj instanceof Object) {\n    copy = {};\n    for (var attr in obj) {\n      if (obj.hasOwnProperty(attr)) {\n        copy[attr] = clone(obj[attr]);\n      }\n    }\n    return copy;\n  }\n\n  throw new Error(\'Unable to copy Object, type not supported.\');\n};\n\nvar numToPercent = exports.numToPercent = function numToPercent(num) {\n  return num.toString() + \'%\';\n};\n\nvar numberBetween = exports.numberBetween = function numberBetween(num, min, max) {\n  return num > min && num < max;\n};\n\nvar cleanObj = exports.cleanObj = function cleanObj(obj) {\n  var fresh = Object.assign({}, obj);\n  Object.keys(obj).forEach(function (key) {\n    if (typeof obj[key] === \'string\') {\n      fresh[key] = \'\';\n    } else if (typeof obj[key] === \'boolean\') {\n      fresh[key] = false;\n    }\n  });\n  return fresh;\n};\n\nvar clicked = exports.clicked = function clicked(x, y, position, button) {\n  var xMin = position.x - 5;\n  var xMax = position.x + 5;\n  var yMin = position.y - 5;\n  var yMax = position.y + 5;\n  var xOK = numberBetween(x, xMin, xMax);\n  var yOK = numberBetween(y, yMin, yMax);\n\n  return xOK && yOK && button !== 2;\n};\n\nvar memoize = exports.memoize = function memoize(fn, resolver) {\n  if (typeof fn !== \'function\' || resolver && typeof resolver !== \'function\') {\n    throw new TypeError(\'memoize: First argument must be a function\');\n  }\n  var memoized = function memoized() {\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    var key = resolver ? resolver.apply(memoized, args) : args[0];\n    var cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = fn.apply(memoized, args);\n    memoized.cache = cache.set(key, result);\n    return result;\n  };\n  memoized.cache = new memoize.Cache();\n  return memoized;\n};\n\nmemoize.Cache = Map;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvanMvY29tbW9uL3V0aWxzLmpzPzVjZjgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHV1aWR2NCBmcm9tICd1dWlkLXY0Jztcbi8qKlxuICogTWF0Y2ggdGhlIHZhbHVlcyBmcm9tIGEgc3RyaW5nIG9yIGFycmF5IGFnYWluc3QgYSBzdHIuXG4gKiBAcGFyYW0gIHtTdHJpbmd9IHN0ciAgICBTdHJpbmcgd2UgYXJlIHNlYXJjaGluZ1xuICogQHBhcmFtICB7U3RyaW5nfEFycmF5fSAgZmlsdGVyIFN0cmluZyBvciBhcnJheSBvZiB2YWx1ZXMgdG8gbWF0Y2hcbiAqIEByZXR1cm4ge0Jvb2xlYW59ICAgICAgICBbZGVzY3JpcHRpb25dXG4gKi9cbmV4cG9ydCBjb25zdCBtYXRjaCA9IChzdHIgPSAnJywgZmlsdGVyKSA9PiB7XG4gIGlmICghZmlsdGVyKSB7XG4gICAgY29uc29sZS53YXJuKCd1dGlscy5tYXRjaCBtaXNzaW5nIGFyZ3VtZW50IDIuJyk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGxldCBtYXRjaE9wZXJhdG9ycyA9IC9bfFxcXFx7fSgpW1xcXV4qJCs/Ll0vZztcbiAgbGV0IGZpbHRlckFycmF5ID0gKHR5cGVvZiBmaWx0ZXIgPT09ICdzdHJpbmcnKSA/IFtmaWx0ZXJdIDogZmlsdGVyO1xuICBmaWx0ZXJBcnJheSA9IGZpbHRlckFycmF5Lm1hcChmaWx0ZXJTdHIgPT4ge1xuICAgIHJldHVybiBmaWx0ZXJTdHIgPT09ICcqJyA/ICcnIDogZmlsdGVyU3RyLnJlcGxhY2UobWF0Y2hPcGVyYXRvcnMsICdcXFxcJCYnKTtcbiAgfSk7XG5cbiAgbGV0IGlzTWF0Y2ggPSB0cnVlO1xuICBpZiAoZmlsdGVyQXJyYXkubGVuZ3RoKSB7XG4gICAgaXNNYXRjaCA9ICFzdHIubWF0Y2gobmV3IFJlZ0V4cChmaWx0ZXJBcnJheS5qb2luKCd8JyksICdpJykpO1xuICB9XG5cbiAgcmV0dXJuIGlzTWF0Y2g7XG59O1xuXG4vKipcbiAqIFJlbW92ZXMgYSB2YWx1ZSBmcm9tIGFuIGFycmF5XG4gKiBAcGFyYW0gIHtBcnJheX0gYXJyXG4gKiBAcGFyYW0gIHtTdHJpbmd8TnVtYmVyfSB2YWxcbiAqL1xuZXhwb3J0IGNvbnN0IHJlbW92ZSA9IChhcnIsIHZhbCkgPT4ge1xuICBsZXQgaW5kZXggPSBhcnIuaW5kZXhPZih2YWwpO1xuXG4gIGlmIChpbmRleCA+IC0xKSB7XG4gICAgIGFyci5zcGxpY2UoaW5kZXgsIDEpO1xuICB9XG59O1xuXG4vKipcbiAqIEZpbmQgdGhlIGNsb3Nlc3QgcGFyZW50IGJ5IGNsYXNzXG4gKiBAcGFyYW0gIHtPYmplY3R9IGVsICBET00gZWxlbWVudFxuICogQHBhcmFtICB7U3RyaW5nfSBjbHMgY2xhc3NcbiAqIEByZXR1cm4ge09iamVjdH0gICAgIERPTSBFbGVtZW50XG4gKi9cbmV4cG9ydCBjb25zdCBjbG9zZXN0ID0gKGVsLCBjbHMpID0+IHtcbiAgbGV0IGNsYXNzTmFtZSA9IGNscy5yZXBsYWNlKCcuJywgJycpO1xuICB3aGlsZSAoKGVsID0gZWwucGFyZW50RWxlbWVudCkgJiYgIWVsLmNsYXNzTGlzdC5jb250YWlucyhjbGFzc05hbWUpKTtcbiAgcmV0dXJuIGVsO1xufTtcblxuLyoqXG4gKiBGaW5kIHRoZSBjbG9zZXN0IHBhcmVudCBieSBjbGFzc1xuICogQHBhcmFtICB7T2JqZWN0fSBlbCAgRE9NIGVsZW1lbnRcbiAqIEBwYXJhbSAge1N0cmluZ30gY2xzIGNsYXNzXG4gKiBAcmV0dXJuIHtPYmplY3R9ICAgICBET00gRWxlbWVudFxuICovXG5leHBvcnQgY29uc3QgY2xvc2VzdEZ0eXBlID0gZWwgPT4ge1xuICB3aGlsZSAoKGVsID0gZWwucGFyZW50RWxlbWVudCkgJiYgIWVsLmZUeXBlKTtcbiAgcmV0dXJuIGVsO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgZHVwbGljYXRlcyBmcm9tIGFuIGFycmF5IG9mIGVsZW1lbnRzXG4gKiBAcGFyYW0gIHtBcnJheX0gYXJyYXkgd2l0aCBwb3NzaWJsZSBkdXBsaWNhdGVzXG4gKiBAcmV0dXJuIHtBcnJheX0gYXJyYXkgd2l0aCBvbmx5IHVuaXF1ZSB2YWx1ZXNcbiAqL1xuZXhwb3J0IGNvbnN0IHVuaXF1ZSA9IGFycmF5ID0+XG4gIGFycmF5LmZpbHRlcigoZWxlbSwgcG9zLCBhcnIpID0+XG4gICAgKGFyci5pbmRleE9mKGVsZW0pID09PSBwb3MpKTtcblxuZXhwb3J0IGNvbnN0IG9ialRvU3RyTWFwID0gb2JqID0+IHtcbiAgbGV0IHN0ck1hcCA9IG5ldyBNYXAoKTtcbiAgZm9yIChsZXQgayBvZiBPYmplY3Qua2V5cyhvYmopKSB7XG4gICAgc3RyTWFwLnNldChrLCBvYmpba10pO1xuICB9XG4gIHJldHVybiBzdHJNYXA7XG59O1xuXG5leHBvcnQgY29uc3Qgc3RyTWFwVG9PYmogPSBzdHJNYXAgPT4ge1xuICBsZXQgb2JqID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgc3RyTWFwLmZvckVhY2goKHYsIGspID0+IHtcbiAgICBvYmpba10gPSB2O1xuICB9KTtcbiAgcmV0dXJuIG9iajtcbn07XG5cbmV4cG9ydCBjb25zdCB1dWlkID0gZWxlbSA9PiB7XG4gIGxldCBpZDtcbiAgaWYgKGVsZW0pIHtcbiAgICBsZXQge2F0dHJzID0ge319ID0gZWxlbTtcbiAgICBpZCA9IGF0dHJzLmlkIHx8IGVsZW0uaWQgfHwgdXVpZHY0KCk7XG4gICAgZWxlbS5pZCA9IGlkO1xuICB9IGVsc2Uge1xuICAgIGlkID0gdXVpZHY0KCk7XG4gIH1cbiAgcmV0dXJuIGlkO1xufTtcblxuXG5leHBvcnQgY29uc3QgY2xvbmUgPSBvYmogPT4ge1xuICBsZXQgY29weTtcblxuICAvLyBIYW5kbGUgdGhlIDQgc2ltcGxlIHR5cGVzLCBhbmQgbnVsbCBvciB1bmRlZmluZWRcbiAgaWYgKG51bGwgPT09IG9iaiB8fCAnb2JqZWN0JyAhPT0gdHlwZW9mIG9iaikge1xuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICAvLyBIYW5kbGUgRGF0ZVxuICBpZiAob2JqIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgIGNvcHkgPSBuZXcgRGF0ZSgpO1xuICAgIGNvcHkuc2V0VGltZShvYmouZ2V0VGltZSgpKTtcbiAgICByZXR1cm4gY29weTtcbiAgfVxuXG4gIC8vIEhhbmRsZSBBcnJheVxuICBpZiAob2JqIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICBjb3B5ID0gW107XG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IG9iai5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgY29weVtpXSA9IGNsb25lKG9ialtpXSk7XG4gICAgfVxuICAgIHJldHVybiBjb3B5O1xuICB9XG5cbiAgLy8gSGFuZGxlIE9iamVjdFxuICBpZiAob2JqIGluc3RhbmNlb2YgT2JqZWN0KSB7XG4gICAgY29weSA9IHt9O1xuICAgIGZvciAobGV0IGF0dHIgaW4gb2JqKSB7XG4gICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KGF0dHIpKSB7XG4gICAgICAgIGNvcHlbYXR0cl0gPSBjbG9uZShvYmpbYXR0cl0pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY29weTtcbiAgfVxuXG4gIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIGNvcHkgT2JqZWN0LCB0eXBlIG5vdCBzdXBwb3J0ZWQuJyk7XG59O1xuXG5leHBvcnQgY29uc3QgbnVtVG9QZXJjZW50ID0gbnVtID0+IG51bS50b1N0cmluZygpICsgJyUnO1xuXG5leHBvcnQgY29uc3QgbnVtYmVyQmV0d2VlbiA9IChudW0sIG1pbiwgbWF4KSA9PiAobnVtID4gbWluICYmIG51bSA8IG1heCk7XG5cbi8qKlxuICogRW1wdHkgYW4gb2JqZWN0cyBjb250ZW50c1xuICogQHBhcmFtICB7T2JqZWN0fSBvYmpcbiAqIEByZXR1cm4ge09iamVjdH0gZnJlc2hcbiAqL1xuZXhwb3J0IGNvbnN0IGNsZWFuT2JqID0gb2JqID0+IHtcbiAgbGV0IGZyZXNoID0gT2JqZWN0LmFzc2lnbih7fSwgb2JqKTtcbiAgT2JqZWN0LmtleXMob2JqKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgaWYgKHR5cGVvZiBvYmpba2V5XSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIGZyZXNoW2tleV0gPSAnJztcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBvYmpba2V5XSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICBmcmVzaFtrZXldID0gZmFsc2U7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGZyZXNoO1xufTtcblxuZXhwb3J0IGNvbnN0IGNsaWNrZWQgPSAoeCwgeSwgcG9zaXRpb24sIGJ1dHRvbikgPT4ge1xuICBsZXQgeE1pbiA9IHBvc2l0aW9uLnggLSA1O1xuICBsZXQgeE1heCA9IHBvc2l0aW9uLnggKyA1O1xuICBsZXQgeU1pbiA9IHBvc2l0aW9uLnkgLSA1O1xuICBsZXQgeU1heCA9IHBvc2l0aW9uLnkgKyA1O1xuICBsZXQgeE9LID0gbnVtYmVyQmV0d2Vlbih4LCB4TWluLCB4TWF4KTtcbiAgbGV0IHlPSyA9IG51bWJlckJldHdlZW4oeSwgeU1pbiwgeU1heCk7XG5cbiAgcmV0dXJuICh4T0sgJiYgeU9LICYmIGJ1dHRvbiAhPT0gMik7XG59O1xuXG5cbi8qKlxuICogQ2FjaGUgcmVzdWx0cyBvZiBleHBlbnNpdmUgZnVuY3Rpb25zXG4gKiBAcGFyYW0gIHtGdW5jdGlvbn0gZm5cbiAqIEBwYXJhbSAge0Z1bmN0aW9ufSByZXNvbHZlclxuICogQHJldHVybiB7U3RyaW5nfE9iamVjdH0gbWVtb2l6ZWRcbiAqL1xuZXhwb3J0IGNvbnN0IG1lbW9pemUgPSAoZm4sIHJlc29sdmVyKSA9PiB7XG4gIGlmICh0eXBlb2YgZm4gIT09ICdmdW5jdGlvbicgfHxcbiAgICAocmVzb2x2ZXIgJiYgdHlwZW9mIHJlc29sdmVyICE9PSAnZnVuY3Rpb24nKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ21lbW9pemU6IEZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBmdW5jdGlvbicpO1xuICB9XG4gIGNvbnN0IG1lbW9pemVkID0gKC4uLmFyZ3MpID0+IHtcbiAgICBsZXQga2V5ID0gcmVzb2x2ZXIgPyByZXNvbHZlci5hcHBseShtZW1vaXplZCwgYXJncykgOiBhcmdzWzBdO1xuICAgIGxldCBjYWNoZSA9IG1lbW9pemVkLmNhY2hlO1xuXG4gICAgaWYgKGNhY2hlLmhhcyhrZXkpKSB7XG4gICAgICByZXR1cm4gY2FjaGUuZ2V0KGtleSk7XG4gICAgfVxuICAgIGxldCByZXN1bHQgPSBmbi5hcHBseShtZW1vaXplZCwgYXJncyk7XG4gICAgbWVtb2l6ZWQuY2FjaGUgPSBjYWNoZS5zZXQoa2V5LCByZXN1bHQpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG4gIG1lbW9pemVkLmNhY2hlID0gbmV3KG1lbW9pemUuQ2FjaGUpO1xuICByZXR1cm4gbWVtb2l6ZWQ7XG59O1xuXG4vLyBBc3NpZ24gY2FjaGUgdG8gYF8ubWVtb2l6ZWAuXG5tZW1vaXplLkNhY2hlID0gTWFwO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9qcy9jb21tb24vdXRpbHMuanMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFBO0FBQ0E7Ozs7O0FBTUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQUE7QUFDQTtBQUFBO0FBREE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///3\n')},function(module,exports){eval('/*!\n * mi18n - https://github.com/Draggable/mi18n\n * Version: 0.3.4\n * Author: Kevin Chappell <kevin.b.chappell@gmail.com> (http://kevin-chappell.com)\n */\nmodule.exports=function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};return e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e){"use strict";function n(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function r(o,u){try{var i=e[o](u),a=i.value}catch(t){return void n(t)}return i.done?void t(a):Promise.resolve(a).then(function(t){r("next",t)},function(t){r("throw",t)})}return r("next")})}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u=function(){function t(t,e){for(var n,r=0;r<e.length;r++)n=e[r],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),i=function(){function t(){var e=this;r(this,t);var n={extension:".lang",location:"assets/lang/",langs:["en-US"],locale:"en-US",preloaded:{}};this.init=function(t){return e.config=Object.assign({},n,t),e.langs=Object.assign({},e.config.preloaded),e.locale=e.config.locale||e.config.langs[0],e.setCurrent(e.locale)}}return t.prototype.getValue=function(t){return this.current&&this.current[t]||t},t.prototype.makeSafe=function(t){var e={"{":"\\\\{","}":"\\\\}","|":"\\\\|"};return t=t.replace(/\\{|\\}|\\|/g,function(t){return e[t]}),new RegExp(t,"g")},t.prototype.put=function(t,e){return this.current[t]=e},t.prototype.get=function(t,e){var n,r=this,u=this.getValue(t),i=u.match(/\\{[^\\}]+?\\}/g);if(e&&i)if("object"===(void 0===e?"undefined":o(e)))for(var a=0;a<i.length;a++)n=i[a].substring(1,i[a].length-1),u=u.replace(r.makeSafe(i[a]),e[n]||"");else u=u.replace(/\\{[^\\}]+?\\}/g,e);return u},t.prototype.fromFile=function(t){for(var e,n=t.split("\\n"),r={},o=0;o<n.length;o++)if(e=n[o].match(/^(.+?) *?= *?([^\\n]+)/)){var u=e[2].replace(/^\\s+|\\s+$/,"");r[e[1]]=u}return r},t.prototype.processFile=function(t){var e=t.replace(/\\n\\n/g,"\\n");return this.fromFile(e)},t.prototype.loadLang=function(t){var e=this;return new Promise(function(n,r){if(e.langs[t])n(e.langs[t]);else{var o=new XMLHttpRequest,u=e.config.location+t+e.config.extension;o.open("GET",u,!0),o.onload=function(){if(304>=this.status){var u=e.processFile(o.responseText);e.langs[t]=u,n(u)}else r({status:this.status,statusText:o.statusText})},o.onerror=function(){r({status:this.status,statusText:o.statusText})},o.send()}})},t.prototype.setCurrent=function(){var t=n(regeneratorRuntime.mark(function t(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"en-US";return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.loadLang(e);case 2:return this.locale=e,this.current=this.langs[e],t.abrupt("return",this.current);case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),u(t,[{key:"getLangs",get:function(){return this.config.langs}}]),t}();e.default=new i}]);//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8vaG9tZS9pZ29yL2RldmVsb3BtZW50L29wZW5zb3VyY2UvZm9ybWVvL34vbWkxOG4vZGlzdC9taTE4bi5taW4uanM/ZmE0YSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIG1pMThuIC0gaHR0cHM6Ly9naXRodWIuY29tL0RyYWdnYWJsZS9taTE4blxuICogVmVyc2lvbjogMC4zLjRcbiAqIEF1dGhvcjogS2V2aW4gQ2hhcHBlbGwgPGtldmluLmIuY2hhcHBlbGxAZ21haWwuY29tPiAoaHR0cDovL2tldmluLWNoYXBwZWxsLmNvbSlcbiAqL1xubW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gZShyKXtpZihuW3JdKXJldHVybiBuW3JdLmV4cG9ydHM7dmFyIG89bltyXT17aTpyLGw6ITEsZXhwb3J0czp7fX07cmV0dXJuIHRbcl0uY2FsbChvLmV4cG9ydHMsbyxvLmV4cG9ydHMsZSksby5sPSEwLG8uZXhwb3J0c312YXIgbj17fTtyZXR1cm4gZS5tPXQsZS5jPW4sZS5pPWZ1bmN0aW9uKHQpe3JldHVybiB0fSxlLmQ9ZnVuY3Rpb24odCxuLHIpe2Uubyh0LG4pfHxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxuLHtjb25maWd1cmFibGU6ITEsZW51bWVyYWJsZTohMCxnZXQ6cn0pfSxlLm49ZnVuY3Rpb24odCl7dmFyIG49dCYmdC5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIHQuZGVmYXVsdH06ZnVuY3Rpb24oKXtyZXR1cm4gdH07cmV0dXJuIGUuZChuLFwiYVwiLG4pLG59LGUubz1mdW5jdGlvbih0LGUpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodCxlKX0sZS5wPVwiXCIsZShlLnM9MCl9KFtmdW5jdGlvbih0LGUpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIG4odCl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIGU9dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHQsbil7ZnVuY3Rpb24gcihvLHUpe3RyeXt2YXIgaT1lW29dKHUpLGE9aS52YWx1ZX1jYXRjaCh0KXtyZXR1cm4gdm9pZCBuKHQpfXJldHVybiBpLmRvbmU/dm9pZCB0KGEpOlByb21pc2UucmVzb2x2ZShhKS50aGVuKGZ1bmN0aW9uKHQpe3IoXCJuZXh0XCIsdCl9LGZ1bmN0aW9uKHQpe3IoXCJ0aHJvd1wiLHQpfSl9cmV0dXJuIHIoXCJuZXh0XCIpfSl9fWZ1bmN0aW9uIHIodCxlKXtpZighKHQgaW5zdGFuY2VvZiBlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBvPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9LHU9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsZSl7Zm9yKHZhciBuLHI9MDtyPGUubGVuZ3RoO3IrKyluPWVbcl0sbi5lbnVtZXJhYmxlPW4uZW51bWVyYWJsZXx8ITEsbi5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gbiYmKG4ud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LG4ua2V5LG4pfXJldHVybiBmdW5jdGlvbihlLG4scil7cmV0dXJuIG4mJnQoZS5wcm90b3R5cGUsbiksciYmdChlLHIpLGV9fSgpLGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KCl7dmFyIGU9dGhpcztyKHRoaXMsdCk7dmFyIG49e2V4dGVuc2lvbjpcIi5sYW5nXCIsbG9jYXRpb246XCJhc3NldHMvbGFuZy9cIixsYW5nczpbXCJlbi1VU1wiXSxsb2NhbGU6XCJlbi1VU1wiLHByZWxvYWRlZDp7fX07dGhpcy5pbml0PWZ1bmN0aW9uKHQpe3JldHVybiBlLmNvbmZpZz1PYmplY3QuYXNzaWduKHt9LG4sdCksZS5sYW5ncz1PYmplY3QuYXNzaWduKHt9LGUuY29uZmlnLnByZWxvYWRlZCksZS5sb2NhbGU9ZS5jb25maWcubG9jYWxlfHxlLmNvbmZpZy5sYW5nc1swXSxlLnNldEN1cnJlbnQoZS5sb2NhbGUpfX1yZXR1cm4gdC5wcm90b3R5cGUuZ2V0VmFsdWU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuY3VycmVudCYmdGhpcy5jdXJyZW50W3RdfHx0fSx0LnByb3RvdHlwZS5tYWtlU2FmZT1mdW5jdGlvbih0KXt2YXIgZT17XCJ7XCI6XCJcXFxce1wiLFwifVwiOlwiXFxcXH1cIixcInxcIjpcIlxcXFx8XCJ9O3JldHVybiB0PXQucmVwbGFjZSgvXFx7fFxcfXxcXHwvZyxmdW5jdGlvbih0KXtyZXR1cm4gZVt0XX0pLG5ldyBSZWdFeHAodCxcImdcIil9LHQucHJvdG90eXBlLnB1dD1mdW5jdGlvbih0LGUpe3JldHVybiB0aGlzLmN1cnJlbnRbdF09ZX0sdC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHQsZSl7dmFyIG4scj10aGlzLHU9dGhpcy5nZXRWYWx1ZSh0KSxpPXUubWF0Y2goL1xce1teXFx9XSs/XFx9L2cpO2lmKGUmJmkpaWYoXCJvYmplY3RcIj09PSh2b2lkIDA9PT1lP1widW5kZWZpbmVkXCI6byhlKSkpZm9yKHZhciBhPTA7YTxpLmxlbmd0aDthKyspbj1pW2FdLnN1YnN0cmluZygxLGlbYV0ubGVuZ3RoLTEpLHU9dS5yZXBsYWNlKHIubWFrZVNhZmUoaVthXSksZVtuXXx8XCJcIik7ZWxzZSB1PXUucmVwbGFjZSgvXFx7W15cXH1dKz9cXH0vZyxlKTtyZXR1cm4gdX0sdC5wcm90b3R5cGUuZnJvbUZpbGU9ZnVuY3Rpb24odCl7Zm9yKHZhciBlLG49dC5zcGxpdChcIlxcblwiKSxyPXt9LG89MDtvPG4ubGVuZ3RoO28rKylpZihlPW5bb10ubWF0Y2goL14oLis/KSAqPz0gKj8oW15cXG5dKykvKSl7dmFyIHU9ZVsyXS5yZXBsYWNlKC9eXFxzK3xcXHMrJC8sXCJcIik7cltlWzFdXT11fXJldHVybiByfSx0LnByb3RvdHlwZS5wcm9jZXNzRmlsZT1mdW5jdGlvbih0KXt2YXIgZT10LnJlcGxhY2UoL1xcblxcbi9nLFwiXFxuXCIpO3JldHVybiB0aGlzLmZyb21GaWxlKGUpfSx0LnByb3RvdHlwZS5sb2FkTGFuZz1mdW5jdGlvbih0KXt2YXIgZT10aGlzO3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihuLHIpe2lmKGUubGFuZ3NbdF0pbihlLmxhbmdzW3RdKTtlbHNle3ZhciBvPW5ldyBYTUxIdHRwUmVxdWVzdCx1PWUuY29uZmlnLmxvY2F0aW9uK3QrZS5jb25maWcuZXh0ZW5zaW9uO28ub3BlbihcIkdFVFwiLHUsITApLG8ub25sb2FkPWZ1bmN0aW9uKCl7aWYoMzA0Pj10aGlzLnN0YXR1cyl7dmFyIHU9ZS5wcm9jZXNzRmlsZShvLnJlc3BvbnNlVGV4dCk7ZS5sYW5nc1t0XT11LG4odSl9ZWxzZSByKHtzdGF0dXM6dGhpcy5zdGF0dXMsc3RhdHVzVGV4dDpvLnN0YXR1c1RleHR9KX0sby5vbmVycm9yPWZ1bmN0aW9uKCl7cih7c3RhdHVzOnRoaXMuc3RhdHVzLHN0YXR1c1RleHQ6by5zdGF0dXNUZXh0fSl9LG8uc2VuZCgpfX0pfSx0LnByb3RvdHlwZS5zZXRDdXJyZW50PWZ1bmN0aW9uKCl7dmFyIHQ9bihyZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiB0KCl7dmFyIGU9MDxhcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOlwiZW4tVVNcIjtyZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6cmV0dXJuIHQubmV4dD0yLHRoaXMubG9hZExhbmcoZSk7Y2FzZSAyOnJldHVybiB0aGlzLmxvY2FsZT1lLHRoaXMuY3VycmVudD10aGlzLmxhbmdzW2VdLHQuYWJydXB0KFwicmV0dXJuXCIsdGhpcy5jdXJyZW50KTtjYXNlIDU6Y2FzZVwiZW5kXCI6cmV0dXJuIHQuc3RvcCgpfX0sdCx0aGlzKX0pKTtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSgpLHUodCxbe2tleTpcImdldExhbmdzXCIsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuY29uZmlnLmxhbmdzfX1dKSx0fSgpO2UuZGVmYXVsdD1uZXcgaX1dKTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAvaG9tZS9pZ29yL2RldmVsb3BtZW50L29wZW5zb3VyY2UvZm9ybWVvL34vbWkxOG4vZGlzdC9taTE4bi5taW4uanNcbi8vIG1vZHVsZSBpZCA9IDRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///4\n')},function(module,exports,__webpack_require__){'use strict';eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar defaults = {\n  formeoLoaded: function formeoLoaded(evt) {},\n  onAdd: function onAdd() {},\n  onUpdate: function onUpdate(evt) {\n    if (events.opts.debug) {\n      console.log(evt);\n    }\n  },\n  onSave: function onSave(evt) {},\n  confirmClearAll: function confirmClearAll(evt) {\n    if (window.confirm(evt.confirmationMessage)) {\n      evt.clearAllAction(evt);\n    }\n  }\n};\n\nvar events = {\n  init: function init(options) {\n    this.opts = Object.assign({}, defaults, options);\n    return this;\n  },\n  formeoSaved: new CustomEvent(\'formeoSaved\', {}),\n  formeoUpdated: new CustomEvent(\'formeoUpdated\', {})\n};\n\ndocument.addEventListener(\'formeoUpdated\', function (evt) {\n  var timeStamp = evt.timeStamp,\n      type = evt.type,\n      data = evt.data;\n\n  var evtData = {\n    timeStamp: timeStamp,\n    type: type,\n    data: data\n  };\n  events.opts.onUpdate(evtData);\n});\n\ndocument.addEventListener(\'confirmClearAll\', function (evt) {\n  evt = {\n    timeStamp: evt.timeStamp,\n    type: evt.type,\n    rowCount: evt.detail.rows.length,\n    confirmationMessage: evt.detail.confirmationMessage,\n    clearAllAction: evt.detail.clearAllAction,\n    btnCoords: evt.detail.btnCoords\n  };\n\n  events.opts.confirmClearAll(evt);\n});\n\ndocument.addEventListener(\'formeoSaved\', function (evt) {\n  evt = {\n    timeStamp: evt.timeStamp,\n    type: evt.type,\n    formData: evt.detail.formData\n  };\n  events.opts.onSave(evt);\n});\n\ndocument.addEventListener(\'formeoLoaded\', function (evt) {\n  events.opts.formeoLoaded(evt.detail.formeo);\n});\n\nexports.default = events;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvanMvY29tbW9uL2V2ZW50cy5qcz83YjQwIl0sInNvdXJjZXNDb250ZW50IjpbIlxuLy8gRGVmYXVsdCBvcHRpb25zXG5sZXQgZGVmYXVsdHMgPSB7XG4gIGZvcm1lb0xvYWRlZDogZXZ0ID0+IHt9LFxuICBvbkFkZDogKCkgPT4ge30sXG4gIG9uVXBkYXRlOiBldnQgPT4ge1xuICAgIGlmIChldmVudHMub3B0cy5kZWJ1Zykge1xuICAgICAgY29uc29sZS5sb2coZXZ0KTtcbiAgICB9XG4gIH0sXG4gIG9uU2F2ZTogZXZ0ID0+IHt9LFxuICBjb25maXJtQ2xlYXJBbGw6IGV2dCA9PiB7XG4gICAgaWYgKHdpbmRvdy5jb25maXJtKGV2dC5jb25maXJtYXRpb25NZXNzYWdlKSkge1xuICAgICAgZXZ0LmNsZWFyQWxsQWN0aW9uKGV2dCk7XG4gICAgfVxuICB9XG59O1xuXG4vKipcbiAqIEV2ZW50cyBjbGFzcyBpcyB1c2VkIHRvIHJlZ2lzdGVyIGV2ZW50cyBhbmQgdGhyb3R0bGUgdGhlaXIgY2FsbGJhY2tzXG4gKi9cbmNvbnN0IGV2ZW50cyA9IHtcbiAgaW5pdDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIHRoaXMub3B0cyA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRzLCBvcHRpb25zKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcbiAgZm9ybWVvU2F2ZWQ6IG5ldyBDdXN0b21FdmVudCgnZm9ybWVvU2F2ZWQnLCB7fSksXG4gIGZvcm1lb1VwZGF0ZWQ6IG5ldyBDdXN0b21FdmVudCgnZm9ybWVvVXBkYXRlZCcsIHt9KVxufTtcblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZm9ybWVvVXBkYXRlZCcsIGZ1bmN0aW9uKGV2dCkge1xuICBsZXQge3RpbWVTdGFtcCwgdHlwZSwgZGF0YX0gPSBldnQ7XG4gIGxldCBldnREYXRhID0ge1xuICAgIHRpbWVTdGFtcCxcbiAgICB0eXBlLFxuICAgIGRhdGFcbiAgfTtcbiAgZXZlbnRzLm9wdHMub25VcGRhdGUoZXZ0RGF0YSk7XG59KTtcblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY29uZmlybUNsZWFyQWxsJywgZnVuY3Rpb24oZXZ0KSB7XG4gIGV2dCA9IHtcbiAgICB0aW1lU3RhbXA6IGV2dC50aW1lU3RhbXAsXG4gICAgdHlwZTogZXZ0LnR5cGUsXG4gICAgcm93Q291bnQ6IGV2dC5kZXRhaWwucm93cy5sZW5ndGgsXG4gICAgY29uZmlybWF0aW9uTWVzc2FnZTogZXZ0LmRldGFpbC5jb25maXJtYXRpb25NZXNzYWdlLFxuICAgIGNsZWFyQWxsQWN0aW9uOiBldnQuZGV0YWlsLmNsZWFyQWxsQWN0aW9uLFxuICAgIGJ0bkNvb3JkczogZXZ0LmRldGFpbC5idG5Db29yZHNcbiAgfTtcblxuICBldmVudHMub3B0cy5jb25maXJtQ2xlYXJBbGwoZXZ0KTtcbn0pO1xuXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdmb3JtZW9TYXZlZCcsIGV2dCA9PiB7XG4gIGV2dCA9IHtcbiAgICB0aW1lU3RhbXA6IGV2dC50aW1lU3RhbXAsXG4gICAgdHlwZTogZXZ0LnR5cGUsXG4gICAgZm9ybURhdGE6IGV2dC5kZXRhaWwuZm9ybURhdGFcbiAgfTtcbiAgZXZlbnRzLm9wdHMub25TYXZlKGV2dCk7XG59KTtcblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZm9ybWVvTG9hZGVkJywgZnVuY3Rpb24oZXZ0KSB7XG4gIGV2ZW50cy5vcHRzLmZvcm1lb0xvYWRlZChldnQuZGV0YWlsLmZvcm1lbyk7XG4gIC8vIHdpbmRvdy5jb250cm9sTmF2ID0gZXZ0LmRldGFpbC5mb3JtZW8uY29udHJvbHMuY29udHJvbE5hdjtcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBldmVudHM7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL2pzL2NvbW1vbi9ldmVudHMuanMiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFiQTtBQUNBO0FBa0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTkE7QUFDQTtBQVFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU5BO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///5\n')},function(module,exports,__webpack_require__){eval('var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;/**!\n * Sortable\n * @author\tRubaXa   <trash@rubaxa.org>\n * @license MIT\n */\n\n\n(function (factory) {\n\t"use strict";\n\n\tif (true) {\n\t\t!(__WEBPACK_AMD_DEFINE_FACTORY__ = (factory),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ = (typeof __WEBPACK_AMD_DEFINE_FACTORY__ === \'function\' ?\n\t\t\t\t(__WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module)) :\n\t\t\t\t__WEBPACK_AMD_DEFINE_FACTORY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n\t}\n\telse if (typeof module != "undefined" && typeof module.exports != "undefined") {\n\t\tmodule.exports = factory();\n\t}\n\telse if (typeof Package !== "undefined") {\n\t\tSortable = factory();  // export for Meteor.js\n\t}\n\telse {\n\t\t/* jshint sub:true */\n\t\twindow["Sortable"] = factory();\n\t}\n})(function () {\n\t"use strict";\n\n\tvar dragEl,\n\t\tparentEl,\n\t\tghostEl,\n\t\tcloneEl,\n\t\trootEl,\n\t\tnextEl,\n\n\t\tscrollEl,\n\t\tscrollParentEl,\n\n\t\tlastEl,\n\t\tlastCSS,\n\t\tlastParentCSS,\n\n\t\toldIndex,\n\t\tnewIndex,\n\n\t\tactiveGroup,\n\t\tautoScroll = {},\n\n\t\ttapEvt,\n\t\ttouchEvt,\n\n\t\tmoved,\n\n\t\t/** @const */\n\t\tRSPACE = /\\s+/g,\n\n\t\texpando = \'Sortable\' + (new Date).getTime(),\n\n\t\twin = window,\n\t\tdocument = win.document,\n\t\tparseInt = win.parseInt,\n\n\t\tsupportDraggable = !!(\'draggable\' in document.createElement(\'div\')),\n\t\tsupportCssPointerEvents = (function (el) {\n\t\t\tel = document.createElement(\'x\');\n\t\t\tel.style.cssText = \'pointer-events:auto\';\n\t\t\treturn el.style.pointerEvents === \'auto\';\n\t\t})(),\n\n\t\t_silent = false,\n\n\t\tabs = Math.abs,\n\t\tslice = [].slice,\n\n\t\ttouchDragOverListeners = [],\n\n\t\t_autoScroll = _throttle(function (/**Event*/evt, /**Object*/options, /**HTMLElement*/rootEl) {\n\t\t\t// Bug: https://bugzilla.mozilla.org/show_bug.cgi?id=505521\n\t\t\tif (rootEl && options.scroll) {\n\t\t\t\tvar el,\n\t\t\t\t\trect,\n\t\t\t\t\tsens = options.scrollSensitivity,\n\t\t\t\t\tspeed = options.scrollSpeed,\n\n\t\t\t\t\tx = evt.clientX,\n\t\t\t\t\ty = evt.clientY,\n\n\t\t\t\t\twinWidth = window.innerWidth,\n\t\t\t\t\twinHeight = window.innerHeight,\n\n\t\t\t\t\tvx,\n\t\t\t\t\tvy\n\t\t\t\t;\n\n\t\t\t\t// Delect scrollEl\n\t\t\t\tif (scrollParentEl !== rootEl) {\n\t\t\t\t\tscrollEl = options.scroll;\n\t\t\t\t\tscrollParentEl = rootEl;\n\n\t\t\t\t\tif (scrollEl === true) {\n\t\t\t\t\t\tscrollEl = rootEl;\n\n\t\t\t\t\t\tdo {\n\t\t\t\t\t\t\tif ((scrollEl.offsetWidth < scrollEl.scrollWidth) ||\n\t\t\t\t\t\t\t\t(scrollEl.offsetHeight < scrollEl.scrollHeight)\n\t\t\t\t\t\t\t) {\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/* jshint boss:true */\n\t\t\t\t\t\t} while (scrollEl = scrollEl.parentNode);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (scrollEl) {\n\t\t\t\t\tel = scrollEl;\n\t\t\t\t\trect = scrollEl.getBoundingClientRect();\n\t\t\t\t\tvx = (abs(rect.right - x) <= sens) - (abs(rect.left - x) <= sens);\n\t\t\t\t\tvy = (abs(rect.bottom - y) <= sens) - (abs(rect.top - y) <= sens);\n\t\t\t\t}\n\n\n\t\t\t\tif (!(vx || vy)) {\n\t\t\t\t\tvx = (winWidth - x <= sens) - (x <= sens);\n\t\t\t\t\tvy = (winHeight - y <= sens) - (y <= sens);\n\n\t\t\t\t\t/* jshint expr:true */\n\t\t\t\t\t(vx || vy) && (el = win);\n\t\t\t\t}\n\n\n\t\t\t\tif (autoScroll.vx !== vx || autoScroll.vy !== vy || autoScroll.el !== el) {\n\t\t\t\t\tautoScroll.el = el;\n\t\t\t\t\tautoScroll.vx = vx;\n\t\t\t\t\tautoScroll.vy = vy;\n\n\t\t\t\t\tclearInterval(autoScroll.pid);\n\n\t\t\t\t\tif (el) {\n\t\t\t\t\t\tautoScroll.pid = setInterval(function () {\n\t\t\t\t\t\t\tif (el === win) {\n\t\t\t\t\t\t\t\twin.scrollTo(win.pageXOffset + vx * speed, win.pageYOffset + vy * speed);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tvy && (el.scrollTop += vy * speed);\n\t\t\t\t\t\t\t\tvx && (el.scrollLeft += vx * speed);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, 24);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}, 30),\n\n\t\t_prepareGroup = function (options) {\n\t\t\tvar group = options.group;\n\n\t\t\tif (!group || typeof group != \'object\') {\n\t\t\t\tgroup = options.group = {name: group};\n\t\t\t}\n\n\t\t\t[\'pull\', \'put\'].forEach(function (key) {\n\t\t\t\tif (!(key in group)) {\n\t\t\t\t\tgroup[key] = true;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\toptions.groups = \' \' + group.name + (group.put.join ? \' \' + group.put.join(\' \') : \'\') + \' \';\n\t\t}\n\t;\n\n\n\n\t/**\n\t * @class  Sortable\n\t * @param  {HTMLElement}  el\n\t * @param  {Object}       [options]\n\t */\n\tfunction Sortable(el, options) {\n\t\tif (!(el && el.nodeType && el.nodeType === 1)) {\n\t\t\tthrow \'Sortable: `el` must be HTMLElement, and not \' + {}.toString.call(el);\n\t\t}\n\n\t\tthis.el = el; // root element\n\t\tthis.options = options = _extend({}, options);\n\n\n\t\t// Export instance\n\t\tel[expando] = this;\n\n\n\t\t// Default options\n\t\tvar defaults = {\n\t\t\tgroup: Math.random(),\n\t\t\tsort: true,\n\t\t\tdisabled: false,\n\t\t\tstore: null,\n\t\t\thandle: null,\n\t\t\tscroll: true,\n\t\t\tscrollSensitivity: 30,\n\t\t\tscrollSpeed: 10,\n\t\t\tdraggable: /[uo]l/i.test(el.nodeName) ? \'li\' : \'>*\',\n\t\t\tghostClass: \'sortable-ghost\',\n\t\t\tchosenClass: \'sortable-chosen\',\n\t\t\tignore: \'a, img\',\n\t\t\tfilter: null,\n\t\t\tanimation: 0,\n\t\t\tsetData: function (dataTransfer, dragEl) {\n\t\t\t\tdataTransfer.setData(\'Text\', dragEl.textContent);\n\t\t\t},\n\t\t\tdropBubble: false,\n\t\t\tdragoverBubble: false,\n\t\t\tdataIdAttr: \'data-id\',\n\t\t\tdelay: 0,\n\t\t\tforceFallback: false,\n\t\t\tfallbackClass: \'sortable-fallback\',\n\t\t\tfallbackOnBody: false\n\t\t};\n\n\n\t\t// Set default options\n\t\tfor (var name in defaults) {\n\t\t\t!(name in options) && (options[name] = defaults[name]);\n\t\t}\n\n\t\t_prepareGroup(options);\n\n\t\t// Bind all private methods\n\t\tfor (var fn in this) {\n\t\t\tif (fn.charAt(0) === \'_\') {\n\t\t\t\tthis[fn] = this[fn].bind(this);\n\t\t\t}\n\t\t}\n\n\t\t// Setup drag mode\n\t\tthis.nativeDraggable = options.forceFallback ? false : supportDraggable;\n\n\t\t// Bind events\n\t\t_on(el, \'mousedown\', this._onTapStart);\n\t\t_on(el, \'touchstart\', this._onTapStart);\n\n\t\tif (this.nativeDraggable) {\n\t\t\t_on(el, \'dragover\', this);\n\t\t\t_on(el, \'dragenter\', this);\n\t\t}\n\n\t\ttouchDragOverListeners.push(this._onDragOver);\n\n\t\t// Restore sorting\n\t\toptions.store && this.sort(options.store.get(this));\n\t}\n\n\n\tSortable.prototype = /** @lends Sortable.prototype */ {\n\t\tconstructor: Sortable,\n\n\t\t_onTapStart: function (/** Event|TouchEvent */evt) {\n\t\t\tvar _this = this,\n\t\t\t\tel = this.el,\n\t\t\t\toptions = this.options,\n\t\t\t\ttype = evt.type,\n\t\t\t\ttouch = evt.touches && evt.touches[0],\n\t\t\t\ttarget = (touch || evt).target,\n\t\t\t\toriginalTarget = target,\n\t\t\t\tfilter = options.filter;\n\n\n\t\t\tif (type === \'mousedown\' && evt.button !== 0 || options.disabled) {\n\t\t\t\treturn; // only left button or enabled\n\t\t\t}\n\n\t\t\ttarget = _closest(target, options.draggable, el);\n\n\t\t\tif (!target) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t// get the index of the dragged element within its parent\n\t\t\toldIndex = _index(target);\n\n\t\t\t// Check filter\n\t\t\tif (typeof filter === \'function\') {\n\t\t\t\tif (filter.call(this, evt, target, this)) {\n\t\t\t\t\t_dispatchEvent(_this, originalTarget, \'filter\', target, el, oldIndex);\n\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\treturn; // cancel dnd\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (filter) {\n\t\t\t\tfilter = filter.split(\',\').some(function (criteria) {\n\t\t\t\t\tcriteria = _closest(originalTarget, criteria.trim(), el);\n\n\t\t\t\t\tif (criteria) {\n\t\t\t\t\t\t_dispatchEvent(_this, criteria, \'filter\', target, el, oldIndex);\n\t\t\t\t\t\treturn true;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (filter) {\n\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\treturn; // cancel dnd\n\t\t\t\t}\n\t\t\t}\n\n\n\t\t\tif (options.handle && !_closest(originalTarget, options.handle, el)) {\n\t\t\t\treturn;\n\t\t\t}\n\n\n\t\t\t// Prepare `dragstart`\n\t\t\tthis._prepareDragStart(evt, touch, target);\n\t\t},\n\n\t\t_prepareDragStart: function (/** Event */evt, /** Touch */touch, /** HTMLElement */target) {\n\t\t\tvar _this = this,\n\t\t\t\tel = _this.el,\n\t\t\t\toptions = _this.options,\n\t\t\t\townerDocument = el.ownerDocument,\n\t\t\t\tdragStartFn;\n\n\t\t\tif (target && !dragEl && (target.parentNode === el)) {\n\t\t\t\ttapEvt = evt;\n\n\t\t\t\trootEl = el;\n\t\t\t\tdragEl = target;\n\t\t\t\tparentEl = dragEl.parentNode;\n\t\t\t\tnextEl = dragEl.nextSibling;\n\t\t\t\tactiveGroup = options.group;\n\n\t\t\t\tdragStartFn = function () {\n\t\t\t\t\t// Delayed drag has been triggered\n\t\t\t\t\t// we can re-enable the events: touchmove/mousemove\n\t\t\t\t\t_this._disableDelayedDrag();\n\n\t\t\t\t\t// Make the element draggable\n\t\t\t\t\tdragEl.draggable = true;\n\n\t\t\t\t\t// Chosen item\n\t\t\t\t\t_toggleClass(dragEl, _this.options.chosenClass, true);\n\n\t\t\t\t\t// Bind the events: dragstart/dragend\n\t\t\t\t\t_this._triggerDragStart(touch);\n\t\t\t\t};\n\n\t\t\t\t// Disable "draggable"\n\t\t\t\toptions.ignore.split(\',\').forEach(function (criteria) {\n\t\t\t\t\t_find(dragEl, criteria.trim(), _disableDraggable);\n\t\t\t\t});\n\n\t\t\t\t_on(ownerDocument, \'mouseup\', _this._onDrop);\n\t\t\t\t_on(ownerDocument, \'touchend\', _this._onDrop);\n\t\t\t\t_on(ownerDocument, \'touchcancel\', _this._onDrop);\n\n\t\t\t\tif (options.delay) {\n\t\t\t\t\t// If the user moves the pointer or let go the click or touch\n\t\t\t\t\t// before the delay has been reached:\n\t\t\t\t\t// disable the delayed drag\n\t\t\t\t\t_on(ownerDocument, \'mouseup\', _this._disableDelayedDrag);\n\t\t\t\t\t_on(ownerDocument, \'touchend\', _this._disableDelayedDrag);\n\t\t\t\t\t_on(ownerDocument, \'touchcancel\', _this._disableDelayedDrag);\n\t\t\t\t\t_on(ownerDocument, \'mousemove\', _this._disableDelayedDrag);\n\t\t\t\t\t_on(ownerDocument, \'touchmove\', _this._disableDelayedDrag);\n\n\t\t\t\t\t_this._dragStartTimer = setTimeout(dragStartFn, options.delay);\n\t\t\t\t} else {\n\t\t\t\t\tdragStartFn();\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_disableDelayedDrag: function () {\n\t\t\tvar ownerDocument = this.el.ownerDocument;\n\n\t\t\tclearTimeout(this._dragStartTimer);\n\t\t\t_off(ownerDocument, \'mouseup\', this._disableDelayedDrag);\n\t\t\t_off(ownerDocument, \'touchend\', this._disableDelayedDrag);\n\t\t\t_off(ownerDocument, \'touchcancel\', this._disableDelayedDrag);\n\t\t\t_off(ownerDocument, \'mousemove\', this._disableDelayedDrag);\n\t\t\t_off(ownerDocument, \'touchmove\', this._disableDelayedDrag);\n\t\t},\n\n\t\t_triggerDragStart: function (/** Touch */touch) {\n\t\t\tif (touch) {\n\t\t\t\t// Touch device support\n\t\t\t\ttapEvt = {\n\t\t\t\t\ttarget: dragEl,\n\t\t\t\t\tclientX: touch.clientX,\n\t\t\t\t\tclientY: touch.clientY\n\t\t\t\t};\n\n\t\t\t\tthis._onDragStart(tapEvt, \'touch\');\n\t\t\t}\n\t\t\telse if (!this.nativeDraggable) {\n\t\t\t\tthis._onDragStart(tapEvt, true);\n\t\t\t}\n\t\t\telse {\n\t\t\t\t_on(dragEl, \'dragend\', this);\n\t\t\t\t_on(rootEl, \'dragstart\', this._onDragStart);\n\t\t\t}\n\n\t\t\ttry {\n\t\t\t\tif (document.selection) {\n\t\t\t\t\tdocument.selection.empty();\n\t\t\t\t} else {\n\t\t\t\t\twindow.getSelection().removeAllRanges();\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t}\n\t\t},\n\n\t\t_dragStarted: function () {\n\t\t\tif (rootEl && dragEl) {\n\t\t\t\t// Apply effect\n\t\t\t\t_toggleClass(dragEl, this.options.ghostClass, true);\n\n\t\t\t\tSortable.active = this;\n\n\t\t\t\t// Drag start event\n\t\t\t\t_dispatchEvent(this, rootEl, \'start\', dragEl, rootEl, oldIndex);\n\t\t\t}\n\t\t},\n\n\t\t_emulateDragOver: function () {\n\t\t\tif (touchEvt) {\n\t\t\t\tif (this._lastX === touchEvt.clientX && this._lastY === touchEvt.clientY) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis._lastX = touchEvt.clientX;\n\t\t\t\tthis._lastY = touchEvt.clientY;\n\n\t\t\t\tif (!supportCssPointerEvents) {\n\t\t\t\t\t_css(ghostEl, \'display\', \'none\');\n\t\t\t\t}\n\n\t\t\t\tvar target = document.elementFromPoint(touchEvt.clientX, touchEvt.clientY),\n\t\t\t\t\tparent = target,\n\t\t\t\t\tgroupName = \' \' + this.options.group.name + \'\',\n\t\t\t\t\ti = touchDragOverListeners.length;\n\n\t\t\t\tif (parent) {\n\t\t\t\t\tdo {\n\t\t\t\t\t\tif (parent[expando] && parent[expando].options.groups.indexOf(groupName) > -1) {\n\t\t\t\t\t\t\twhile (i--) {\n\t\t\t\t\t\t\t\ttouchDragOverListeners[i]({\n\t\t\t\t\t\t\t\t\tclientX: touchEvt.clientX,\n\t\t\t\t\t\t\t\t\tclientY: touchEvt.clientY,\n\t\t\t\t\t\t\t\t\ttarget: target,\n\t\t\t\t\t\t\t\t\trootEl: parent\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttarget = parent; // store last element\n\t\t\t\t\t}\n\t\t\t\t\t/* jshint boss:true */\n\t\t\t\t\twhile (parent = parent.parentNode);\n\t\t\t\t}\n\n\t\t\t\tif (!supportCssPointerEvents) {\n\t\t\t\t\t_css(ghostEl, \'display\', \'\');\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\n\t\t_onTouchMove: function (/**TouchEvent*/evt) {\n\t\t\tif (tapEvt) {\n\t\t\t\t// only set the status to dragging, when we are actually dragging\n\t\t\t\tif (!Sortable.active) {\n\t\t\t\t\tthis._dragStarted();\n\t\t\t\t}\n\n\t\t\t\t// as well as creating the ghost element on the document body\n\t\t\t\tthis._appendGhost();\n\n\t\t\t\tvar touch = evt.touches ? evt.touches[0] : evt,\n\t\t\t\t\tdx = touch.clientX - tapEvt.clientX,\n\t\t\t\t\tdy = touch.clientY - tapEvt.clientY,\n\t\t\t\t\ttranslate3d = evt.touches ? \'translate3d(\' + dx + \'px,\' + dy + \'px,0)\' : \'translate(\' + dx + \'px,\' + dy + \'px)\';\n\n\t\t\t\tmoved = true;\n\t\t\t\ttouchEvt = touch;\n\n\t\t\t\t_css(ghostEl, \'webkitTransform\', translate3d);\n\t\t\t\t_css(ghostEl, \'mozTransform\', translate3d);\n\t\t\t\t_css(ghostEl, \'msTransform\', translate3d);\n\t\t\t\t_css(ghostEl, \'transform\', translate3d);\n\n\t\t\t\tevt.preventDefault();\n\t\t\t}\n\t\t},\n\n\t\t_appendGhost: function () {\n\t\t\tif (!ghostEl) {\n\t\t\t\tvar rect = dragEl.getBoundingClientRect(),\n\t\t\t\t\tcss = _css(dragEl),\n\t\t\t\t\toptions = this.options,\n\t\t\t\t\tghostRect;\n\n\t\t\t\tghostEl = dragEl.cloneNode(true);\n\n\t\t\t\t_toggleClass(ghostEl, options.ghostClass, false);\n\t\t\t\t_toggleClass(ghostEl, options.fallbackClass, true);\n\n\t\t\t\t_css(ghostEl, \'top\', rect.top - parseInt(css.marginTop, 10));\n\t\t\t\t_css(ghostEl, \'left\', rect.left - parseInt(css.marginLeft, 10));\n\t\t\t\t_css(ghostEl, \'width\', rect.width);\n\t\t\t\t_css(ghostEl, \'height\', rect.height);\n\t\t\t\t_css(ghostEl, \'opacity\', \'0.8\');\n\t\t\t\t_css(ghostEl, \'position\', \'fixed\');\n\t\t\t\t_css(ghostEl, \'zIndex\', \'100000\');\n\t\t\t\t_css(ghostEl, \'pointerEvents\', \'none\');\n\n\t\t\t\toptions.fallbackOnBody && document.body.appendChild(ghostEl) || rootEl.appendChild(ghostEl);\n\n\t\t\t\t// Fixing dimensions.\n\t\t\t\tghostRect = ghostEl.getBoundingClientRect();\n\t\t\t\t_css(ghostEl, \'width\', rect.width * 2 - ghostRect.width);\n\t\t\t\t_css(ghostEl, \'height\', rect.height * 2 - ghostRect.height);\n\t\t\t}\n\t\t},\n\n\t\t_onDragStart: function (/**Event*/evt, /**boolean*/useFallback) {\n\t\t\tvar dataTransfer = evt.dataTransfer,\n\t\t\t\toptions = this.options;\n\n\t\t\tthis._offUpEvents();\n\n\t\t\tif (activeGroup.pull == \'clone\') {\n\t\t\t\tcloneEl = dragEl.cloneNode(true);\n\t\t\t\t_css(cloneEl, \'display\', \'none\');\n\t\t\t\trootEl.insertBefore(cloneEl, dragEl);\n\t\t\t}\n\n\t\t\tif (useFallback) {\n\n\t\t\t\tif (useFallback === \'touch\') {\n\t\t\t\t\t// Bind touch events\n\t\t\t\t\t_on(document, \'touchmove\', this._onTouchMove);\n\t\t\t\t\t_on(document, \'touchend\', this._onDrop);\n\t\t\t\t\t_on(document, \'touchcancel\', this._onDrop);\n\t\t\t\t} else {\n\t\t\t\t\t// Old brwoser\n\t\t\t\t\t_on(document, \'mousemove\', this._onTouchMove);\n\t\t\t\t\t_on(document, \'mouseup\', this._onDrop);\n\t\t\t\t}\n\n\t\t\t\tthis._loopId = setInterval(this._emulateDragOver, 50);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (dataTransfer) {\n\t\t\t\t\tdataTransfer.effectAllowed = \'move\';\n\t\t\t\t\toptions.setData && options.setData.call(this, dataTransfer, dragEl);\n\t\t\t\t}\n\n\t\t\t\t_on(document, \'drop\', this);\n\t\t\t\tsetTimeout(this._dragStarted, 0);\n\t\t\t}\n\t\t},\n\n\t\t_onDragOver: function (/**Event*/evt) {\n\t\t\tvar el = this.el,\n\t\t\t\ttarget,\n\t\t\t\tdragRect,\n\t\t\t\trevert,\n\t\t\t\toptions = this.options,\n\t\t\t\tgroup = options.group,\n\t\t\t\tgroupPut = group.put,\n\t\t\t\tisOwner = (activeGroup === group),\n\t\t\t\tcanSort = options.sort;\n\n\t\t\tif (evt.preventDefault !== void 0) {\n\t\t\t\tevt.preventDefault();\n\t\t\t\t!options.dragoverBubble && evt.stopPropagation();\n\t\t\t}\n\n\t\t\tmoved = true;\n\n\t\t\tif (activeGroup && !options.disabled &&\n\t\t\t\t(isOwner\n\t\t\t\t\t? canSort || (revert = !rootEl.contains(dragEl)) // Reverting item into the original list\n\t\t\t\t\t: activeGroup.pull && groupPut && (\n\t\t\t\t\t\t(activeGroup.name === group.name) || // by Name\n\t\t\t\t\t\t(groupPut.indexOf && ~groupPut.indexOf(activeGroup.name)) // by Array\n\t\t\t\t\t)\n\t\t\t\t) &&\n\t\t\t\t(evt.rootEl === void 0 || evt.rootEl === this.el) // touch fallback\n\t\t\t) {\n\t\t\t\t// Smart auto-scrolling\n\t\t\t\t_autoScroll(evt, options, this.el);\n\n\t\t\t\tif (_silent) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\ttarget = _closest(evt.target, options.draggable, el);\n\t\t\t\tdragRect = dragEl.getBoundingClientRect();\n\n\t\t\t\tif (revert) {\n\t\t\t\t\t_cloneHide(true);\n\n\t\t\t\t\tif (cloneEl || nextEl) {\n\t\t\t\t\t\trootEl.insertBefore(dragEl, cloneEl || nextEl);\n\t\t\t\t\t}\n\t\t\t\t\telse if (!canSort) {\n\t\t\t\t\t\trootEl.appendChild(dragEl);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\n\t\t\t\tif ((el.children.length === 0) || (el.children[0] === ghostEl) ||\n\t\t\t\t\t(el === evt.target) && (target = _ghostIsLast(el, evt))\n\t\t\t\t) {\n\n\t\t\t\t\tif (target) {\n\t\t\t\t\t\tif (target.animated) {\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttargetRect = target.getBoundingClientRect();\n\t\t\t\t\t}\n\n\t\t\t\t\t_cloneHide(isOwner);\n\n\t\t\t\t\tif (_onMove(rootEl, el, dragEl, dragRect, target, targetRect) !== false) {\n\t\t\t\t\t\tif (!dragEl.contains(el)) {\n\t\t\t\t\t\t\tel.appendChild(dragEl);\n\t\t\t\t\t\t\tparentEl = el; // actualization\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tthis._animate(dragRect, dragEl);\n\t\t\t\t\t\ttarget && this._animate(targetRect, target);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (target && !target.animated && target !== dragEl && (target.parentNode[expando] !== void 0)) {\n\t\t\t\t\tif (lastEl !== target) {\n\t\t\t\t\t\tlastEl = target;\n\t\t\t\t\t\tlastCSS = _css(target);\n\t\t\t\t\t\tlastParentCSS = _css(target.parentNode);\n\t\t\t\t\t}\n\n\n\t\t\t\t\tvar targetRect = target.getBoundingClientRect(),\n\t\t\t\t\t\twidth = targetRect.right - targetRect.left,\n\t\t\t\t\t\theight = targetRect.bottom - targetRect.top,\n\t\t\t\t\t\tfloating = /left|right|inline/.test(lastCSS.cssFloat + lastCSS.display)\n\t\t\t\t\t\t\t|| (lastParentCSS.display == \'flex\' && lastParentCSS[\'flex-direction\'].indexOf(\'row\') === 0),\n\t\t\t\t\t\tisWide = (target.offsetWidth > dragEl.offsetWidth),\n\t\t\t\t\t\tisLong = (target.offsetHeight > dragEl.offsetHeight),\n\t\t\t\t\t\thalfway = (floating ? (evt.clientX - targetRect.left) / width : (evt.clientY - targetRect.top) / height) > 0.5,\n\t\t\t\t\t\tnextSibling = target.nextElementSibling,\n\t\t\t\t\t\tmoveVector = _onMove(rootEl, el, dragEl, dragRect, target, targetRect),\n\t\t\t\t\t\tafter\n\t\t\t\t\t;\n\n\t\t\t\t\tif (moveVector !== false) {\n\t\t\t\t\t\t_silent = true;\n\t\t\t\t\t\tsetTimeout(_unsilent, 30);\n\n\t\t\t\t\t\t_cloneHide(isOwner);\n\n\t\t\t\t\t\tif (moveVector === 1 || moveVector === -1) {\n\t\t\t\t\t\t\tafter = (moveVector === 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (floating) {\n\t\t\t\t\t\t\tvar elTop = dragEl.offsetTop,\n\t\t\t\t\t\t\t\ttgTop = target.offsetTop;\n\n\t\t\t\t\t\t\tif (elTop === tgTop) {\n\t\t\t\t\t\t\t\tafter = (target.previousElementSibling === dragEl) && !isWide || halfway && isWide;\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tafter = tgTop > elTop;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tafter = (nextSibling !== dragEl) && !isLong || halfway && isLong;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (!dragEl.contains(el)) {\n\t\t\t\t\t\t\tif (after && !nextSibling) {\n\t\t\t\t\t\t\t\tel.appendChild(dragEl);\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\ttarget.parentNode.insertBefore(dragEl, after ? nextSibling : target);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tparentEl = dragEl.parentNode; // actualization\n\n\t\t\t\t\t\tthis._animate(dragRect, dragEl);\n\t\t\t\t\t\tthis._animate(targetRect, target);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\t\t_animate: function (prevRect, target) {\n\t\t\tvar ms = this.options.animation;\n\n\t\t\tif (ms) {\n\t\t\t\tvar currentRect = target.getBoundingClientRect();\n\n\t\t\t\t_css(target, \'transition\', \'none\');\n\t\t\t\t_css(target, \'transform\', \'translate3d(\'\n\t\t\t\t\t+ (prevRect.left - currentRect.left) + \'px,\'\n\t\t\t\t\t+ (prevRect.top - currentRect.top) + \'px,0)\'\n\t\t\t\t);\n\n\t\t\t\ttarget.offsetWidth; // repaint\n\n\t\t\t\t_css(target, \'transition\', \'all \' + ms + \'ms\');\n\t\t\t\t_css(target, \'transform\', \'translate3d(0,0,0)\');\n\n\t\t\t\tclearTimeout(target.animated);\n\t\t\t\ttarget.animated = setTimeout(function () {\n\t\t\t\t\t_css(target, \'transition\', \'\');\n\t\t\t\t\t_css(target, \'transform\', \'\');\n\t\t\t\t\ttarget.animated = false;\n\t\t\t\t}, ms);\n\t\t\t}\n\t\t},\n\n\t\t_offUpEvents: function () {\n\t\t\tvar ownerDocument = this.el.ownerDocument;\n\n\t\t\t_off(document, \'touchmove\', this._onTouchMove);\n\t\t\t_off(ownerDocument, \'mouseup\', this._onDrop);\n\t\t\t_off(ownerDocument, \'touchend\', this._onDrop);\n\t\t\t_off(ownerDocument, \'touchcancel\', this._onDrop);\n\t\t},\n\n\t\t_onDrop: function (/**Event*/evt) {\n\t\t\tvar el = this.el,\n\t\t\t\toptions = this.options;\n\n\t\t\tclearInterval(this._loopId);\n\t\t\tclearInterval(autoScroll.pid);\n\t\t\tclearTimeout(this._dragStartTimer);\n\n\t\t\t// Unbind events\n\t\t\t_off(document, \'mousemove\', this._onTouchMove);\n\n\t\t\tif (this.nativeDraggable) {\n\t\t\t\t_off(document, \'drop\', this);\n\t\t\t\t_off(el, \'dragstart\', this._onDragStart);\n\t\t\t}\n\n\t\t\tthis._offUpEvents();\n\n\t\t\tif (evt) {\n\t\t\t\tif (moved) {\n\t\t\t\t\tevt.preventDefault();\n\t\t\t\t\t!options.dropBubble && evt.stopPropagation();\n\t\t\t\t}\n\n\t\t\t\tghostEl && ghostEl.parentNode.removeChild(ghostEl);\n\n\t\t\t\tif (dragEl) {\n\t\t\t\t\tif (this.nativeDraggable) {\n\t\t\t\t\t\t_off(dragEl, \'dragend\', this);\n\t\t\t\t\t}\n\n\t\t\t\t\t_disableDraggable(dragEl);\n\n\t\t\t\t\t// Remove class\'s\n\t\t\t\t\t_toggleClass(dragEl, this.options.ghostClass, false);\n\t\t\t\t\t_toggleClass(dragEl, this.options.chosenClass, false);\n\n\t\t\t\t\tif (rootEl !== parentEl) {\n\t\t\t\t\t\tnewIndex = _index(dragEl);\n\n\t\t\t\t\t\tif (newIndex >= 0) {\n\t\t\t\t\t\t\t// drag from one list and drop into another\n\t\t\t\t\t\t\t_dispatchEvent(null, parentEl, \'sort\', dragEl, rootEl, oldIndex, newIndex);\n\t\t\t\t\t\t\t_dispatchEvent(this, rootEl, \'sort\', dragEl, rootEl, oldIndex, newIndex);\n\n\t\t\t\t\t\t\t// Add event\n\t\t\t\t\t\t\t_dispatchEvent(null, parentEl, \'add\', dragEl, rootEl, oldIndex, newIndex);\n\n\t\t\t\t\t\t\t// Remove event\n\t\t\t\t\t\t\t_dispatchEvent(this, rootEl, \'remove\', dragEl, rootEl, oldIndex, newIndex);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\t// Remove clone\n\t\t\t\t\t\tcloneEl && cloneEl.parentNode.removeChild(cloneEl);\n\n\t\t\t\t\t\tif (dragEl.nextSibling !== nextEl) {\n\t\t\t\t\t\t\t// Get the index of the dragged element within its parent\n\t\t\t\t\t\t\tnewIndex = _index(dragEl);\n\n\t\t\t\t\t\t\tif (newIndex >= 0) {\n\t\t\t\t\t\t\t\t// drag & drop within the same list\n\t\t\t\t\t\t\t\t_dispatchEvent(this, rootEl, \'update\', dragEl, rootEl, oldIndex, newIndex);\n\t\t\t\t\t\t\t\t_dispatchEvent(this, rootEl, \'sort\', dragEl, rootEl, oldIndex, newIndex);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (Sortable.active) {\n\t\t\t\t\t\tif (newIndex === null || newIndex === -1) {\n\t\t\t\t\t\t\tnewIndex = oldIndex;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t_dispatchEvent(this, rootEl, \'end\', dragEl, rootEl, oldIndex, newIndex);\n\n\t\t\t\t\t\t// Save sorting\n\t\t\t\t\t\tthis.save();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// Nulling\n\t\t\t\trootEl =\n\t\t\t\tdragEl =\n\t\t\t\tparentEl =\n\t\t\t\tghostEl =\n\t\t\t\tnextEl =\n\t\t\t\tcloneEl =\n\n\t\t\t\tscrollEl =\n\t\t\t\tscrollParentEl =\n\n\t\t\t\ttapEvt =\n\t\t\t\ttouchEvt =\n\n\t\t\t\tmoved =\n\t\t\t\tnewIndex =\n\n\t\t\t\tlastEl =\n\t\t\t\tlastCSS =\n\n\t\t\t\tactiveGroup =\n\t\t\t\tSortable.active = null;\n\t\t\t}\n\t\t},\n\n\n\t\thandleEvent: function (/**Event*/evt) {\n\t\t\tvar type = evt.type;\n\n\t\t\tif (type === \'dragover\' || type === \'dragenter\') {\n\t\t\t\tif (dragEl) {\n\t\t\t\t\tthis._onDragOver(evt);\n\t\t\t\t\t_globalDragOver(evt);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (type === \'drop\' || type === \'dragend\') {\n\t\t\t\tthis._onDrop(evt);\n\t\t\t}\n\t\t},\n\n\n\t\t/**\n\t\t * Serializes the item into an array of string.\n\t\t * @returns {String[]}\n\t\t */\n\t\ttoArray: function () {\n\t\t\tvar order = [],\n\t\t\t\tel,\n\t\t\t\tchildren = this.el.children,\n\t\t\t\ti = 0,\n\t\t\t\tn = children.length,\n\t\t\t\toptions = this.options;\n\n\t\t\tfor (; i < n; i++) {\n\t\t\t\tel = children[i];\n\t\t\t\tif (_closest(el, options.draggable, this.el)) {\n\t\t\t\t\torder.push(el.getAttribute(options.dataIdAttr) || _generateId(el));\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn order;\n\t\t},\n\n\n\t\t/**\n\t\t * Sorts the elements according to the array.\n\t\t * @param  {String[]}  order  order of the items\n\t\t */\n\t\tsort: function (order) {\n\t\t\tvar items = {}, rootEl = this.el;\n\n\t\t\tthis.toArray().forEach(function (id, i) {\n\t\t\t\tvar el = rootEl.children[i];\n\n\t\t\t\tif (_closest(el, this.options.draggable, rootEl)) {\n\t\t\t\t\titems[id] = el;\n\t\t\t\t}\n\t\t\t}, this);\n\n\t\t\torder.forEach(function (id) {\n\t\t\t\tif (items[id]) {\n\t\t\t\t\trootEl.removeChild(items[id]);\n\t\t\t\t\trootEl.appendChild(items[id]);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\n\n\t\t/**\n\t\t * Save the current sorting\n\t\t */\n\t\tsave: function () {\n\t\t\tvar store = this.options.store;\n\t\t\tstore && store.set(this);\n\t\t},\n\n\n\t\t/**\n\t\t * For each element in the set, get the first element that matches the selector by testing the element itself and traversing up through its ancestors in the DOM tree.\n\t\t * @param   {HTMLElement}  el\n\t\t * @param   {String}       [selector]  default: `options.draggable`\n\t\t * @returns {HTMLElement|null}\n\t\t */\n\t\tclosest: function (el, selector) {\n\t\t\treturn _closest(el, selector || this.options.draggable, this.el);\n\t\t},\n\n\n\t\t/**\n\t\t * Set/get option\n\t\t * @param   {string} name\n\t\t * @param   {*}      [value]\n\t\t * @returns {*}\n\t\t */\n\t\toption: function (name, value) {\n\t\t\tvar options = this.options;\n\n\t\t\tif (value === void 0) {\n\t\t\t\treturn options[name];\n\t\t\t} else {\n\t\t\t\toptions[name] = value;\n\n\t\t\t\tif (name === \'group\') {\n\t\t\t\t\t_prepareGroup(options);\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\n\n\t\t/**\n\t\t * Destroy\n\t\t */\n\t\tdestroy: function () {\n\t\t\tvar el = this.el;\n\n\t\t\tel[expando] = null;\n\n\t\t\t_off(el, \'mousedown\', this._onTapStart);\n\t\t\t_off(el, \'touchstart\', this._onTapStart);\n\n\t\t\tif (this.nativeDraggable) {\n\t\t\t\t_off(el, \'dragover\', this);\n\t\t\t\t_off(el, \'dragenter\', this);\n\t\t\t}\n\n\t\t\t// Remove draggable attributes\n\t\t\tArray.prototype.forEach.call(el.querySelectorAll(\'[draggable]\'), function (el) {\n\t\t\t\tel.removeAttribute(\'draggable\');\n\t\t\t});\n\n\t\t\ttouchDragOverListeners.splice(touchDragOverListeners.indexOf(this._onDragOver), 1);\n\n\t\t\tthis._onDrop();\n\n\t\t\tthis.el = el = null;\n\t\t}\n\t};\n\n\n\tfunction _cloneHide(state) {\n\t\tif (cloneEl && (cloneEl.state !== state)) {\n\t\t\t_css(cloneEl, \'display\', state ? \'none\' : \'\');\n\t\t\t!state && cloneEl.state && rootEl.insertBefore(cloneEl, dragEl);\n\t\t\tcloneEl.state = state;\n\t\t}\n\t}\n\n\n\tfunction _closest(/**HTMLElement*/el, /**String*/selector, /**HTMLElement*/ctx) {\n\t\tif (el) {\n\t\t\tctx = ctx || document;\n\t\t\tselector = selector.split(\'.\');\n\n\t\t\tvar tag = selector.shift().toUpperCase(),\n\t\t\t\tre = new RegExp(\'\\\\s(\' + selector.join(\'|\') + \')(?=\\\\s)\', \'g\');\n\n\t\t\tdo {\n\t\t\t\tif (\n\t\t\t\t\t(tag === \'>*\' && el.parentNode === ctx) || (\n\t\t\t\t\t\t(tag === \'\' || el.nodeName.toUpperCase() == tag) &&\n\t\t\t\t\t\t(!selector.length || ((\' \' + el.className + \' \').match(re) || []).length == selector.length)\n\t\t\t\t\t)\n\t\t\t\t) {\n\t\t\t\t\treturn el;\n\t\t\t\t}\n\t\t\t}\n\t\t\twhile (el !== ctx && (el = el.parentNode));\n\t\t}\n\n\t\treturn null;\n\t}\n\n\n\tfunction _globalDragOver(/**Event*/evt) {\n\t\tif (evt.dataTransfer) {\n\t\t\tevt.dataTransfer.dropEffect = \'move\';\n\t\t}\n\t\tevt.preventDefault();\n\t}\n\n\n\tfunction _on(el, event, fn) {\n\t\tel.addEventListener(event, fn, false);\n\t}\n\n\n\tfunction _off(el, event, fn) {\n\t\tel.removeEventListener(event, fn, false);\n\t}\n\n\n\tfunction _toggleClass(el, name, state) {\n\t\tif (el) {\n\t\t\tif (el.classList) {\n\t\t\t\tel.classList[state ? \'add\' : \'remove\'](name);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tvar className = (\' \' + el.className + \' \').replace(RSPACE, \' \').replace(\' \' + name + \' \', \' \');\n\t\t\t\tel.className = (className + (state ? \' \' + name : \'\')).replace(RSPACE, \' \');\n\t\t\t}\n\t\t}\n\t}\n\n\n\tfunction _css(el, prop, val) {\n\t\tvar style = el && el.style;\n\n\t\tif (style) {\n\t\t\tif (val === void 0) {\n\t\t\t\tif (document.defaultView && document.defaultView.getComputedStyle) {\n\t\t\t\t\tval = document.defaultView.getComputedStyle(el, \'\');\n\t\t\t\t}\n\t\t\t\telse if (el.currentStyle) {\n\t\t\t\t\tval = el.currentStyle;\n\t\t\t\t}\n\n\t\t\t\treturn prop === void 0 ? val : val[prop];\n\t\t\t}\n\t\t\telse {\n\t\t\t\tif (!(prop in style)) {\n\t\t\t\t\tprop = \'-webkit-\' + prop;\n\t\t\t\t}\n\n\t\t\t\tstyle[prop] = val + (typeof val === \'string\' ? \'\' : \'px\');\n\t\t\t}\n\t\t}\n\t}\n\n\n\tfunction _find(ctx, tagName, iterator) {\n\t\tif (ctx) {\n\t\t\tvar list = ctx.getElementsByTagName(tagName), i = 0, n = list.length;\n\n\t\t\tif (iterator) {\n\t\t\t\tfor (; i < n; i++) {\n\t\t\t\t\titerator(list[i], i);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn list;\n\t\t}\n\n\t\treturn [];\n\t}\n\n\n\n\tfunction _dispatchEvent(sortable, rootEl, name, targetEl, fromEl, startIndex, newIndex) {\n\t\tvar evt = document.createEvent(\'Event\'),\n\t\t\toptions = (sortable || rootEl[expando]).options,\n\t\t\tonName = \'on\' + name.charAt(0).toUpperCase() + name.substr(1);\n\n\t\tevt.initEvent(name, true, true);\n\n\t\tevt.to = rootEl;\n\t\tevt.from = fromEl || rootEl;\n\t\tevt.item = targetEl || rootEl;\n\t\tevt.clone = cloneEl;\n\n\t\tevt.oldIndex = startIndex;\n\t\tevt.newIndex = newIndex;\n\n\t\trootEl.dispatchEvent(evt);\n\n\t\tif (options[onName]) {\n\t\t\toptions[onName].call(sortable, evt);\n\t\t}\n\t}\n\n\n\tfunction _onMove(fromEl, toEl, dragEl, dragRect, targetEl, targetRect) {\n\t\tvar evt,\n\t\t\tsortable = fromEl[expando],\n\t\t\tonMoveFn = sortable.options.onMove,\n\t\t\tretVal;\n\n\t\tevt = document.createEvent(\'Event\');\n\t\tevt.initEvent(\'move\', true, true);\n\n\t\tevt.to = toEl;\n\t\tevt.from = fromEl;\n\t\tevt.dragged = dragEl;\n\t\tevt.draggedRect = dragRect;\n\t\tevt.related = targetEl || toEl;\n\t\tevt.relatedRect = targetRect || toEl.getBoundingClientRect();\n\n\t\tfromEl.dispatchEvent(evt);\n\n\t\tif (onMoveFn) {\n\t\t\tretVal = onMoveFn.call(sortable, evt);\n\t\t}\n\n\t\treturn retVal;\n\t}\n\n\n\tfunction _disableDraggable(el) {\n\t\tel.draggable = false;\n\t}\n\n\n\tfunction _unsilent() {\n\t\t_silent = false;\n\t}\n\n\n\t/** @returns {HTMLElement|false} */\n\tfunction _ghostIsLast(el, evt) {\n\t\tvar lastEl = el.lastElementChild,\n\t\t\t\trect = lastEl.getBoundingClientRect();\n\n\t\treturn ((evt.clientY - (rect.top + rect.height) > 5) || (evt.clientX - (rect.right + rect.width) > 5)) && lastEl; // min delta\n\t}\n\n\n\t/**\n\t * Generate id\n\t * @param   {HTMLElement} el\n\t * @returns {String}\n\t * @private\n\t */\n\tfunction _generateId(el) {\n\t\tvar str = el.tagName + el.className + el.src + el.href + el.textContent,\n\t\t\ti = str.length,\n\t\t\tsum = 0;\n\n\t\twhile (i--) {\n\t\t\tsum += str.charCodeAt(i);\n\t\t}\n\n\t\treturn sum.toString(36);\n\t}\n\n\t/**\n\t * Returns the index of an element within its parent\n\t * @param  {HTMLElement} el\n\t * @return {number}\n\t */\n\tfunction _index(el) {\n\t\tvar index = 0;\n\n\t\tif (!el || !el.parentNode) {\n\t\t\treturn -1;\n\t\t}\n\n\t\twhile (el && (el = el.previousElementSibling)) {\n\t\t\tif (el.nodeName.toUpperCase() !== \'TEMPLATE\') {\n\t\t\t\tindex++;\n\t\t\t}\n\t\t}\n\n\t\treturn index;\n\t}\n\n\tfunction _throttle(callback, ms) {\n\t\tvar args, _this;\n\n\t\treturn function () {\n\t\t\tif (args === void 0) {\n\t\t\t\targs = arguments;\n\t\t\t\t_this = this;\n\n\t\t\t\tsetTimeout(function () {\n\t\t\t\t\tif (args.length === 1) {\n\t\t\t\t\t\tcallback.call(_this, args[0]);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcallback.apply(_this, args);\n\t\t\t\t\t}\n\n\t\t\t\t\targs = void 0;\n\t\t\t\t}, ms);\n\t\t\t}\n\t\t};\n\t}\n\n\tfunction _extend(dst, src) {\n\t\tif (dst && src) {\n\t\t\tfor (var key in src) {\n\t\t\t\tif (src.hasOwnProperty(key)) {\n\t\t\t\t\tdst[key] = src[key];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn dst;\n\t}\n\n\n\t// Export utils\n\tSortable.utils = {\n\t\ton: _on,\n\t\toff: _off,\n\t\tcss: _css,\n\t\tfind: _find,\n\t\tis: function (el, selector) {\n\t\t\treturn !!_closest(el, selector, el);\n\t\t},\n\t\textend: _extend,\n\t\tthrottle: _throttle,\n\t\tclosest: _closest,\n\t\ttoggleClass: _toggleClass,\n\t\tindex: _index\n\t};\n\n\n\t/**\n\t * Create sortable instance\n\t * @param {HTMLElement}  el\n\t * @param {Object}      [options]\n\t */\n\tSortable.create = function (el, options) {\n\t\treturn new Sortable(el, options);\n\t};\n\n\n\t// Export\n\tSortable.version = \'1.4.2\';\n\treturn Sortable;\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNi5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8vaG9tZS9pZ29yL2RldmVsb3BtZW50L29wZW5zb3VyY2UvZm9ybWVvL34vc29ydGFibGVqcy9Tb3J0YWJsZS5qcz81ZjlkIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKiFcbiAqIFNvcnRhYmxlXG4gKiBAYXV0aG9yXHRSdWJhWGEgICA8dHJhc2hAcnViYXhhLm9yZz5cbiAqIEBsaWNlbnNlIE1JVFxuICovXG5cblxuKGZ1bmN0aW9uIChmYWN0b3J5KSB7XG5cdFwidXNlIHN0cmljdFwiO1xuXG5cdGlmICh0eXBlb2YgZGVmaW5lID09PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkge1xuXHRcdGRlZmluZShmYWN0b3J5KTtcblx0fVxuXHRlbHNlIGlmICh0eXBlb2YgbW9kdWxlICE9IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIG1vZHVsZS5leHBvcnRzICE9IFwidW5kZWZpbmVkXCIpIHtcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0fVxuXHRlbHNlIGlmICh0eXBlb2YgUGFja2FnZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuXHRcdFNvcnRhYmxlID0gZmFjdG9yeSgpOyAgLy8gZXhwb3J0IGZvciBNZXRlb3IuanNcblx0fVxuXHRlbHNlIHtcblx0XHQvKiBqc2hpbnQgc3ViOnRydWUgKi9cblx0XHR3aW5kb3dbXCJTb3J0YWJsZVwiXSA9IGZhY3RvcnkoKTtcblx0fVxufSkoZnVuY3Rpb24gKCkge1xuXHRcInVzZSBzdHJpY3RcIjtcblxuXHR2YXIgZHJhZ0VsLFxuXHRcdHBhcmVudEVsLFxuXHRcdGdob3N0RWwsXG5cdFx0Y2xvbmVFbCxcblx0XHRyb290RWwsXG5cdFx0bmV4dEVsLFxuXG5cdFx0c2Nyb2xsRWwsXG5cdFx0c2Nyb2xsUGFyZW50RWwsXG5cblx0XHRsYXN0RWwsXG5cdFx0bGFzdENTUyxcblx0XHRsYXN0UGFyZW50Q1NTLFxuXG5cdFx0b2xkSW5kZXgsXG5cdFx0bmV3SW5kZXgsXG5cblx0XHRhY3RpdmVHcm91cCxcblx0XHRhdXRvU2Nyb2xsID0ge30sXG5cblx0XHR0YXBFdnQsXG5cdFx0dG91Y2hFdnQsXG5cblx0XHRtb3ZlZCxcblxuXHRcdC8qKiBAY29uc3QgKi9cblx0XHRSU1BBQ0UgPSAvXFxzKy9nLFxuXG5cdFx0ZXhwYW5kbyA9ICdTb3J0YWJsZScgKyAobmV3IERhdGUpLmdldFRpbWUoKSxcblxuXHRcdHdpbiA9IHdpbmRvdyxcblx0XHRkb2N1bWVudCA9IHdpbi5kb2N1bWVudCxcblx0XHRwYXJzZUludCA9IHdpbi5wYXJzZUludCxcblxuXHRcdHN1cHBvcnREcmFnZ2FibGUgPSAhISgnZHJhZ2dhYmxlJyBpbiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSksXG5cdFx0c3VwcG9ydENzc1BvaW50ZXJFdmVudHMgPSAoZnVuY3Rpb24gKGVsKSB7XG5cdFx0XHRlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3gnKTtcblx0XHRcdGVsLnN0eWxlLmNzc1RleHQgPSAncG9pbnRlci1ldmVudHM6YXV0byc7XG5cdFx0XHRyZXR1cm4gZWwuc3R5bGUucG9pbnRlckV2ZW50cyA9PT0gJ2F1dG8nO1xuXHRcdH0pKCksXG5cblx0XHRfc2lsZW50ID0gZmFsc2UsXG5cblx0XHRhYnMgPSBNYXRoLmFicyxcblx0XHRzbGljZSA9IFtdLnNsaWNlLFxuXG5cdFx0dG91Y2hEcmFnT3Zlckxpc3RlbmVycyA9IFtdLFxuXG5cdFx0X2F1dG9TY3JvbGwgPSBfdGhyb3R0bGUoZnVuY3Rpb24gKC8qKkV2ZW50Ki9ldnQsIC8qKk9iamVjdCovb3B0aW9ucywgLyoqSFRNTEVsZW1lbnQqL3Jvb3RFbCkge1xuXHRcdFx0Ly8gQnVnOiBodHRwczovL2J1Z3ppbGxhLm1vemlsbGEub3JnL3Nob3dfYnVnLmNnaT9pZD01MDU1MjFcblx0XHRcdGlmIChyb290RWwgJiYgb3B0aW9ucy5zY3JvbGwpIHtcblx0XHRcdFx0dmFyIGVsLFxuXHRcdFx0XHRcdHJlY3QsXG5cdFx0XHRcdFx0c2VucyA9IG9wdGlvbnMuc2Nyb2xsU2Vuc2l0aXZpdHksXG5cdFx0XHRcdFx0c3BlZWQgPSBvcHRpb25zLnNjcm9sbFNwZWVkLFxuXG5cdFx0XHRcdFx0eCA9IGV2dC5jbGllbnRYLFxuXHRcdFx0XHRcdHkgPSBldnQuY2xpZW50WSxcblxuXHRcdFx0XHRcdHdpbldpZHRoID0gd2luZG93LmlubmVyV2lkdGgsXG5cdFx0XHRcdFx0d2luSGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0LFxuXG5cdFx0XHRcdFx0dngsXG5cdFx0XHRcdFx0dnlcblx0XHRcdFx0O1xuXG5cdFx0XHRcdC8vIERlbGVjdCBzY3JvbGxFbFxuXHRcdFx0XHRpZiAoc2Nyb2xsUGFyZW50RWwgIT09IHJvb3RFbCkge1xuXHRcdFx0XHRcdHNjcm9sbEVsID0gb3B0aW9ucy5zY3JvbGw7XG5cdFx0XHRcdFx0c2Nyb2xsUGFyZW50RWwgPSByb290RWw7XG5cblx0XHRcdFx0XHRpZiAoc2Nyb2xsRWwgPT09IHRydWUpIHtcblx0XHRcdFx0XHRcdHNjcm9sbEVsID0gcm9vdEVsO1xuXG5cdFx0XHRcdFx0XHRkbyB7XG5cdFx0XHRcdFx0XHRcdGlmICgoc2Nyb2xsRWwub2Zmc2V0V2lkdGggPCBzY3JvbGxFbC5zY3JvbGxXaWR0aCkgfHxcblx0XHRcdFx0XHRcdFx0XHQoc2Nyb2xsRWwub2Zmc2V0SGVpZ2h0IDwgc2Nyb2xsRWwuc2Nyb2xsSGVpZ2h0KVxuXHRcdFx0XHRcdFx0XHQpIHtcblx0XHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHQvKiBqc2hpbnQgYm9zczp0cnVlICovXG5cdFx0XHRcdFx0XHR9IHdoaWxlIChzY3JvbGxFbCA9IHNjcm9sbEVsLnBhcmVudE5vZGUpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmIChzY3JvbGxFbCkge1xuXHRcdFx0XHRcdGVsID0gc2Nyb2xsRWw7XG5cdFx0XHRcdFx0cmVjdCA9IHNjcm9sbEVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXHRcdFx0XHRcdHZ4ID0gKGFicyhyZWN0LnJpZ2h0IC0geCkgPD0gc2VucykgLSAoYWJzKHJlY3QubGVmdCAtIHgpIDw9IHNlbnMpO1xuXHRcdFx0XHRcdHZ5ID0gKGFicyhyZWN0LmJvdHRvbSAtIHkpIDw9IHNlbnMpIC0gKGFicyhyZWN0LnRvcCAtIHkpIDw9IHNlbnMpO1xuXHRcdFx0XHR9XG5cblxuXHRcdFx0XHRpZiAoISh2eCB8fCB2eSkpIHtcblx0XHRcdFx0XHR2eCA9ICh3aW5XaWR0aCAtIHggPD0gc2VucykgLSAoeCA8PSBzZW5zKTtcblx0XHRcdFx0XHR2eSA9ICh3aW5IZWlnaHQgLSB5IDw9IHNlbnMpIC0gKHkgPD0gc2Vucyk7XG5cblx0XHRcdFx0XHQvKiBqc2hpbnQgZXhwcjp0cnVlICovXG5cdFx0XHRcdFx0KHZ4IHx8IHZ5KSAmJiAoZWwgPSB3aW4pO1xuXHRcdFx0XHR9XG5cblxuXHRcdFx0XHRpZiAoYXV0b1Njcm9sbC52eCAhPT0gdnggfHwgYXV0b1Njcm9sbC52eSAhPT0gdnkgfHwgYXV0b1Njcm9sbC5lbCAhPT0gZWwpIHtcblx0XHRcdFx0XHRhdXRvU2Nyb2xsLmVsID0gZWw7XG5cdFx0XHRcdFx0YXV0b1Njcm9sbC52eCA9IHZ4O1xuXHRcdFx0XHRcdGF1dG9TY3JvbGwudnkgPSB2eTtcblxuXHRcdFx0XHRcdGNsZWFySW50ZXJ2YWwoYXV0b1Njcm9sbC5waWQpO1xuXG5cdFx0XHRcdFx0aWYgKGVsKSB7XG5cdFx0XHRcdFx0XHRhdXRvU2Nyb2xsLnBpZCA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcblx0XHRcdFx0XHRcdFx0aWYgKGVsID09PSB3aW4pIHtcblx0XHRcdFx0XHRcdFx0XHR3aW4uc2Nyb2xsVG8od2luLnBhZ2VYT2Zmc2V0ICsgdnggKiBzcGVlZCwgd2luLnBhZ2VZT2Zmc2V0ICsgdnkgKiBzcGVlZCk7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0dnkgJiYgKGVsLnNjcm9sbFRvcCArPSB2eSAqIHNwZWVkKTtcblx0XHRcdFx0XHRcdFx0XHR2eCAmJiAoZWwuc2Nyb2xsTGVmdCArPSB2eCAqIHNwZWVkKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSwgMjQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sIDMwKSxcblxuXHRcdF9wcmVwYXJlR3JvdXAgPSBmdW5jdGlvbiAob3B0aW9ucykge1xuXHRcdFx0dmFyIGdyb3VwID0gb3B0aW9ucy5ncm91cDtcblxuXHRcdFx0aWYgKCFncm91cCB8fCB0eXBlb2YgZ3JvdXAgIT0gJ29iamVjdCcpIHtcblx0XHRcdFx0Z3JvdXAgPSBvcHRpb25zLmdyb3VwID0ge25hbWU6IGdyb3VwfTtcblx0XHRcdH1cblxuXHRcdFx0WydwdWxsJywgJ3B1dCddLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuXHRcdFx0XHRpZiAoIShrZXkgaW4gZ3JvdXApKSB7XG5cdFx0XHRcdFx0Z3JvdXBba2V5XSA9IHRydWU7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXG5cdFx0XHRvcHRpb25zLmdyb3VwcyA9ICcgJyArIGdyb3VwLm5hbWUgKyAoZ3JvdXAucHV0LmpvaW4gPyAnICcgKyBncm91cC5wdXQuam9pbignICcpIDogJycpICsgJyAnO1xuXHRcdH1cblx0O1xuXG5cblxuXHQvKipcblx0ICogQGNsYXNzICBTb3J0YWJsZVxuXHQgKiBAcGFyYW0gIHtIVE1MRWxlbWVudH0gIGVsXG5cdCAqIEBwYXJhbSAge09iamVjdH0gICAgICAgW29wdGlvbnNdXG5cdCAqL1xuXHRmdW5jdGlvbiBTb3J0YWJsZShlbCwgb3B0aW9ucykge1xuXHRcdGlmICghKGVsICYmIGVsLm5vZGVUeXBlICYmIGVsLm5vZGVUeXBlID09PSAxKSkge1xuXHRcdFx0dGhyb3cgJ1NvcnRhYmxlOiBgZWxgIG11c3QgYmUgSFRNTEVsZW1lbnQsIGFuZCBub3QgJyArIHt9LnRvU3RyaW5nLmNhbGwoZWwpO1xuXHRcdH1cblxuXHRcdHRoaXMuZWwgPSBlbDsgLy8gcm9vdCBlbGVtZW50XG5cdFx0dGhpcy5vcHRpb25zID0gb3B0aW9ucyA9IF9leHRlbmQoe30sIG9wdGlvbnMpO1xuXG5cblx0XHQvLyBFeHBvcnQgaW5zdGFuY2Vcblx0XHRlbFtleHBhbmRvXSA9IHRoaXM7XG5cblxuXHRcdC8vIERlZmF1bHQgb3B0aW9uc1xuXHRcdHZhciBkZWZhdWx0cyA9IHtcblx0XHRcdGdyb3VwOiBNYXRoLnJhbmRvbSgpLFxuXHRcdFx0c29ydDogdHJ1ZSxcblx0XHRcdGRpc2FibGVkOiBmYWxzZSxcblx0XHRcdHN0b3JlOiBudWxsLFxuXHRcdFx0aGFuZGxlOiBudWxsLFxuXHRcdFx0c2Nyb2xsOiB0cnVlLFxuXHRcdFx0c2Nyb2xsU2Vuc2l0aXZpdHk6IDMwLFxuXHRcdFx0c2Nyb2xsU3BlZWQ6IDEwLFxuXHRcdFx0ZHJhZ2dhYmxlOiAvW3VvXWwvaS50ZXN0KGVsLm5vZGVOYW1lKSA/ICdsaScgOiAnPionLFxuXHRcdFx0Z2hvc3RDbGFzczogJ3NvcnRhYmxlLWdob3N0Jyxcblx0XHRcdGNob3NlbkNsYXNzOiAnc29ydGFibGUtY2hvc2VuJyxcblx0XHRcdGlnbm9yZTogJ2EsIGltZycsXG5cdFx0XHRmaWx0ZXI6IG51bGwsXG5cdFx0XHRhbmltYXRpb246IDAsXG5cdFx0XHRzZXREYXRhOiBmdW5jdGlvbiAoZGF0YVRyYW5zZmVyLCBkcmFnRWwpIHtcblx0XHRcdFx0ZGF0YVRyYW5zZmVyLnNldERhdGEoJ1RleHQnLCBkcmFnRWwudGV4dENvbnRlbnQpO1xuXHRcdFx0fSxcblx0XHRcdGRyb3BCdWJibGU6IGZhbHNlLFxuXHRcdFx0ZHJhZ292ZXJCdWJibGU6IGZhbHNlLFxuXHRcdFx0ZGF0YUlkQXR0cjogJ2RhdGEtaWQnLFxuXHRcdFx0ZGVsYXk6IDAsXG5cdFx0XHRmb3JjZUZhbGxiYWNrOiBmYWxzZSxcblx0XHRcdGZhbGxiYWNrQ2xhc3M6ICdzb3J0YWJsZS1mYWxsYmFjaycsXG5cdFx0XHRmYWxsYmFja09uQm9keTogZmFsc2Vcblx0XHR9O1xuXG5cblx0XHQvLyBTZXQgZGVmYXVsdCBvcHRpb25zXG5cdFx0Zm9yICh2YXIgbmFtZSBpbiBkZWZhdWx0cykge1xuXHRcdFx0IShuYW1lIGluIG9wdGlvbnMpICYmIChvcHRpb25zW25hbWVdID0gZGVmYXVsdHNbbmFtZV0pO1xuXHRcdH1cblxuXHRcdF9wcmVwYXJlR3JvdXAob3B0aW9ucyk7XG5cblx0XHQvLyBCaW5kIGFsbCBwcml2YXRlIG1ldGhvZHNcblx0XHRmb3IgKHZhciBmbiBpbiB0aGlzKSB7XG5cdFx0XHRpZiAoZm4uY2hhckF0KDApID09PSAnXycpIHtcblx0XHRcdFx0dGhpc1tmbl0gPSB0aGlzW2ZuXS5iaW5kKHRoaXMpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIFNldHVwIGRyYWcgbW9kZVxuXHRcdHRoaXMubmF0aXZlRHJhZ2dhYmxlID0gb3B0aW9ucy5mb3JjZUZhbGxiYWNrID8gZmFsc2UgOiBzdXBwb3J0RHJhZ2dhYmxlO1xuXG5cdFx0Ly8gQmluZCBldmVudHNcblx0XHRfb24oZWwsICdtb3VzZWRvd24nLCB0aGlzLl9vblRhcFN0YXJ0KTtcblx0XHRfb24oZWwsICd0b3VjaHN0YXJ0JywgdGhpcy5fb25UYXBTdGFydCk7XG5cblx0XHRpZiAodGhpcy5uYXRpdmVEcmFnZ2FibGUpIHtcblx0XHRcdF9vbihlbCwgJ2RyYWdvdmVyJywgdGhpcyk7XG5cdFx0XHRfb24oZWwsICdkcmFnZW50ZXInLCB0aGlzKTtcblx0XHR9XG5cblx0XHR0b3VjaERyYWdPdmVyTGlzdGVuZXJzLnB1c2godGhpcy5fb25EcmFnT3Zlcik7XG5cblx0XHQvLyBSZXN0b3JlIHNvcnRpbmdcblx0XHRvcHRpb25zLnN0b3JlICYmIHRoaXMuc29ydChvcHRpb25zLnN0b3JlLmdldCh0aGlzKSk7XG5cdH1cblxuXG5cdFNvcnRhYmxlLnByb3RvdHlwZSA9IC8qKiBAbGVuZHMgU29ydGFibGUucHJvdG90eXBlICovIHtcblx0XHRjb25zdHJ1Y3RvcjogU29ydGFibGUsXG5cblx0XHRfb25UYXBTdGFydDogZnVuY3Rpb24gKC8qKiBFdmVudHxUb3VjaEV2ZW50ICovZXZ0KSB7XG5cdFx0XHR2YXIgX3RoaXMgPSB0aGlzLFxuXHRcdFx0XHRlbCA9IHRoaXMuZWwsXG5cdFx0XHRcdG9wdGlvbnMgPSB0aGlzLm9wdGlvbnMsXG5cdFx0XHRcdHR5cGUgPSBldnQudHlwZSxcblx0XHRcdFx0dG91Y2ggPSBldnQudG91Y2hlcyAmJiBldnQudG91Y2hlc1swXSxcblx0XHRcdFx0dGFyZ2V0ID0gKHRvdWNoIHx8IGV2dCkudGFyZ2V0LFxuXHRcdFx0XHRvcmlnaW5hbFRhcmdldCA9IHRhcmdldCxcblx0XHRcdFx0ZmlsdGVyID0gb3B0aW9ucy5maWx0ZXI7XG5cblxuXHRcdFx0aWYgKHR5cGUgPT09ICdtb3VzZWRvd24nICYmIGV2dC5idXR0b24gIT09IDAgfHwgb3B0aW9ucy5kaXNhYmxlZCkge1xuXHRcdFx0XHRyZXR1cm47IC8vIG9ubHkgbGVmdCBidXR0b24gb3IgZW5hYmxlZFxuXHRcdFx0fVxuXG5cdFx0XHR0YXJnZXQgPSBfY2xvc2VzdCh0YXJnZXQsIG9wdGlvbnMuZHJhZ2dhYmxlLCBlbCk7XG5cblx0XHRcdGlmICghdGFyZ2V0KSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblxuXHRcdFx0Ly8gZ2V0IHRoZSBpbmRleCBvZiB0aGUgZHJhZ2dlZCBlbGVtZW50IHdpdGhpbiBpdHMgcGFyZW50XG5cdFx0XHRvbGRJbmRleCA9IF9pbmRleCh0YXJnZXQpO1xuXG5cdFx0XHQvLyBDaGVjayBmaWx0ZXJcblx0XHRcdGlmICh0eXBlb2YgZmlsdGVyID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdGlmIChmaWx0ZXIuY2FsbCh0aGlzLCBldnQsIHRhcmdldCwgdGhpcykpIHtcblx0XHRcdFx0XHRfZGlzcGF0Y2hFdmVudChfdGhpcywgb3JpZ2luYWxUYXJnZXQsICdmaWx0ZXInLCB0YXJnZXQsIGVsLCBvbGRJbmRleCk7XG5cdFx0XHRcdFx0ZXZ0LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0cmV0dXJuOyAvLyBjYW5jZWwgZG5kXG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGVsc2UgaWYgKGZpbHRlcikge1xuXHRcdFx0XHRmaWx0ZXIgPSBmaWx0ZXIuc3BsaXQoJywnKS5zb21lKGZ1bmN0aW9uIChjcml0ZXJpYSkge1xuXHRcdFx0XHRcdGNyaXRlcmlhID0gX2Nsb3Nlc3Qob3JpZ2luYWxUYXJnZXQsIGNyaXRlcmlhLnRyaW0oKSwgZWwpO1xuXG5cdFx0XHRcdFx0aWYgKGNyaXRlcmlhKSB7XG5cdFx0XHRcdFx0XHRfZGlzcGF0Y2hFdmVudChfdGhpcywgY3JpdGVyaWEsICdmaWx0ZXInLCB0YXJnZXQsIGVsLCBvbGRJbmRleCk7XG5cdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdGlmIChmaWx0ZXIpIHtcblx0XHRcdFx0XHRldnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0XHRyZXR1cm47IC8vIGNhbmNlbCBkbmRcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cblx0XHRcdGlmIChvcHRpb25zLmhhbmRsZSAmJiAhX2Nsb3Nlc3Qob3JpZ2luYWxUYXJnZXQsIG9wdGlvbnMuaGFuZGxlLCBlbCkpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cblx0XHRcdC8vIFByZXBhcmUgYGRyYWdzdGFydGBcblx0XHRcdHRoaXMuX3ByZXBhcmVEcmFnU3RhcnQoZXZ0LCB0b3VjaCwgdGFyZ2V0KTtcblx0XHR9LFxuXG5cdFx0X3ByZXBhcmVEcmFnU3RhcnQ6IGZ1bmN0aW9uICgvKiogRXZlbnQgKi9ldnQsIC8qKiBUb3VjaCAqL3RvdWNoLCAvKiogSFRNTEVsZW1lbnQgKi90YXJnZXQpIHtcblx0XHRcdHZhciBfdGhpcyA9IHRoaXMsXG5cdFx0XHRcdGVsID0gX3RoaXMuZWwsXG5cdFx0XHRcdG9wdGlvbnMgPSBfdGhpcy5vcHRpb25zLFxuXHRcdFx0XHRvd25lckRvY3VtZW50ID0gZWwub3duZXJEb2N1bWVudCxcblx0XHRcdFx0ZHJhZ1N0YXJ0Rm47XG5cblx0XHRcdGlmICh0YXJnZXQgJiYgIWRyYWdFbCAmJiAodGFyZ2V0LnBhcmVudE5vZGUgPT09IGVsKSkge1xuXHRcdFx0XHR0YXBFdnQgPSBldnQ7XG5cblx0XHRcdFx0cm9vdEVsID0gZWw7XG5cdFx0XHRcdGRyYWdFbCA9IHRhcmdldDtcblx0XHRcdFx0cGFyZW50RWwgPSBkcmFnRWwucGFyZW50Tm9kZTtcblx0XHRcdFx0bmV4dEVsID0gZHJhZ0VsLm5leHRTaWJsaW5nO1xuXHRcdFx0XHRhY3RpdmVHcm91cCA9IG9wdGlvbnMuZ3JvdXA7XG5cblx0XHRcdFx0ZHJhZ1N0YXJ0Rm4gPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0Ly8gRGVsYXllZCBkcmFnIGhhcyBiZWVuIHRyaWdnZXJlZFxuXHRcdFx0XHRcdC8vIHdlIGNhbiByZS1lbmFibGUgdGhlIGV2ZW50czogdG91Y2htb3ZlL21vdXNlbW92ZVxuXHRcdFx0XHRcdF90aGlzLl9kaXNhYmxlRGVsYXllZERyYWcoKTtcblxuXHRcdFx0XHRcdC8vIE1ha2UgdGhlIGVsZW1lbnQgZHJhZ2dhYmxlXG5cdFx0XHRcdFx0ZHJhZ0VsLmRyYWdnYWJsZSA9IHRydWU7XG5cblx0XHRcdFx0XHQvLyBDaG9zZW4gaXRlbVxuXHRcdFx0XHRcdF90b2dnbGVDbGFzcyhkcmFnRWwsIF90aGlzLm9wdGlvbnMuY2hvc2VuQ2xhc3MsIHRydWUpO1xuXG5cdFx0XHRcdFx0Ly8gQmluZCB0aGUgZXZlbnRzOiBkcmFnc3RhcnQvZHJhZ2VuZFxuXHRcdFx0XHRcdF90aGlzLl90cmlnZ2VyRHJhZ1N0YXJ0KHRvdWNoKTtcblx0XHRcdFx0fTtcblxuXHRcdFx0XHQvLyBEaXNhYmxlIFwiZHJhZ2dhYmxlXCJcblx0XHRcdFx0b3B0aW9ucy5pZ25vcmUuc3BsaXQoJywnKS5mb3JFYWNoKGZ1bmN0aW9uIChjcml0ZXJpYSkge1xuXHRcdFx0XHRcdF9maW5kKGRyYWdFbCwgY3JpdGVyaWEudHJpbSgpLCBfZGlzYWJsZURyYWdnYWJsZSk7XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdF9vbihvd25lckRvY3VtZW50LCAnbW91c2V1cCcsIF90aGlzLl9vbkRyb3ApO1xuXHRcdFx0XHRfb24ob3duZXJEb2N1bWVudCwgJ3RvdWNoZW5kJywgX3RoaXMuX29uRHJvcCk7XG5cdFx0XHRcdF9vbihvd25lckRvY3VtZW50LCAndG91Y2hjYW5jZWwnLCBfdGhpcy5fb25Ecm9wKTtcblxuXHRcdFx0XHRpZiAob3B0aW9ucy5kZWxheSkge1xuXHRcdFx0XHRcdC8vIElmIHRoZSB1c2VyIG1vdmVzIHRoZSBwb2ludGVyIG9yIGxldCBnbyB0aGUgY2xpY2sgb3IgdG91Y2hcblx0XHRcdFx0XHQvLyBiZWZvcmUgdGhlIGRlbGF5IGhhcyBiZWVuIHJlYWNoZWQ6XG5cdFx0XHRcdFx0Ly8gZGlzYWJsZSB0aGUgZGVsYXllZCBkcmFnXG5cdFx0XHRcdFx0X29uKG93bmVyRG9jdW1lbnQsICdtb3VzZXVwJywgX3RoaXMuX2Rpc2FibGVEZWxheWVkRHJhZyk7XG5cdFx0XHRcdFx0X29uKG93bmVyRG9jdW1lbnQsICd0b3VjaGVuZCcsIF90aGlzLl9kaXNhYmxlRGVsYXllZERyYWcpO1xuXHRcdFx0XHRcdF9vbihvd25lckRvY3VtZW50LCAndG91Y2hjYW5jZWwnLCBfdGhpcy5fZGlzYWJsZURlbGF5ZWREcmFnKTtcblx0XHRcdFx0XHRfb24ob3duZXJEb2N1bWVudCwgJ21vdXNlbW92ZScsIF90aGlzLl9kaXNhYmxlRGVsYXllZERyYWcpO1xuXHRcdFx0XHRcdF9vbihvd25lckRvY3VtZW50LCAndG91Y2htb3ZlJywgX3RoaXMuX2Rpc2FibGVEZWxheWVkRHJhZyk7XG5cblx0XHRcdFx0XHRfdGhpcy5fZHJhZ1N0YXJ0VGltZXIgPSBzZXRUaW1lb3V0KGRyYWdTdGFydEZuLCBvcHRpb25zLmRlbGF5KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRkcmFnU3RhcnRGbigpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdF9kaXNhYmxlRGVsYXllZERyYWc6IGZ1bmN0aW9uICgpIHtcblx0XHRcdHZhciBvd25lckRvY3VtZW50ID0gdGhpcy5lbC5vd25lckRvY3VtZW50O1xuXG5cdFx0XHRjbGVhclRpbWVvdXQodGhpcy5fZHJhZ1N0YXJ0VGltZXIpO1xuXHRcdFx0X29mZihvd25lckRvY3VtZW50LCAnbW91c2V1cCcsIHRoaXMuX2Rpc2FibGVEZWxheWVkRHJhZyk7XG5cdFx0XHRfb2ZmKG93bmVyRG9jdW1lbnQsICd0b3VjaGVuZCcsIHRoaXMuX2Rpc2FibGVEZWxheWVkRHJhZyk7XG5cdFx0XHRfb2ZmKG93bmVyRG9jdW1lbnQsICd0b3VjaGNhbmNlbCcsIHRoaXMuX2Rpc2FibGVEZWxheWVkRHJhZyk7XG5cdFx0XHRfb2ZmKG93bmVyRG9jdW1lbnQsICdtb3VzZW1vdmUnLCB0aGlzLl9kaXNhYmxlRGVsYXllZERyYWcpO1xuXHRcdFx0X29mZihvd25lckRvY3VtZW50LCAndG91Y2htb3ZlJywgdGhpcy5fZGlzYWJsZURlbGF5ZWREcmFnKTtcblx0XHR9LFxuXG5cdFx0X3RyaWdnZXJEcmFnU3RhcnQ6IGZ1bmN0aW9uICgvKiogVG91Y2ggKi90b3VjaCkge1xuXHRcdFx0aWYgKHRvdWNoKSB7XG5cdFx0XHRcdC8vIFRvdWNoIGRldmljZSBzdXBwb3J0XG5cdFx0XHRcdHRhcEV2dCA9IHtcblx0XHRcdFx0XHR0YXJnZXQ6IGRyYWdFbCxcblx0XHRcdFx0XHRjbGllbnRYOiB0b3VjaC5jbGllbnRYLFxuXHRcdFx0XHRcdGNsaWVudFk6IHRvdWNoLmNsaWVudFlcblx0XHRcdFx0fTtcblxuXHRcdFx0XHR0aGlzLl9vbkRyYWdTdGFydCh0YXBFdnQsICd0b3VjaCcpO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSBpZiAoIXRoaXMubmF0aXZlRHJhZ2dhYmxlKSB7XG5cdFx0XHRcdHRoaXMuX29uRHJhZ1N0YXJ0KHRhcEV2dCwgdHJ1ZSk7XG5cdFx0XHR9XG5cdFx0XHRlbHNlIHtcblx0XHRcdFx0X29uKGRyYWdFbCwgJ2RyYWdlbmQnLCB0aGlzKTtcblx0XHRcdFx0X29uKHJvb3RFbCwgJ2RyYWdzdGFydCcsIHRoaXMuX29uRHJhZ1N0YXJ0KTtcblx0XHRcdH1cblxuXHRcdFx0dHJ5IHtcblx0XHRcdFx0aWYgKGRvY3VtZW50LnNlbGVjdGlvbikge1xuXHRcdFx0XHRcdGRvY3VtZW50LnNlbGVjdGlvbi5lbXB0eSgpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdHdpbmRvdy5nZXRTZWxlY3Rpb24oKS5yZW1vdmVBbGxSYW5nZXMoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdF9kcmFnU3RhcnRlZDogZnVuY3Rpb24gKCkge1xuXHRcdFx0aWYgKHJvb3RFbCAmJiBkcmFnRWwpIHtcblx0XHRcdFx0Ly8gQXBwbHkgZWZmZWN0XG5cdFx0XHRcdF90b2dnbGVDbGFzcyhkcmFnRWwsIHRoaXMub3B0aW9ucy5naG9zdENsYXNzLCB0cnVlKTtcblxuXHRcdFx0XHRTb3J0YWJsZS5hY3RpdmUgPSB0aGlzO1xuXG5cdFx0XHRcdC8vIERyYWcgc3RhcnQgZXZlbnRcblx0XHRcdFx0X2Rpc3BhdGNoRXZlbnQodGhpcywgcm9vdEVsLCAnc3RhcnQnLCBkcmFnRWwsIHJvb3RFbCwgb2xkSW5kZXgpO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRfZW11bGF0ZURyYWdPdmVyOiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRpZiAodG91Y2hFdnQpIHtcblx0XHRcdFx0aWYgKHRoaXMuX2xhc3RYID09PSB0b3VjaEV2dC5jbGllbnRYICYmIHRoaXMuX2xhc3RZID09PSB0b3VjaEV2dC5jbGllbnRZKSB7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dGhpcy5fbGFzdFggPSB0b3VjaEV2dC5jbGllbnRYO1xuXHRcdFx0XHR0aGlzLl9sYXN0WSA9IHRvdWNoRXZ0LmNsaWVudFk7XG5cblx0XHRcdFx0aWYgKCFzdXBwb3J0Q3NzUG9pbnRlckV2ZW50cykge1xuXHRcdFx0XHRcdF9jc3MoZ2hvc3RFbCwgJ2Rpc3BsYXknLCAnbm9uZScpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0dmFyIHRhcmdldCA9IGRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQodG91Y2hFdnQuY2xpZW50WCwgdG91Y2hFdnQuY2xpZW50WSksXG5cdFx0XHRcdFx0cGFyZW50ID0gdGFyZ2V0LFxuXHRcdFx0XHRcdGdyb3VwTmFtZSA9ICcgJyArIHRoaXMub3B0aW9ucy5ncm91cC5uYW1lICsgJycsXG5cdFx0XHRcdFx0aSA9IHRvdWNoRHJhZ092ZXJMaXN0ZW5lcnMubGVuZ3RoO1xuXG5cdFx0XHRcdGlmIChwYXJlbnQpIHtcblx0XHRcdFx0XHRkbyB7XG5cdFx0XHRcdFx0XHRpZiAocGFyZW50W2V4cGFuZG9dICYmIHBhcmVudFtleHBhbmRvXS5vcHRpb25zLmdyb3Vwcy5pbmRleE9mKGdyb3VwTmFtZSkgPiAtMSkge1xuXHRcdFx0XHRcdFx0XHR3aGlsZSAoaS0tKSB7XG5cdFx0XHRcdFx0XHRcdFx0dG91Y2hEcmFnT3Zlckxpc3RlbmVyc1tpXSh7XG5cdFx0XHRcdFx0XHRcdFx0XHRjbGllbnRYOiB0b3VjaEV2dC5jbGllbnRYLFxuXHRcdFx0XHRcdFx0XHRcdFx0Y2xpZW50WTogdG91Y2hFdnQuY2xpZW50WSxcblx0XHRcdFx0XHRcdFx0XHRcdHRhcmdldDogdGFyZ2V0LFxuXHRcdFx0XHRcdFx0XHRcdFx0cm9vdEVsOiBwYXJlbnRcblx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHR0YXJnZXQgPSBwYXJlbnQ7IC8vIHN0b3JlIGxhc3QgZWxlbWVudFxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHQvKiBqc2hpbnQgYm9zczp0cnVlICovXG5cdFx0XHRcdFx0d2hpbGUgKHBhcmVudCA9IHBhcmVudC5wYXJlbnROb2RlKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICghc3VwcG9ydENzc1BvaW50ZXJFdmVudHMpIHtcblx0XHRcdFx0XHRfY3NzKGdob3N0RWwsICdkaXNwbGF5JywgJycpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblxuXG5cdFx0X29uVG91Y2hNb3ZlOiBmdW5jdGlvbiAoLyoqVG91Y2hFdmVudCovZXZ0KSB7XG5cdFx0XHRpZiAodGFwRXZ0KSB7XG5cdFx0XHRcdC8vIG9ubHkgc2V0IHRoZSBzdGF0dXMgdG8gZHJhZ2dpbmcsIHdoZW4gd2UgYXJlIGFjdHVhbGx5IGRyYWdnaW5nXG5cdFx0XHRcdGlmICghU29ydGFibGUuYWN0aXZlKSB7XG5cdFx0XHRcdFx0dGhpcy5fZHJhZ1N0YXJ0ZWQoKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIGFzIHdlbGwgYXMgY3JlYXRpbmcgdGhlIGdob3N0IGVsZW1lbnQgb24gdGhlIGRvY3VtZW50IGJvZHlcblx0XHRcdFx0dGhpcy5fYXBwZW5kR2hvc3QoKTtcblxuXHRcdFx0XHR2YXIgdG91Y2ggPSBldnQudG91Y2hlcyA/IGV2dC50b3VjaGVzWzBdIDogZXZ0LFxuXHRcdFx0XHRcdGR4ID0gdG91Y2guY2xpZW50WCAtIHRhcEV2dC5jbGllbnRYLFxuXHRcdFx0XHRcdGR5ID0gdG91Y2guY2xpZW50WSAtIHRhcEV2dC5jbGllbnRZLFxuXHRcdFx0XHRcdHRyYW5zbGF0ZTNkID0gZXZ0LnRvdWNoZXMgPyAndHJhbnNsYXRlM2QoJyArIGR4ICsgJ3B4LCcgKyBkeSArICdweCwwKScgOiAndHJhbnNsYXRlKCcgKyBkeCArICdweCwnICsgZHkgKyAncHgpJztcblxuXHRcdFx0XHRtb3ZlZCA9IHRydWU7XG5cdFx0XHRcdHRvdWNoRXZ0ID0gdG91Y2g7XG5cblx0XHRcdFx0X2NzcyhnaG9zdEVsLCAnd2Via2l0VHJhbnNmb3JtJywgdHJhbnNsYXRlM2QpO1xuXHRcdFx0XHRfY3NzKGdob3N0RWwsICdtb3pUcmFuc2Zvcm0nLCB0cmFuc2xhdGUzZCk7XG5cdFx0XHRcdF9jc3MoZ2hvc3RFbCwgJ21zVHJhbnNmb3JtJywgdHJhbnNsYXRlM2QpO1xuXHRcdFx0XHRfY3NzKGdob3N0RWwsICd0cmFuc2Zvcm0nLCB0cmFuc2xhdGUzZCk7XG5cblx0XHRcdFx0ZXZ0LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdF9hcHBlbmRHaG9zdDogZnVuY3Rpb24gKCkge1xuXHRcdFx0aWYgKCFnaG9zdEVsKSB7XG5cdFx0XHRcdHZhciByZWN0ID0gZHJhZ0VsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxuXHRcdFx0XHRcdGNzcyA9IF9jc3MoZHJhZ0VsKSxcblx0XHRcdFx0XHRvcHRpb25zID0gdGhpcy5vcHRpb25zLFxuXHRcdFx0XHRcdGdob3N0UmVjdDtcblxuXHRcdFx0XHRnaG9zdEVsID0gZHJhZ0VsLmNsb25lTm9kZSh0cnVlKTtcblxuXHRcdFx0XHRfdG9nZ2xlQ2xhc3MoZ2hvc3RFbCwgb3B0aW9ucy5naG9zdENsYXNzLCBmYWxzZSk7XG5cdFx0XHRcdF90b2dnbGVDbGFzcyhnaG9zdEVsLCBvcHRpb25zLmZhbGxiYWNrQ2xhc3MsIHRydWUpO1xuXG5cdFx0XHRcdF9jc3MoZ2hvc3RFbCwgJ3RvcCcsIHJlY3QudG9wIC0gcGFyc2VJbnQoY3NzLm1hcmdpblRvcCwgMTApKTtcblx0XHRcdFx0X2NzcyhnaG9zdEVsLCAnbGVmdCcsIHJlY3QubGVmdCAtIHBhcnNlSW50KGNzcy5tYXJnaW5MZWZ0LCAxMCkpO1xuXHRcdFx0XHRfY3NzKGdob3N0RWwsICd3aWR0aCcsIHJlY3Qud2lkdGgpO1xuXHRcdFx0XHRfY3NzKGdob3N0RWwsICdoZWlnaHQnLCByZWN0LmhlaWdodCk7XG5cdFx0XHRcdF9jc3MoZ2hvc3RFbCwgJ29wYWNpdHknLCAnMC44Jyk7XG5cdFx0XHRcdF9jc3MoZ2hvc3RFbCwgJ3Bvc2l0aW9uJywgJ2ZpeGVkJyk7XG5cdFx0XHRcdF9jc3MoZ2hvc3RFbCwgJ3pJbmRleCcsICcxMDAwMDAnKTtcblx0XHRcdFx0X2NzcyhnaG9zdEVsLCAncG9pbnRlckV2ZW50cycsICdub25lJyk7XG5cblx0XHRcdFx0b3B0aW9ucy5mYWxsYmFja09uQm9keSAmJiBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGdob3N0RWwpIHx8IHJvb3RFbC5hcHBlbmRDaGlsZChnaG9zdEVsKTtcblxuXHRcdFx0XHQvLyBGaXhpbmcgZGltZW5zaW9ucy5cblx0XHRcdFx0Z2hvc3RSZWN0ID0gZ2hvc3RFbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblx0XHRcdFx0X2NzcyhnaG9zdEVsLCAnd2lkdGgnLCByZWN0LndpZHRoICogMiAtIGdob3N0UmVjdC53aWR0aCk7XG5cdFx0XHRcdF9jc3MoZ2hvc3RFbCwgJ2hlaWdodCcsIHJlY3QuaGVpZ2h0ICogMiAtIGdob3N0UmVjdC5oZWlnaHQpO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRfb25EcmFnU3RhcnQ6IGZ1bmN0aW9uICgvKipFdmVudCovZXZ0LCAvKipib29sZWFuKi91c2VGYWxsYmFjaykge1xuXHRcdFx0dmFyIGRhdGFUcmFuc2ZlciA9IGV2dC5kYXRhVHJhbnNmZXIsXG5cdFx0XHRcdG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cblx0XHRcdHRoaXMuX29mZlVwRXZlbnRzKCk7XG5cblx0XHRcdGlmIChhY3RpdmVHcm91cC5wdWxsID09ICdjbG9uZScpIHtcblx0XHRcdFx0Y2xvbmVFbCA9IGRyYWdFbC5jbG9uZU5vZGUodHJ1ZSk7XG5cdFx0XHRcdF9jc3MoY2xvbmVFbCwgJ2Rpc3BsYXknLCAnbm9uZScpO1xuXHRcdFx0XHRyb290RWwuaW5zZXJ0QmVmb3JlKGNsb25lRWwsIGRyYWdFbCk7XG5cdFx0XHR9XG5cblx0XHRcdGlmICh1c2VGYWxsYmFjaykge1xuXG5cdFx0XHRcdGlmICh1c2VGYWxsYmFjayA9PT0gJ3RvdWNoJykge1xuXHRcdFx0XHRcdC8vIEJpbmQgdG91Y2ggZXZlbnRzXG5cdFx0XHRcdFx0X29uKGRvY3VtZW50LCAndG91Y2htb3ZlJywgdGhpcy5fb25Ub3VjaE1vdmUpO1xuXHRcdFx0XHRcdF9vbihkb2N1bWVudCwgJ3RvdWNoZW5kJywgdGhpcy5fb25Ecm9wKTtcblx0XHRcdFx0XHRfb24oZG9jdW1lbnQsICd0b3VjaGNhbmNlbCcsIHRoaXMuX29uRHJvcCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Ly8gT2xkIGJyd29zZXJcblx0XHRcdFx0XHRfb24oZG9jdW1lbnQsICdtb3VzZW1vdmUnLCB0aGlzLl9vblRvdWNoTW92ZSk7XG5cdFx0XHRcdFx0X29uKGRvY3VtZW50LCAnbW91c2V1cCcsIHRoaXMuX29uRHJvcCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0aGlzLl9sb29wSWQgPSBzZXRJbnRlcnZhbCh0aGlzLl9lbXVsYXRlRHJhZ092ZXIsIDUwKTtcblx0XHRcdH1cblx0XHRcdGVsc2Uge1xuXHRcdFx0XHRpZiAoZGF0YVRyYW5zZmVyKSB7XG5cdFx0XHRcdFx0ZGF0YVRyYW5zZmVyLmVmZmVjdEFsbG93ZWQgPSAnbW92ZSc7XG5cdFx0XHRcdFx0b3B0aW9ucy5zZXREYXRhICYmIG9wdGlvbnMuc2V0RGF0YS5jYWxsKHRoaXMsIGRhdGFUcmFuc2ZlciwgZHJhZ0VsKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdF9vbihkb2N1bWVudCwgJ2Ryb3AnLCB0aGlzKTtcblx0XHRcdFx0c2V0VGltZW91dCh0aGlzLl9kcmFnU3RhcnRlZCwgMCk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdF9vbkRyYWdPdmVyOiBmdW5jdGlvbiAoLyoqRXZlbnQqL2V2dCkge1xuXHRcdFx0dmFyIGVsID0gdGhpcy5lbCxcblx0XHRcdFx0dGFyZ2V0LFxuXHRcdFx0XHRkcmFnUmVjdCxcblx0XHRcdFx0cmV2ZXJ0LFxuXHRcdFx0XHRvcHRpb25zID0gdGhpcy5vcHRpb25zLFxuXHRcdFx0XHRncm91cCA9IG9wdGlvbnMuZ3JvdXAsXG5cdFx0XHRcdGdyb3VwUHV0ID0gZ3JvdXAucHV0LFxuXHRcdFx0XHRpc093bmVyID0gKGFjdGl2ZUdyb3VwID09PSBncm91cCksXG5cdFx0XHRcdGNhblNvcnQgPSBvcHRpb25zLnNvcnQ7XG5cblx0XHRcdGlmIChldnQucHJldmVudERlZmF1bHQgIT09IHZvaWQgMCkge1xuXHRcdFx0XHRldnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0IW9wdGlvbnMuZHJhZ292ZXJCdWJibGUgJiYgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0fVxuXG5cdFx0XHRtb3ZlZCA9IHRydWU7XG5cblx0XHRcdGlmIChhY3RpdmVHcm91cCAmJiAhb3B0aW9ucy5kaXNhYmxlZCAmJlxuXHRcdFx0XHQoaXNPd25lclxuXHRcdFx0XHRcdD8gY2FuU29ydCB8fCAocmV2ZXJ0ID0gIXJvb3RFbC5jb250YWlucyhkcmFnRWwpKSAvLyBSZXZlcnRpbmcgaXRlbSBpbnRvIHRoZSBvcmlnaW5hbCBsaXN0XG5cdFx0XHRcdFx0OiBhY3RpdmVHcm91cC5wdWxsICYmIGdyb3VwUHV0ICYmIChcblx0XHRcdFx0XHRcdChhY3RpdmVHcm91cC5uYW1lID09PSBncm91cC5uYW1lKSB8fCAvLyBieSBOYW1lXG5cdFx0XHRcdFx0XHQoZ3JvdXBQdXQuaW5kZXhPZiAmJiB+Z3JvdXBQdXQuaW5kZXhPZihhY3RpdmVHcm91cC5uYW1lKSkgLy8gYnkgQXJyYXlcblx0XHRcdFx0XHQpXG5cdFx0XHRcdCkgJiZcblx0XHRcdFx0KGV2dC5yb290RWwgPT09IHZvaWQgMCB8fCBldnQucm9vdEVsID09PSB0aGlzLmVsKSAvLyB0b3VjaCBmYWxsYmFja1xuXHRcdFx0KSB7XG5cdFx0XHRcdC8vIFNtYXJ0IGF1dG8tc2Nyb2xsaW5nXG5cdFx0XHRcdF9hdXRvU2Nyb2xsKGV2dCwgb3B0aW9ucywgdGhpcy5lbCk7XG5cblx0XHRcdFx0aWYgKF9zaWxlbnQpIHtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0YXJnZXQgPSBfY2xvc2VzdChldnQudGFyZ2V0LCBvcHRpb25zLmRyYWdnYWJsZSwgZWwpO1xuXHRcdFx0XHRkcmFnUmVjdCA9IGRyYWdFbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuXHRcdFx0XHRpZiAocmV2ZXJ0KSB7XG5cdFx0XHRcdFx0X2Nsb25lSGlkZSh0cnVlKTtcblxuXHRcdFx0XHRcdGlmIChjbG9uZUVsIHx8IG5leHRFbCkge1xuXHRcdFx0XHRcdFx0cm9vdEVsLmluc2VydEJlZm9yZShkcmFnRWwsIGNsb25lRWwgfHwgbmV4dEVsKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZWxzZSBpZiAoIWNhblNvcnQpIHtcblx0XHRcdFx0XHRcdHJvb3RFbC5hcHBlbmRDaGlsZChkcmFnRWwpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXG5cblx0XHRcdFx0aWYgKChlbC5jaGlsZHJlbi5sZW5ndGggPT09IDApIHx8IChlbC5jaGlsZHJlblswXSA9PT0gZ2hvc3RFbCkgfHxcblx0XHRcdFx0XHQoZWwgPT09IGV2dC50YXJnZXQpICYmICh0YXJnZXQgPSBfZ2hvc3RJc0xhc3QoZWwsIGV2dCkpXG5cdFx0XHRcdCkge1xuXG5cdFx0XHRcdFx0aWYgKHRhcmdldCkge1xuXHRcdFx0XHRcdFx0aWYgKHRhcmdldC5hbmltYXRlZCkge1xuXHRcdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdHRhcmdldFJlY3QgPSB0YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0X2Nsb25lSGlkZShpc093bmVyKTtcblxuXHRcdFx0XHRcdGlmIChfb25Nb3ZlKHJvb3RFbCwgZWwsIGRyYWdFbCwgZHJhZ1JlY3QsIHRhcmdldCwgdGFyZ2V0UmVjdCkgIT09IGZhbHNlKSB7XG5cdFx0XHRcdFx0XHRpZiAoIWRyYWdFbC5jb250YWlucyhlbCkpIHtcblx0XHRcdFx0XHRcdFx0ZWwuYXBwZW5kQ2hpbGQoZHJhZ0VsKTtcblx0XHRcdFx0XHRcdFx0cGFyZW50RWwgPSBlbDsgLy8gYWN0dWFsaXphdGlvblxuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHR0aGlzLl9hbmltYXRlKGRyYWdSZWN0LCBkcmFnRWwpO1xuXHRcdFx0XHRcdFx0dGFyZ2V0ICYmIHRoaXMuX2FuaW1hdGUodGFyZ2V0UmVjdCwgdGFyZ2V0KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0ZWxzZSBpZiAodGFyZ2V0ICYmICF0YXJnZXQuYW5pbWF0ZWQgJiYgdGFyZ2V0ICE9PSBkcmFnRWwgJiYgKHRhcmdldC5wYXJlbnROb2RlW2V4cGFuZG9dICE9PSB2b2lkIDApKSB7XG5cdFx0XHRcdFx0aWYgKGxhc3RFbCAhPT0gdGFyZ2V0KSB7XG5cdFx0XHRcdFx0XHRsYXN0RWwgPSB0YXJnZXQ7XG5cdFx0XHRcdFx0XHRsYXN0Q1NTID0gX2Nzcyh0YXJnZXQpO1xuXHRcdFx0XHRcdFx0bGFzdFBhcmVudENTUyA9IF9jc3ModGFyZ2V0LnBhcmVudE5vZGUpO1xuXHRcdFx0XHRcdH1cblxuXG5cdFx0XHRcdFx0dmFyIHRhcmdldFJlY3QgPSB0YXJnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksXG5cdFx0XHRcdFx0XHR3aWR0aCA9IHRhcmdldFJlY3QucmlnaHQgLSB0YXJnZXRSZWN0LmxlZnQsXG5cdFx0XHRcdFx0XHRoZWlnaHQgPSB0YXJnZXRSZWN0LmJvdHRvbSAtIHRhcmdldFJlY3QudG9wLFxuXHRcdFx0XHRcdFx0ZmxvYXRpbmcgPSAvbGVmdHxyaWdodHxpbmxpbmUvLnRlc3QobGFzdENTUy5jc3NGbG9hdCArIGxhc3RDU1MuZGlzcGxheSlcblx0XHRcdFx0XHRcdFx0fHwgKGxhc3RQYXJlbnRDU1MuZGlzcGxheSA9PSAnZmxleCcgJiYgbGFzdFBhcmVudENTU1snZmxleC1kaXJlY3Rpb24nXS5pbmRleE9mKCdyb3cnKSA9PT0gMCksXG5cdFx0XHRcdFx0XHRpc1dpZGUgPSAodGFyZ2V0Lm9mZnNldFdpZHRoID4gZHJhZ0VsLm9mZnNldFdpZHRoKSxcblx0XHRcdFx0XHRcdGlzTG9uZyA9ICh0YXJnZXQub2Zmc2V0SGVpZ2h0ID4gZHJhZ0VsLm9mZnNldEhlaWdodCksXG5cdFx0XHRcdFx0XHRoYWxmd2F5ID0gKGZsb2F0aW5nID8gKGV2dC5jbGllbnRYIC0gdGFyZ2V0UmVjdC5sZWZ0KSAvIHdpZHRoIDogKGV2dC5jbGllbnRZIC0gdGFyZ2V0UmVjdC50b3ApIC8gaGVpZ2h0KSA+IDAuNSxcblx0XHRcdFx0XHRcdG5leHRTaWJsaW5nID0gdGFyZ2V0Lm5leHRFbGVtZW50U2libGluZyxcblx0XHRcdFx0XHRcdG1vdmVWZWN0b3IgPSBfb25Nb3ZlKHJvb3RFbCwgZWwsIGRyYWdFbCwgZHJhZ1JlY3QsIHRhcmdldCwgdGFyZ2V0UmVjdCksXG5cdFx0XHRcdFx0XHRhZnRlclxuXHRcdFx0XHRcdDtcblxuXHRcdFx0XHRcdGlmIChtb3ZlVmVjdG9yICE9PSBmYWxzZSkge1xuXHRcdFx0XHRcdFx0X3NpbGVudCA9IHRydWU7XG5cdFx0XHRcdFx0XHRzZXRUaW1lb3V0KF91bnNpbGVudCwgMzApO1xuXG5cdFx0XHRcdFx0XHRfY2xvbmVIaWRlKGlzT3duZXIpO1xuXG5cdFx0XHRcdFx0XHRpZiAobW92ZVZlY3RvciA9PT0gMSB8fCBtb3ZlVmVjdG9yID09PSAtMSkge1xuXHRcdFx0XHRcdFx0XHRhZnRlciA9IChtb3ZlVmVjdG9yID09PSAxKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGVsc2UgaWYgKGZsb2F0aW5nKSB7XG5cdFx0XHRcdFx0XHRcdHZhciBlbFRvcCA9IGRyYWdFbC5vZmZzZXRUb3AsXG5cdFx0XHRcdFx0XHRcdFx0dGdUb3AgPSB0YXJnZXQub2Zmc2V0VG9wO1xuXG5cdFx0XHRcdFx0XHRcdGlmIChlbFRvcCA9PT0gdGdUb3ApIHtcblx0XHRcdFx0XHRcdFx0XHRhZnRlciA9ICh0YXJnZXQucHJldmlvdXNFbGVtZW50U2libGluZyA9PT0gZHJhZ0VsKSAmJiAhaXNXaWRlIHx8IGhhbGZ3YXkgJiYgaXNXaWRlO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdGFmdGVyID0gdGdUb3AgPiBlbFRvcDtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0YWZ0ZXIgPSAobmV4dFNpYmxpbmcgIT09IGRyYWdFbCkgJiYgIWlzTG9uZyB8fCBoYWxmd2F5ICYmIGlzTG9uZztcblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0aWYgKCFkcmFnRWwuY29udGFpbnMoZWwpKSB7XG5cdFx0XHRcdFx0XHRcdGlmIChhZnRlciAmJiAhbmV4dFNpYmxpbmcpIHtcblx0XHRcdFx0XHRcdFx0XHRlbC5hcHBlbmRDaGlsZChkcmFnRWwpO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdHRhcmdldC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShkcmFnRWwsIGFmdGVyID8gbmV4dFNpYmxpbmcgOiB0YXJnZXQpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdHBhcmVudEVsID0gZHJhZ0VsLnBhcmVudE5vZGU7IC8vIGFjdHVhbGl6YXRpb25cblxuXHRcdFx0XHRcdFx0dGhpcy5fYW5pbWF0ZShkcmFnUmVjdCwgZHJhZ0VsKTtcblx0XHRcdFx0XHRcdHRoaXMuX2FuaW1hdGUodGFyZ2V0UmVjdCwgdGFyZ2V0KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0X2FuaW1hdGU6IGZ1bmN0aW9uIChwcmV2UmVjdCwgdGFyZ2V0KSB7XG5cdFx0XHR2YXIgbXMgPSB0aGlzLm9wdGlvbnMuYW5pbWF0aW9uO1xuXG5cdFx0XHRpZiAobXMpIHtcblx0XHRcdFx0dmFyIGN1cnJlbnRSZWN0ID0gdGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG5cdFx0XHRcdF9jc3ModGFyZ2V0LCAndHJhbnNpdGlvbicsICdub25lJyk7XG5cdFx0XHRcdF9jc3ModGFyZ2V0LCAndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZTNkKCdcblx0XHRcdFx0XHQrIChwcmV2UmVjdC5sZWZ0IC0gY3VycmVudFJlY3QubGVmdCkgKyAncHgsJ1xuXHRcdFx0XHRcdCsgKHByZXZSZWN0LnRvcCAtIGN1cnJlbnRSZWN0LnRvcCkgKyAncHgsMCknXG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0dGFyZ2V0Lm9mZnNldFdpZHRoOyAvLyByZXBhaW50XG5cblx0XHRcdFx0X2Nzcyh0YXJnZXQsICd0cmFuc2l0aW9uJywgJ2FsbCAnICsgbXMgKyAnbXMnKTtcblx0XHRcdFx0X2Nzcyh0YXJnZXQsICd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlM2QoMCwwLDApJyk7XG5cblx0XHRcdFx0Y2xlYXJUaW1lb3V0KHRhcmdldC5hbmltYXRlZCk7XG5cdFx0XHRcdHRhcmdldC5hbmltYXRlZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuXHRcdFx0XHRcdF9jc3ModGFyZ2V0LCAndHJhbnNpdGlvbicsICcnKTtcblx0XHRcdFx0XHRfY3NzKHRhcmdldCwgJ3RyYW5zZm9ybScsICcnKTtcblx0XHRcdFx0XHR0YXJnZXQuYW5pbWF0ZWQgPSBmYWxzZTtcblx0XHRcdFx0fSwgbXMpO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRfb2ZmVXBFdmVudHM6IGZ1bmN0aW9uICgpIHtcblx0XHRcdHZhciBvd25lckRvY3VtZW50ID0gdGhpcy5lbC5vd25lckRvY3VtZW50O1xuXG5cdFx0XHRfb2ZmKGRvY3VtZW50LCAndG91Y2htb3ZlJywgdGhpcy5fb25Ub3VjaE1vdmUpO1xuXHRcdFx0X29mZihvd25lckRvY3VtZW50LCAnbW91c2V1cCcsIHRoaXMuX29uRHJvcCk7XG5cdFx0XHRfb2ZmKG93bmVyRG9jdW1lbnQsICd0b3VjaGVuZCcsIHRoaXMuX29uRHJvcCk7XG5cdFx0XHRfb2ZmKG93bmVyRG9jdW1lbnQsICd0b3VjaGNhbmNlbCcsIHRoaXMuX29uRHJvcCk7XG5cdFx0fSxcblxuXHRcdF9vbkRyb3A6IGZ1bmN0aW9uICgvKipFdmVudCovZXZ0KSB7XG5cdFx0XHR2YXIgZWwgPSB0aGlzLmVsLFxuXHRcdFx0XHRvcHRpb25zID0gdGhpcy5vcHRpb25zO1xuXG5cdFx0XHRjbGVhckludGVydmFsKHRoaXMuX2xvb3BJZCk7XG5cdFx0XHRjbGVhckludGVydmFsKGF1dG9TY3JvbGwucGlkKTtcblx0XHRcdGNsZWFyVGltZW91dCh0aGlzLl9kcmFnU3RhcnRUaW1lcik7XG5cblx0XHRcdC8vIFVuYmluZCBldmVudHNcblx0XHRcdF9vZmYoZG9jdW1lbnQsICdtb3VzZW1vdmUnLCB0aGlzLl9vblRvdWNoTW92ZSk7XG5cblx0XHRcdGlmICh0aGlzLm5hdGl2ZURyYWdnYWJsZSkge1xuXHRcdFx0XHRfb2ZmKGRvY3VtZW50LCAnZHJvcCcsIHRoaXMpO1xuXHRcdFx0XHRfb2ZmKGVsLCAnZHJhZ3N0YXJ0JywgdGhpcy5fb25EcmFnU3RhcnQpO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLl9vZmZVcEV2ZW50cygpO1xuXG5cdFx0XHRpZiAoZXZ0KSB7XG5cdFx0XHRcdGlmIChtb3ZlZCkge1xuXHRcdFx0XHRcdGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRcdCFvcHRpb25zLmRyb3BCdWJibGUgJiYgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Z2hvc3RFbCAmJiBnaG9zdEVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoZ2hvc3RFbCk7XG5cblx0XHRcdFx0aWYgKGRyYWdFbCkge1xuXHRcdFx0XHRcdGlmICh0aGlzLm5hdGl2ZURyYWdnYWJsZSkge1xuXHRcdFx0XHRcdFx0X29mZihkcmFnRWwsICdkcmFnZW5kJywgdGhpcyk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0X2Rpc2FibGVEcmFnZ2FibGUoZHJhZ0VsKTtcblxuXHRcdFx0XHRcdC8vIFJlbW92ZSBjbGFzcydzXG5cdFx0XHRcdFx0X3RvZ2dsZUNsYXNzKGRyYWdFbCwgdGhpcy5vcHRpb25zLmdob3N0Q2xhc3MsIGZhbHNlKTtcblx0XHRcdFx0XHRfdG9nZ2xlQ2xhc3MoZHJhZ0VsLCB0aGlzLm9wdGlvbnMuY2hvc2VuQ2xhc3MsIGZhbHNlKTtcblxuXHRcdFx0XHRcdGlmIChyb290RWwgIT09IHBhcmVudEVsKSB7XG5cdFx0XHRcdFx0XHRuZXdJbmRleCA9IF9pbmRleChkcmFnRWwpO1xuXG5cdFx0XHRcdFx0XHRpZiAobmV3SW5kZXggPj0gMCkge1xuXHRcdFx0XHRcdFx0XHQvLyBkcmFnIGZyb20gb25lIGxpc3QgYW5kIGRyb3AgaW50byBhbm90aGVyXG5cdFx0XHRcdFx0XHRcdF9kaXNwYXRjaEV2ZW50KG51bGwsIHBhcmVudEVsLCAnc29ydCcsIGRyYWdFbCwgcm9vdEVsLCBvbGRJbmRleCwgbmV3SW5kZXgpO1xuXHRcdFx0XHRcdFx0XHRfZGlzcGF0Y2hFdmVudCh0aGlzLCByb290RWwsICdzb3J0JywgZHJhZ0VsLCByb290RWwsIG9sZEluZGV4LCBuZXdJbmRleCk7XG5cblx0XHRcdFx0XHRcdFx0Ly8gQWRkIGV2ZW50XG5cdFx0XHRcdFx0XHRcdF9kaXNwYXRjaEV2ZW50KG51bGwsIHBhcmVudEVsLCAnYWRkJywgZHJhZ0VsLCByb290RWwsIG9sZEluZGV4LCBuZXdJbmRleCk7XG5cblx0XHRcdFx0XHRcdFx0Ly8gUmVtb3ZlIGV2ZW50XG5cdFx0XHRcdFx0XHRcdF9kaXNwYXRjaEV2ZW50KHRoaXMsIHJvb3RFbCwgJ3JlbW92ZScsIGRyYWdFbCwgcm9vdEVsLCBvbGRJbmRleCwgbmV3SW5kZXgpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRlbHNlIHtcblx0XHRcdFx0XHRcdC8vIFJlbW92ZSBjbG9uZVxuXHRcdFx0XHRcdFx0Y2xvbmVFbCAmJiBjbG9uZUVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoY2xvbmVFbCk7XG5cblx0XHRcdFx0XHRcdGlmIChkcmFnRWwubmV4dFNpYmxpbmcgIT09IG5leHRFbCkge1xuXHRcdFx0XHRcdFx0XHQvLyBHZXQgdGhlIGluZGV4IG9mIHRoZSBkcmFnZ2VkIGVsZW1lbnQgd2l0aGluIGl0cyBwYXJlbnRcblx0XHRcdFx0XHRcdFx0bmV3SW5kZXggPSBfaW5kZXgoZHJhZ0VsKTtcblxuXHRcdFx0XHRcdFx0XHRpZiAobmV3SW5kZXggPj0gMCkge1xuXHRcdFx0XHRcdFx0XHRcdC8vIGRyYWcgJiBkcm9wIHdpdGhpbiB0aGUgc2FtZSBsaXN0XG5cdFx0XHRcdFx0XHRcdFx0X2Rpc3BhdGNoRXZlbnQodGhpcywgcm9vdEVsLCAndXBkYXRlJywgZHJhZ0VsLCByb290RWwsIG9sZEluZGV4LCBuZXdJbmRleCk7XG5cdFx0XHRcdFx0XHRcdFx0X2Rpc3BhdGNoRXZlbnQodGhpcywgcm9vdEVsLCAnc29ydCcsIGRyYWdFbCwgcm9vdEVsLCBvbGRJbmRleCwgbmV3SW5kZXgpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKFNvcnRhYmxlLmFjdGl2ZSkge1xuXHRcdFx0XHRcdFx0aWYgKG5ld0luZGV4ID09PSBudWxsIHx8IG5ld0luZGV4ID09PSAtMSkge1xuXHRcdFx0XHRcdFx0XHRuZXdJbmRleCA9IG9sZEluZGV4O1xuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRfZGlzcGF0Y2hFdmVudCh0aGlzLCByb290RWwsICdlbmQnLCBkcmFnRWwsIHJvb3RFbCwgb2xkSW5kZXgsIG5ld0luZGV4KTtcblxuXHRcdFx0XHRcdFx0Ly8gU2F2ZSBzb3J0aW5nXG5cdFx0XHRcdFx0XHR0aGlzLnNhdmUoKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBOdWxsaW5nXG5cdFx0XHRcdHJvb3RFbCA9XG5cdFx0XHRcdGRyYWdFbCA9XG5cdFx0XHRcdHBhcmVudEVsID1cblx0XHRcdFx0Z2hvc3RFbCA9XG5cdFx0XHRcdG5leHRFbCA9XG5cdFx0XHRcdGNsb25lRWwgPVxuXG5cdFx0XHRcdHNjcm9sbEVsID1cblx0XHRcdFx0c2Nyb2xsUGFyZW50RWwgPVxuXG5cdFx0XHRcdHRhcEV2dCA9XG5cdFx0XHRcdHRvdWNoRXZ0ID1cblxuXHRcdFx0XHRtb3ZlZCA9XG5cdFx0XHRcdG5ld0luZGV4ID1cblxuXHRcdFx0XHRsYXN0RWwgPVxuXHRcdFx0XHRsYXN0Q1NTID1cblxuXHRcdFx0XHRhY3RpdmVHcm91cCA9XG5cdFx0XHRcdFNvcnRhYmxlLmFjdGl2ZSA9IG51bGw7XG5cdFx0XHR9XG5cdFx0fSxcblxuXG5cdFx0aGFuZGxlRXZlbnQ6IGZ1bmN0aW9uICgvKipFdmVudCovZXZ0KSB7XG5cdFx0XHR2YXIgdHlwZSA9IGV2dC50eXBlO1xuXG5cdFx0XHRpZiAodHlwZSA9PT0gJ2RyYWdvdmVyJyB8fCB0eXBlID09PSAnZHJhZ2VudGVyJykge1xuXHRcdFx0XHRpZiAoZHJhZ0VsKSB7XG5cdFx0XHRcdFx0dGhpcy5fb25EcmFnT3ZlcihldnQpO1xuXHRcdFx0XHRcdF9nbG9iYWxEcmFnT3ZlcihldnQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRlbHNlIGlmICh0eXBlID09PSAnZHJvcCcgfHwgdHlwZSA9PT0gJ2RyYWdlbmQnKSB7XG5cdFx0XHRcdHRoaXMuX29uRHJvcChldnQpO1xuXHRcdFx0fVxuXHRcdH0sXG5cblxuXHRcdC8qKlxuXHRcdCAqIFNlcmlhbGl6ZXMgdGhlIGl0ZW0gaW50byBhbiBhcnJheSBvZiBzdHJpbmcuXG5cdFx0ICogQHJldHVybnMge1N0cmluZ1tdfVxuXHRcdCAqL1xuXHRcdHRvQXJyYXk6IGZ1bmN0aW9uICgpIHtcblx0XHRcdHZhciBvcmRlciA9IFtdLFxuXHRcdFx0XHRlbCxcblx0XHRcdFx0Y2hpbGRyZW4gPSB0aGlzLmVsLmNoaWxkcmVuLFxuXHRcdFx0XHRpID0gMCxcblx0XHRcdFx0biA9IGNoaWxkcmVuLmxlbmd0aCxcblx0XHRcdFx0b3B0aW9ucyA9IHRoaXMub3B0aW9ucztcblxuXHRcdFx0Zm9yICg7IGkgPCBuOyBpKyspIHtcblx0XHRcdFx0ZWwgPSBjaGlsZHJlbltpXTtcblx0XHRcdFx0aWYgKF9jbG9zZXN0KGVsLCBvcHRpb25zLmRyYWdnYWJsZSwgdGhpcy5lbCkpIHtcblx0XHRcdFx0XHRvcmRlci5wdXNoKGVsLmdldEF0dHJpYnV0ZShvcHRpb25zLmRhdGFJZEF0dHIpIHx8IF9nZW5lcmF0ZUlkKGVsKSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIG9yZGVyO1xuXHRcdH0sXG5cblxuXHRcdC8qKlxuXHRcdCAqIFNvcnRzIHRoZSBlbGVtZW50cyBhY2NvcmRpbmcgdG8gdGhlIGFycmF5LlxuXHRcdCAqIEBwYXJhbSAge1N0cmluZ1tdfSAgb3JkZXIgIG9yZGVyIG9mIHRoZSBpdGVtc1xuXHRcdCAqL1xuXHRcdHNvcnQ6IGZ1bmN0aW9uIChvcmRlcikge1xuXHRcdFx0dmFyIGl0ZW1zID0ge30sIHJvb3RFbCA9IHRoaXMuZWw7XG5cblx0XHRcdHRoaXMudG9BcnJheSgpLmZvckVhY2goZnVuY3Rpb24gKGlkLCBpKSB7XG5cdFx0XHRcdHZhciBlbCA9IHJvb3RFbC5jaGlsZHJlbltpXTtcblxuXHRcdFx0XHRpZiAoX2Nsb3Nlc3QoZWwsIHRoaXMub3B0aW9ucy5kcmFnZ2FibGUsIHJvb3RFbCkpIHtcblx0XHRcdFx0XHRpdGVtc1tpZF0gPSBlbDtcblx0XHRcdFx0fVxuXHRcdFx0fSwgdGhpcyk7XG5cblx0XHRcdG9yZGVyLmZvckVhY2goZnVuY3Rpb24gKGlkKSB7XG5cdFx0XHRcdGlmIChpdGVtc1tpZF0pIHtcblx0XHRcdFx0XHRyb290RWwucmVtb3ZlQ2hpbGQoaXRlbXNbaWRdKTtcblx0XHRcdFx0XHRyb290RWwuYXBwZW5kQ2hpbGQoaXRlbXNbaWRdKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fSxcblxuXG5cdFx0LyoqXG5cdFx0ICogU2F2ZSB0aGUgY3VycmVudCBzb3J0aW5nXG5cdFx0ICovXG5cdFx0c2F2ZTogZnVuY3Rpb24gKCkge1xuXHRcdFx0dmFyIHN0b3JlID0gdGhpcy5vcHRpb25zLnN0b3JlO1xuXHRcdFx0c3RvcmUgJiYgc3RvcmUuc2V0KHRoaXMpO1xuXHRcdH0sXG5cblxuXHRcdC8qKlxuXHRcdCAqIEZvciBlYWNoIGVsZW1lbnQgaW4gdGhlIHNldCwgZ2V0IHRoZSBmaXJzdCBlbGVtZW50IHRoYXQgbWF0Y2hlcyB0aGUgc2VsZWN0b3IgYnkgdGVzdGluZyB0aGUgZWxlbWVudCBpdHNlbGYgYW5kIHRyYXZlcnNpbmcgdXAgdGhyb3VnaCBpdHMgYW5jZXN0b3JzIGluIHRoZSBET00gdHJlZS5cblx0XHQgKiBAcGFyYW0gICB7SFRNTEVsZW1lbnR9ICBlbFxuXHRcdCAqIEBwYXJhbSAgIHtTdHJpbmd9ICAgICAgIFtzZWxlY3Rvcl0gIGRlZmF1bHQ6IGBvcHRpb25zLmRyYWdnYWJsZWBcblx0XHQgKiBAcmV0dXJucyB7SFRNTEVsZW1lbnR8bnVsbH1cblx0XHQgKi9cblx0XHRjbG9zZXN0OiBmdW5jdGlvbiAoZWwsIHNlbGVjdG9yKSB7XG5cdFx0XHRyZXR1cm4gX2Nsb3Nlc3QoZWwsIHNlbGVjdG9yIHx8IHRoaXMub3B0aW9ucy5kcmFnZ2FibGUsIHRoaXMuZWwpO1xuXHRcdH0sXG5cblxuXHRcdC8qKlxuXHRcdCAqIFNldC9nZXQgb3B0aW9uXG5cdFx0ICogQHBhcmFtICAge3N0cmluZ30gbmFtZVxuXHRcdCAqIEBwYXJhbSAgIHsqfSAgICAgIFt2YWx1ZV1cblx0XHQgKiBAcmV0dXJucyB7Kn1cblx0XHQgKi9cblx0XHRvcHRpb246IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkge1xuXHRcdFx0dmFyIG9wdGlvbnMgPSB0aGlzLm9wdGlvbnM7XG5cblx0XHRcdGlmICh2YWx1ZSA9PT0gdm9pZCAwKSB7XG5cdFx0XHRcdHJldHVybiBvcHRpb25zW25hbWVdO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0b3B0aW9uc1tuYW1lXSA9IHZhbHVlO1xuXG5cdFx0XHRcdGlmIChuYW1lID09PSAnZ3JvdXAnKSB7XG5cdFx0XHRcdFx0X3ByZXBhcmVHcm91cChvcHRpb25zKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cblxuXHRcdC8qKlxuXHRcdCAqIERlc3Ryb3lcblx0XHQgKi9cblx0XHRkZXN0cm95OiBmdW5jdGlvbiAoKSB7XG5cdFx0XHR2YXIgZWwgPSB0aGlzLmVsO1xuXG5cdFx0XHRlbFtleHBhbmRvXSA9IG51bGw7XG5cblx0XHRcdF9vZmYoZWwsICdtb3VzZWRvd24nLCB0aGlzLl9vblRhcFN0YXJ0KTtcblx0XHRcdF9vZmYoZWwsICd0b3VjaHN0YXJ0JywgdGhpcy5fb25UYXBTdGFydCk7XG5cblx0XHRcdGlmICh0aGlzLm5hdGl2ZURyYWdnYWJsZSkge1xuXHRcdFx0XHRfb2ZmKGVsLCAnZHJhZ292ZXInLCB0aGlzKTtcblx0XHRcdFx0X29mZihlbCwgJ2RyYWdlbnRlcicsIHRoaXMpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBSZW1vdmUgZHJhZ2dhYmxlIGF0dHJpYnV0ZXNcblx0XHRcdEFycmF5LnByb3RvdHlwZS5mb3JFYWNoLmNhbGwoZWwucXVlcnlTZWxlY3RvckFsbCgnW2RyYWdnYWJsZV0nKSwgZnVuY3Rpb24gKGVsKSB7XG5cdFx0XHRcdGVsLnJlbW92ZUF0dHJpYnV0ZSgnZHJhZ2dhYmxlJyk7XG5cdFx0XHR9KTtcblxuXHRcdFx0dG91Y2hEcmFnT3Zlckxpc3RlbmVycy5zcGxpY2UodG91Y2hEcmFnT3Zlckxpc3RlbmVycy5pbmRleE9mKHRoaXMuX29uRHJhZ092ZXIpLCAxKTtcblxuXHRcdFx0dGhpcy5fb25Ecm9wKCk7XG5cblx0XHRcdHRoaXMuZWwgPSBlbCA9IG51bGw7XG5cdFx0fVxuXHR9O1xuXG5cblx0ZnVuY3Rpb24gX2Nsb25lSGlkZShzdGF0ZSkge1xuXHRcdGlmIChjbG9uZUVsICYmIChjbG9uZUVsLnN0YXRlICE9PSBzdGF0ZSkpIHtcblx0XHRcdF9jc3MoY2xvbmVFbCwgJ2Rpc3BsYXknLCBzdGF0ZSA/ICdub25lJyA6ICcnKTtcblx0XHRcdCFzdGF0ZSAmJiBjbG9uZUVsLnN0YXRlICYmIHJvb3RFbC5pbnNlcnRCZWZvcmUoY2xvbmVFbCwgZHJhZ0VsKTtcblx0XHRcdGNsb25lRWwuc3RhdGUgPSBzdGF0ZTtcblx0XHR9XG5cdH1cblxuXG5cdGZ1bmN0aW9uIF9jbG9zZXN0KC8qKkhUTUxFbGVtZW50Ki9lbCwgLyoqU3RyaW5nKi9zZWxlY3RvciwgLyoqSFRNTEVsZW1lbnQqL2N0eCkge1xuXHRcdGlmIChlbCkge1xuXHRcdFx0Y3R4ID0gY3R4IHx8IGRvY3VtZW50O1xuXHRcdFx0c2VsZWN0b3IgPSBzZWxlY3Rvci5zcGxpdCgnLicpO1xuXG5cdFx0XHR2YXIgdGFnID0gc2VsZWN0b3Iuc2hpZnQoKS50b1VwcGVyQ2FzZSgpLFxuXHRcdFx0XHRyZSA9IG5ldyBSZWdFeHAoJ1xcXFxzKCcgKyBzZWxlY3Rvci5qb2luKCd8JykgKyAnKSg/PVxcXFxzKScsICdnJyk7XG5cblx0XHRcdGRvIHtcblx0XHRcdFx0aWYgKFxuXHRcdFx0XHRcdCh0YWcgPT09ICc+KicgJiYgZWwucGFyZW50Tm9kZSA9PT0gY3R4KSB8fCAoXG5cdFx0XHRcdFx0XHQodGFnID09PSAnJyB8fCBlbC5ub2RlTmFtZS50b1VwcGVyQ2FzZSgpID09IHRhZykgJiZcblx0XHRcdFx0XHRcdCghc2VsZWN0b3IubGVuZ3RoIHx8ICgoJyAnICsgZWwuY2xhc3NOYW1lICsgJyAnKS5tYXRjaChyZSkgfHwgW10pLmxlbmd0aCA9PSBzZWxlY3Rvci5sZW5ndGgpXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHQpIHtcblx0XHRcdFx0XHRyZXR1cm4gZWw7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHdoaWxlIChlbCAhPT0gY3R4ICYmIChlbCA9IGVsLnBhcmVudE5vZGUpKTtcblx0XHR9XG5cblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cblx0ZnVuY3Rpb24gX2dsb2JhbERyYWdPdmVyKC8qKkV2ZW50Ki9ldnQpIHtcblx0XHRpZiAoZXZ0LmRhdGFUcmFuc2Zlcikge1xuXHRcdFx0ZXZ0LmRhdGFUcmFuc2Zlci5kcm9wRWZmZWN0ID0gJ21vdmUnO1xuXHRcdH1cblx0XHRldnQucHJldmVudERlZmF1bHQoKTtcblx0fVxuXG5cblx0ZnVuY3Rpb24gX29uKGVsLCBldmVudCwgZm4pIHtcblx0XHRlbC5hZGRFdmVudExpc3RlbmVyKGV2ZW50LCBmbiwgZmFsc2UpO1xuXHR9XG5cblxuXHRmdW5jdGlvbiBfb2ZmKGVsLCBldmVudCwgZm4pIHtcblx0XHRlbC5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50LCBmbiwgZmFsc2UpO1xuXHR9XG5cblxuXHRmdW5jdGlvbiBfdG9nZ2xlQ2xhc3MoZWwsIG5hbWUsIHN0YXRlKSB7XG5cdFx0aWYgKGVsKSB7XG5cdFx0XHRpZiAoZWwuY2xhc3NMaXN0KSB7XG5cdFx0XHRcdGVsLmNsYXNzTGlzdFtzdGF0ZSA/ICdhZGQnIDogJ3JlbW92ZSddKG5hbWUpO1xuXHRcdFx0fVxuXHRcdFx0ZWxzZSB7XG5cdFx0XHRcdHZhciBjbGFzc05hbWUgPSAoJyAnICsgZWwuY2xhc3NOYW1lICsgJyAnKS5yZXBsYWNlKFJTUEFDRSwgJyAnKS5yZXBsYWNlKCcgJyArIG5hbWUgKyAnICcsICcgJyk7XG5cdFx0XHRcdGVsLmNsYXNzTmFtZSA9IChjbGFzc05hbWUgKyAoc3RhdGUgPyAnICcgKyBuYW1lIDogJycpKS5yZXBsYWNlKFJTUEFDRSwgJyAnKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXG5cdGZ1bmN0aW9uIF9jc3MoZWwsIHByb3AsIHZhbCkge1xuXHRcdHZhciBzdHlsZSA9IGVsICYmIGVsLnN0eWxlO1xuXG5cdFx0aWYgKHN0eWxlKSB7XG5cdFx0XHRpZiAodmFsID09PSB2b2lkIDApIHtcblx0XHRcdFx0aWYgKGRvY3VtZW50LmRlZmF1bHRWaWV3ICYmIGRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUpIHtcblx0XHRcdFx0XHR2YWwgPSBkb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKGVsLCAnJyk7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZWxzZSBpZiAoZWwuY3VycmVudFN0eWxlKSB7XG5cdFx0XHRcdFx0dmFsID0gZWwuY3VycmVudFN0eWxlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0cmV0dXJuIHByb3AgPT09IHZvaWQgMCA/IHZhbCA6IHZhbFtwcm9wXTtcblx0XHRcdH1cblx0XHRcdGVsc2Uge1xuXHRcdFx0XHRpZiAoIShwcm9wIGluIHN0eWxlKSkge1xuXHRcdFx0XHRcdHByb3AgPSAnLXdlYmtpdC0nICsgcHJvcDtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHN0eWxlW3Byb3BdID0gdmFsICsgKHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnID8gJycgOiAncHgnKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXG5cdGZ1bmN0aW9uIF9maW5kKGN0eCwgdGFnTmFtZSwgaXRlcmF0b3IpIHtcblx0XHRpZiAoY3R4KSB7XG5cdFx0XHR2YXIgbGlzdCA9IGN0eC5nZXRFbGVtZW50c0J5VGFnTmFtZSh0YWdOYW1lKSwgaSA9IDAsIG4gPSBsaXN0Lmxlbmd0aDtcblxuXHRcdFx0aWYgKGl0ZXJhdG9yKSB7XG5cdFx0XHRcdGZvciAoOyBpIDwgbjsgaSsrKSB7XG5cdFx0XHRcdFx0aXRlcmF0b3IobGlzdFtpXSwgaSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGxpc3Q7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIFtdO1xuXHR9XG5cblxuXG5cdGZ1bmN0aW9uIF9kaXNwYXRjaEV2ZW50KHNvcnRhYmxlLCByb290RWwsIG5hbWUsIHRhcmdldEVsLCBmcm9tRWwsIHN0YXJ0SW5kZXgsIG5ld0luZGV4KSB7XG5cdFx0dmFyIGV2dCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdFdmVudCcpLFxuXHRcdFx0b3B0aW9ucyA9IChzb3J0YWJsZSB8fCByb290RWxbZXhwYW5kb10pLm9wdGlvbnMsXG5cdFx0XHRvbk5hbWUgPSAnb24nICsgbmFtZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIG5hbWUuc3Vic3RyKDEpO1xuXG5cdFx0ZXZ0LmluaXRFdmVudChuYW1lLCB0cnVlLCB0cnVlKTtcblxuXHRcdGV2dC50byA9IHJvb3RFbDtcblx0XHRldnQuZnJvbSA9IGZyb21FbCB8fCByb290RWw7XG5cdFx0ZXZ0Lml0ZW0gPSB0YXJnZXRFbCB8fCByb290RWw7XG5cdFx0ZXZ0LmNsb25lID0gY2xvbmVFbDtcblxuXHRcdGV2dC5vbGRJbmRleCA9IHN0YXJ0SW5kZXg7XG5cdFx0ZXZ0Lm5ld0luZGV4ID0gbmV3SW5kZXg7XG5cblx0XHRyb290RWwuZGlzcGF0Y2hFdmVudChldnQpO1xuXG5cdFx0aWYgKG9wdGlvbnNbb25OYW1lXSkge1xuXHRcdFx0b3B0aW9uc1tvbk5hbWVdLmNhbGwoc29ydGFibGUsIGV2dCk7XG5cdFx0fVxuXHR9XG5cblxuXHRmdW5jdGlvbiBfb25Nb3ZlKGZyb21FbCwgdG9FbCwgZHJhZ0VsLCBkcmFnUmVjdCwgdGFyZ2V0RWwsIHRhcmdldFJlY3QpIHtcblx0XHR2YXIgZXZ0LFxuXHRcdFx0c29ydGFibGUgPSBmcm9tRWxbZXhwYW5kb10sXG5cdFx0XHRvbk1vdmVGbiA9IHNvcnRhYmxlLm9wdGlvbnMub25Nb3ZlLFxuXHRcdFx0cmV0VmFsO1xuXG5cdFx0ZXZ0ID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoJ0V2ZW50Jyk7XG5cdFx0ZXZ0LmluaXRFdmVudCgnbW92ZScsIHRydWUsIHRydWUpO1xuXG5cdFx0ZXZ0LnRvID0gdG9FbDtcblx0XHRldnQuZnJvbSA9IGZyb21FbDtcblx0XHRldnQuZHJhZ2dlZCA9IGRyYWdFbDtcblx0XHRldnQuZHJhZ2dlZFJlY3QgPSBkcmFnUmVjdDtcblx0XHRldnQucmVsYXRlZCA9IHRhcmdldEVsIHx8IHRvRWw7XG5cdFx0ZXZ0LnJlbGF0ZWRSZWN0ID0gdGFyZ2V0UmVjdCB8fCB0b0VsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG5cdFx0ZnJvbUVsLmRpc3BhdGNoRXZlbnQoZXZ0KTtcblxuXHRcdGlmIChvbk1vdmVGbikge1xuXHRcdFx0cmV0VmFsID0gb25Nb3ZlRm4uY2FsbChzb3J0YWJsZSwgZXZ0KTtcblx0XHR9XG5cblx0XHRyZXR1cm4gcmV0VmFsO1xuXHR9XG5cblxuXHRmdW5jdGlvbiBfZGlzYWJsZURyYWdnYWJsZShlbCkge1xuXHRcdGVsLmRyYWdnYWJsZSA9IGZhbHNlO1xuXHR9XG5cblxuXHRmdW5jdGlvbiBfdW5zaWxlbnQoKSB7XG5cdFx0X3NpbGVudCA9IGZhbHNlO1xuXHR9XG5cblxuXHQvKiogQHJldHVybnMge0hUTUxFbGVtZW50fGZhbHNlfSAqL1xuXHRmdW5jdGlvbiBfZ2hvc3RJc0xhc3QoZWwsIGV2dCkge1xuXHRcdHZhciBsYXN0RWwgPSBlbC5sYXN0RWxlbWVudENoaWxkLFxuXHRcdFx0XHRyZWN0ID0gbGFzdEVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG5cdFx0cmV0dXJuICgoZXZ0LmNsaWVudFkgLSAocmVjdC50b3AgKyByZWN0LmhlaWdodCkgPiA1KSB8fCAoZXZ0LmNsaWVudFggLSAocmVjdC5yaWdodCArIHJlY3Qud2lkdGgpID4gNSkpICYmIGxhc3RFbDsgLy8gbWluIGRlbHRhXG5cdH1cblxuXG5cdC8qKlxuXHQgKiBHZW5lcmF0ZSBpZFxuXHQgKiBAcGFyYW0gICB7SFRNTEVsZW1lbnR9IGVsXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9XG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRmdW5jdGlvbiBfZ2VuZXJhdGVJZChlbCkge1xuXHRcdHZhciBzdHIgPSBlbC50YWdOYW1lICsgZWwuY2xhc3NOYW1lICsgZWwuc3JjICsgZWwuaHJlZiArIGVsLnRleHRDb250ZW50LFxuXHRcdFx0aSA9IHN0ci5sZW5ndGgsXG5cdFx0XHRzdW0gPSAwO1xuXG5cdFx0d2hpbGUgKGktLSkge1xuXHRcdFx0c3VtICs9IHN0ci5jaGFyQ29kZUF0KGkpO1xuXHRcdH1cblxuXHRcdHJldHVybiBzdW0udG9TdHJpbmcoMzYpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFJldHVybnMgdGhlIGluZGV4IG9mIGFuIGVsZW1lbnQgd2l0aGluIGl0cyBwYXJlbnRcblx0ICogQHBhcmFtICB7SFRNTEVsZW1lbnR9IGVsXG5cdCAqIEByZXR1cm4ge251bWJlcn1cblx0ICovXG5cdGZ1bmN0aW9uIF9pbmRleChlbCkge1xuXHRcdHZhciBpbmRleCA9IDA7XG5cblx0XHRpZiAoIWVsIHx8ICFlbC5wYXJlbnROb2RlKSB7XG5cdFx0XHRyZXR1cm4gLTE7XG5cdFx0fVxuXG5cdFx0d2hpbGUgKGVsICYmIChlbCA9IGVsLnByZXZpb3VzRWxlbWVudFNpYmxpbmcpKSB7XG5cdFx0XHRpZiAoZWwubm9kZU5hbWUudG9VcHBlckNhc2UoKSAhPT0gJ1RFTVBMQVRFJykge1xuXHRcdFx0XHRpbmRleCsrO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBpbmRleDtcblx0fVxuXG5cdGZ1bmN0aW9uIF90aHJvdHRsZShjYWxsYmFjaywgbXMpIHtcblx0XHR2YXIgYXJncywgX3RoaXM7XG5cblx0XHRyZXR1cm4gZnVuY3Rpb24gKCkge1xuXHRcdFx0aWYgKGFyZ3MgPT09IHZvaWQgMCkge1xuXHRcdFx0XHRhcmdzID0gYXJndW1lbnRzO1xuXHRcdFx0XHRfdGhpcyA9IHRoaXM7XG5cblx0XHRcdFx0c2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG5cdFx0XHRcdFx0aWYgKGFyZ3MubGVuZ3RoID09PSAxKSB7XG5cdFx0XHRcdFx0XHRjYWxsYmFjay5jYWxsKF90aGlzLCBhcmdzWzBdKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0Y2FsbGJhY2suYXBwbHkoX3RoaXMsIGFyZ3MpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGFyZ3MgPSB2b2lkIDA7XG5cdFx0XHRcdH0sIG1zKTtcblx0XHRcdH1cblx0XHR9O1xuXHR9XG5cblx0ZnVuY3Rpb24gX2V4dGVuZChkc3QsIHNyYykge1xuXHRcdGlmIChkc3QgJiYgc3JjKSB7XG5cdFx0XHRmb3IgKHZhciBrZXkgaW4gc3JjKSB7XG5cdFx0XHRcdGlmIChzcmMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuXHRcdFx0XHRcdGRzdFtrZXldID0gc3JjW2tleV07XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRyZXR1cm4gZHN0O1xuXHR9XG5cblxuXHQvLyBFeHBvcnQgdXRpbHNcblx0U29ydGFibGUudXRpbHMgPSB7XG5cdFx0b246IF9vbixcblx0XHRvZmY6IF9vZmYsXG5cdFx0Y3NzOiBfY3NzLFxuXHRcdGZpbmQ6IF9maW5kLFxuXHRcdGlzOiBmdW5jdGlvbiAoZWwsIHNlbGVjdG9yKSB7XG5cdFx0XHRyZXR1cm4gISFfY2xvc2VzdChlbCwgc2VsZWN0b3IsIGVsKTtcblx0XHR9LFxuXHRcdGV4dGVuZDogX2V4dGVuZCxcblx0XHR0aHJvdHRsZTogX3Rocm90dGxlLFxuXHRcdGNsb3Nlc3Q6IF9jbG9zZXN0LFxuXHRcdHRvZ2dsZUNsYXNzOiBfdG9nZ2xlQ2xhc3MsXG5cdFx0aW5kZXg6IF9pbmRleFxuXHR9O1xuXG5cblx0LyoqXG5cdCAqIENyZWF0ZSBzb3J0YWJsZSBpbnN0YW5jZVxuXHQgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSAgZWxcblx0ICogQHBhcmFtIHtPYmplY3R9ICAgICAgW29wdGlvbnNdXG5cdCAqL1xuXHRTb3J0YWJsZS5jcmVhdGUgPSBmdW5jdGlvbiAoZWwsIG9wdGlvbnMpIHtcblx0XHRyZXR1cm4gbmV3IFNvcnRhYmxlKGVsLCBvcHRpb25zKTtcblx0fTtcblxuXG5cdC8vIEV4cG9ydFxuXHRTb3J0YWJsZS52ZXJzaW9uID0gJzEuNC4yJztcblx0cmV0dXJuIFNvcnRhYmxlO1xufSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAvaG9tZS9pZ29yL2RldmVsb3BtZW50L29wZW5zb3VyY2UvZm9ybWVvL34vc29ydGFibGVqcy9Tb3J0YWJsZS5qc1xuLy8gbW9kdWxlIGlkID0gNlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///6\n')},function(module,exports,__webpack_require__){'use strict';eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar defaultActions = {\n  add: {\n    attr: function attr(evt) {\n      var attr = window.prompt(evt.message.attr);\n      var val = void 0;\n      if (attr) {\n        val = String(window.prompt(evt.message.value, \'\'));\n        evt.addAction(attr, val);\n      }\n    },\n    option: function option(evt) {\n      evt.addAction();\n    }\n  },\n  click: {\n    btn: function btn(evt) {\n      evt.action();\n    }\n  },\n  save: function save(evt) {}\n};\n\nvar actions = {\n  init: function init(options) {\n    this.opts = Object.assign({}, defaultActions, options);\n    return this;\n  },\n  add: {\n    attrs: function attrs(evt) {\n      actions.opts.add.attr(evt);\n    },\n    options: function options(evt) {\n      actions.opts.add.option(evt);\n    }\n  },\n  click: {\n    btn: function btn(evt) {\n      actions.opts.click.btn(evt);\n    }\n  },\n  save: function save() {}\n};\n\nexports.default = actions;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNy5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvanMvY29tbW9uL2FjdGlvbnMuanM/ZTkyOCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBBY3Rpb25zIGFyZSB0aGUgY2FsbGJhY2tzIGZvciB0aGluZ3MgbGlrZSBhZGRpbmdcbi8vIG5ldyBhdHRyaWJ1dGVzLCBvcHRpb25zLCBmaWVsZCByZW1vdmFsIGNvbmZpcm1hdGlvbnMgZXRjLlxuLy8gRXZlcnkgQWN0aW9uIGJlbG93IGNhbiBiZSBvdmVycmlkZGVuIHZpYSBtb2R1bGUgb3B0aW9uc1xuXG4vLyBEZWZhdWx0IG9wdGlvbnNcbmNvbnN0IGRlZmF1bHRBY3Rpb25zID0ge1xuICBhZGQ6IHtcbiAgICBhdHRyOiBldnQgPT4ge1xuICAgICAgbGV0IGF0dHIgPSB3aW5kb3cucHJvbXB0KGV2dC5tZXNzYWdlLmF0dHIpO1xuICAgICAgbGV0IHZhbDtcbiAgICAgIGlmIChhdHRyKSB7XG4gICAgICAgIHZhbCA9IFN0cmluZyh3aW5kb3cucHJvbXB0KGV2dC5tZXNzYWdlLnZhbHVlLCAnJykpO1xuICAgICAgICBldnQuYWRkQWN0aW9uKGF0dHIsIHZhbCk7XG4gICAgICB9XG4gICAgfSxcbiAgICBvcHRpb246IGV2dCA9PiB7XG4gICAgICBldnQuYWRkQWN0aW9uKCk7XG4gICAgfVxuICB9LFxuICBjbGljazoge1xuICAgIGJ0bjogZXZ0ID0+IHtcbiAgICAgIGV2dC5hY3Rpb24oKTtcbiAgICB9XG4gIH0sXG4gIHNhdmU6IGV2dCA9PiB7fVxufTtcblxuLyoqXG4gKiBFdmVudHMgY2xhc3MgaXMgdXNlZCB0byByZWdpc3RlciBhY3Rpb25zIGFuZCB0aHJvdHRsZSB0aGVpciBjYWxsYmFja3NcbiAqL1xuY29uc3QgYWN0aW9ucyA9IHtcbiAgaW5pdDogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIHRoaXMub3B0cyA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRBY3Rpb25zLCBvcHRpb25zKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcbiAgYWRkOiB7XG4gICAgYXR0cnM6IGV2dCA9PiB7XG4gICAgICBhY3Rpb25zLm9wdHMuYWRkLmF0dHIoZXZ0KTtcbiAgICB9LFxuICAgIG9wdGlvbnM6IGV2dCA9PiB7XG4gICAgICBhY3Rpb25zLm9wdHMuYWRkLm9wdGlvbihldnQpO1xuICAgIH1cbiAgfSxcbiAgY2xpY2s6IHtcbiAgICBidG46IGV2dCA9PiB7XG4gICAgICBhY3Rpb25zLm9wdHMuY2xpY2suYnRuKGV2dCk7XG4gICAgfVxuICB9LFxuICBzYXZlOiAoKSA9PiB7fVxufTtcblxuZXhwb3J0IGRlZmF1bHQgYWN0aW9ucztcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvanMvY29tbW9uL2FjdGlvbnMuanMiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBWEE7QUFhQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFuQkE7QUFDQTtBQXdCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFOQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQWxCQTtBQUNBO0FBb0JBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///7\n')},function(module,exports,__webpack_require__){'use strict';eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nvar Throttle = exports.Throttle = function () {\n  function Throttle() {\n    _classCallCheck(this, Throttle);\n  }\n\n  Throttle.prototype.add = function add(event, cb) {\n    var elem = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : window;\n\n    var events = this;\n    events[event] = events[event] || { callbacks: [] };\n    events.addCallback(event, cb);\n    var callback = function callback(evt) {\n      events.throttle(events[event], evt);\n    };\n\n    elem.addEventListener(event, callback);\n\n    return callback;\n  };\n\n  Throttle.prototype.addCallback = function addCallback(event, cb) {\n    var events = this;\n    if (cb) {\n      events[event].callbacks.push(cb);\n    }\n  };\n\n  Throttle.prototype.runCallbacks = function runCallbacks(event, evt) {\n    event.callbacks.forEach(function (callback) {\n      callback(evt);\n    });\n\n    event.running = false;\n  };\n\n  Throttle.prototype.throttle = function throttle(event, evt) {\n    var events = this;\n\n    if (!event.running) {\n      event.running = true;\n      if (window.requestAnimationFrame) {\n        window.requestAnimationFrame(function () {\n          events.runCallbacks(event, evt);\n        });\n      } else {\n        setTimeout(events.runCallbacks.bind(event), 66);\n      }\n    }\n  };\n\n  return Throttle;\n}();\n\nvar animate = {\n  getStyle: function getStyle(elem) {\n    var property = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n    var style = void 0;\n    if (window.getComputedStyle) {\n      style = window.getComputedStyle(elem, null);\n    } else if (elem.currentStyle) {\n      style = elem.currentStyle;\n    }\n\n    return property ? style[property] : style;\n  },\n\n  fadeOut: function fadeOut(elem) {\n    var duration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 250;\n\n    var increment = 1 / (duration / 60);\n    elem.style.opacity = 1;\n    (function fade() {\n      var val = Number(elem.style.opacity) - increment;\n      if (val > 0) {\n        elem.style.opacity = val;\n        requestAnimationFrame(fade);\n      } else {\n        elem.remove();\n      }\n    })();\n  },\n\n  slideDown: function slideDown(elem) {\n    var duration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 250;\n    var cb = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n    elem.style.display = \'block\';\n    var style = animate.getStyle(elem);\n    var overFlowBack = style.overflow;\n    elem.style.overflow = \'hidden\';\n    var height = parseInt(style.height, 10);\n    var increment = height / (duration / 60);\n    elem.style.height = \'0px\';\n    (function slideDown() {\n      var curHeight = parseFloat(elem.style.height);\n      var val = curHeight + increment;\n      if (curHeight < height) {\n        elem.style.height = val + \'px\';\n        requestAnimationFrame(slideDown);\n      } else {\n        elem.style.overflow = overFlowBack;\n\n        elem.style.height = \'auto\';\n        if (cb) {\n          cb(elem);\n        }\n      }\n    })();\n  },\n\n  slideUp: function slideUp(elem) {\n    var duration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 250;\n    var cb = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n    var style = animate.getStyle(elem);\n    var height = parseInt(style.height);\n    var overFlowBack = style.overflow;\n    elem.style.overflow = \'hidden\';\n    elem.style.height = height + \'px\';\n    var defMinHeight = style.minHeight;\n    elem.style.minHeight = \'auto\';\n    var increment = parseFloat(height / (duration / 60)).toFixed(2);\n\n    (function slideUp() {\n      var curHeight = parseInt(elem.style.height, 10);\n      var val = curHeight - increment;\n      if (val > 0) {\n        elem.style.height = val + \'px\';\n        requestAnimationFrame(slideUp);\n      } else {\n        elem.style.overflow = overFlowBack;\n        elem.style.display = \'none\';\n        elem.style.minHeight = defMinHeight;\n        delete elem.style.height;\n        if (cb) {\n          cb(elem);\n        }\n      }\n    })();\n  },\n\n  slideToggle: function slideToggle(elem) {\n    var duration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 250;\n\n    var isHidden = animate.getStyle(elem, \'display\') === \'none\';\n\n    if (isHidden) {\n      animate.slideDown(elem, duration);\n    } else {\n      animate.slideUp(elem, duration);\n    }\n  }\n\n};\n\nexports.default = animate;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvanMvY29tbW9uL2FuaW1hdGlvbi5qcz9mNTYzIl0sInNvdXJjZXNDb250ZW50IjpbIlxuLyoqXG4gKiBUaHJvdHRsZSBjbGFzcyBwcm92aWRlcyBhbmQgZWFzeSB3YXkgZm9yIGJpbmRpbmdcbiAqIGFuZCB0aHJvdHRsaW5nIGV2ZW50cy4gSGVscGZ1bCBmb3IgZXZlbnRzIGxpa2Ugd2luZG93XG4gKiBzY3JvbGwgdGhhdCBhcmUgZmlyZWQgb2Z0ZW4uXG4gKi9cbmV4cG9ydCBjbGFzcyBUaHJvdHRsZSB7XG5cbiAgLyoqXG4gICAqIEFkZCBhbiBldmVudCBhbmQgcmVnaXN0ZXIgY2FsbGJhY2tzXG4gICAqIEBwYXJhbSB7U3RyaW5nfSAgIGV2ZW50XG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNiXG4gICAqIEBwYXJhbSB7T2JqZWN0fSAgIGVsZW0gRE9NIGVsZW1lbnQgd2UgYXJlIGJpbmdpbmcgdG9cbiAgICogQHJldHVybiB7RnVuY3Rpb259IHRocm90dGxlZCBjYlxuICAgKi9cbiAgYWRkKGV2ZW50LCBjYiwgZWxlbSA9IHdpbmRvdykge1xuICAgIGxldCBldmVudHMgPSB0aGlzO1xuICAgIGV2ZW50c1tldmVudF0gPSBldmVudHNbZXZlbnRdIHx8IHtjYWxsYmFja3M6IFtdfTtcbiAgICBldmVudHMuYWRkQ2FsbGJhY2soZXZlbnQsIGNiKTtcbiAgICBsZXQgY2FsbGJhY2sgPSBmdW5jdGlvbihldnQpIHtcbiAgICAgIGV2ZW50cy50aHJvdHRsZShldmVudHNbZXZlbnRdLCBldnQpO1xuICAgIH07XG4gICAgLy8gaWYgKCFldmVudHNbZXZlbnRdLmNhbGxiYWNrcy5sZW5ndGgpIHtcbiAgICBlbGVtLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIGNhbGxiYWNrKTtcbiAgICAvLyB9XG4gICAgcmV0dXJuIGNhbGxiYWNrO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZHMgYSBjYWxsYmFjayB0byBhbiBhcnJheSBvZiBjYWxsYmFja3MgZm9yIGFuIGV2ZW50XG4gICAqIEBwYXJhbSB7U3RyaW5nfSAgIGV2ZW50XG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNiXG4gICAqL1xuICBhZGRDYWxsYmFjayhldmVudCwgY2IpIHtcbiAgICBsZXQgZXZlbnRzID0gdGhpcztcbiAgICBpZiAoY2IpIHtcbiAgICAgIGV2ZW50c1tldmVudF0uY2FsbGJhY2tzLnB1c2goY2IpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBSdW4gdGhlIGNhbGxiYWNrcyBmb3IgYSBzcGVjaWZpYyBldmVudFxuICAgKiBAcGFyYW0gIHtPYmplY3R9IGV2ZW50XG4gICAqIEBwYXJhbSAge09iamVjdH0gZXZ0IHJlc3BvbnNlIGZyb20gZmlyZWQgZXZlbnRcbiAgICovXG4gIHJ1bkNhbGxiYWNrcyhldmVudCwgZXZ0KSB7XG4gICAgZXZlbnQuY2FsbGJhY2tzLmZvckVhY2goZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICAgIGNhbGxiYWNrKGV2dCk7XG4gICAgfSk7XG5cbiAgICBldmVudC5ydW5uaW5nID0gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogVGhyb3R0bGUgYW4gZXZlbnRcbiAgICogQHBhcmFtICB7T2JqZWN0fSBldmVudCBpbiBxdWV1ZVxuICAgKiBAcGFyYW0gIHtPYmplY3R9IGV2dCByZXNwb25zZSBmcm9tIGZpcmVkIGV2ZW50XG4gICAqL1xuICB0aHJvdHRsZShldmVudCwgZXZ0KSB7XG4gICAgbGV0IGV2ZW50cyA9IHRoaXM7XG5cbiAgICBpZiAoIWV2ZW50LnJ1bm5pbmcpIHtcbiAgICAgIGV2ZW50LnJ1bm5pbmcgPSB0cnVlO1xuICAgICAgaWYgKHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUpIHtcbiAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShmdW5jdGlvbigpIHtcbiAgICAgICAgICBldmVudHMucnVuQ2FsbGJhY2tzKGV2ZW50LCBldnQpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldFRpbWVvdXQoZXZlbnRzLnJ1bkNhbGxiYWNrcy5iaW5kKGV2ZW50KSwgNjYpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG59XG5cbmNvbnN0IGFuaW1hdGUgPSB7XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIGNvbXB1dGVkIHN0eWxlIGZvciBhbiBlbGVtZW50XG4gICAqIEBwYXJhbSAge1t0eXBlXX0gIGVsZW0gICAgIFtkZXNjcmlwdGlvbl1cbiAgICogQHBhcmFtICB7Qm9vbGVhbn0gcHJvcGVydHkgW2Rlc2NyaXB0aW9uXVxuICAgKiBAcmV0dXJuIHtbdHlwZV19ICAgICAgICAgICBbZGVzY3JpcHRpb25dXG4gICAqL1xuICBnZXRTdHlsZTogKGVsZW0sIHByb3BlcnR5ID0gZmFsc2UpID0+IHtcbiAgICBsZXQgc3R5bGU7XG4gICAgaWYgKHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKSB7XG4gICAgICBzdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW0sIG51bGwpO1xuICAgIH0gZWxzZSBpZiAoZWxlbS5jdXJyZW50U3R5bGUpIHtcbiAgICAgIHN0eWxlID0gZWxlbS5jdXJyZW50U3R5bGU7XG4gICAgfVxuXG4gICAgcmV0dXJuIHByb3BlcnR5ID8gc3R5bGVbcHJvcGVydHldIDogc3R5bGU7XG4gIH0sXG5cbiAgZmFkZU91dDogKGVsZW0sIGR1cmF0aW9uID0gMjUwKSA9PiB7XG4gICAgbGV0IGluY3JlbWVudCA9IDEgLyAoZHVyYXRpb24gLyA2MCk7XG4gICAgZWxlbS5zdHlsZS5vcGFjaXR5ID0gMTtcbiAgICAoZnVuY3Rpb24gZmFkZSgpIHtcbiAgICAgIGxldCB2YWwgPSBOdW1iZXIoZWxlbS5zdHlsZS5vcGFjaXR5KSAtIGluY3JlbWVudDtcbiAgICAgIGlmICh2YWwgPiAwKSB7XG4gICAgICAgIGVsZW0uc3R5bGUub3BhY2l0eSA9IHZhbDtcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGZhZGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWxlbS5yZW1vdmUoKTtcbiAgICAgIH1cbiAgICB9KSgpO1xuICB9LFxuXG4gIHNsaWRlRG93bjogKGVsZW0sIGR1cmF0aW9uID0gMjUwLCBjYiA9IGZhbHNlKSA9PiB7XG4gICAgZWxlbS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICBjb25zdCBzdHlsZSA9IGFuaW1hdGUuZ2V0U3R5bGUoZWxlbSk7XG4gICAgbGV0IG92ZXJGbG93QmFjayA9IHN0eWxlLm92ZXJmbG93O1xuICAgIGVsZW0uc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcbiAgICBsZXQgaGVpZ2h0ID0gcGFyc2VJbnQoc3R5bGUuaGVpZ2h0LCAxMCk7XG4gICAgbGV0IGluY3JlbWVudCA9IGhlaWdodCAvIChkdXJhdGlvbiAvIDYwKTtcbiAgICBlbGVtLnN0eWxlLmhlaWdodCA9ICcwcHgnO1xuICAgIChmdW5jdGlvbiBzbGlkZURvd24oKSB7XG4gICAgICBsZXQgY3VySGVpZ2h0ID0gcGFyc2VGbG9hdChlbGVtLnN0eWxlLmhlaWdodCk7XG4gICAgICBsZXQgdmFsID0gY3VySGVpZ2h0ICsgaW5jcmVtZW50O1xuICAgICAgaWYgKGN1ckhlaWdodCA8IGhlaWdodCkge1xuICAgICAgICBlbGVtLnN0eWxlLmhlaWdodCA9ICh2YWwgKyAncHgnKTtcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHNsaWRlRG93bik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbGVtLnN0eWxlLm92ZXJmbG93ID0gb3ZlckZsb3dCYWNrO1xuICAgICAgICAvLyByZXNldCBoZWlnaHQgdG8gYmUgdXNlZCBieSBzbGlkZVVwXG4gICAgICAgIC8vIGVsZW0uc3R5bGUuaGVpZ2h0ID0gaGVpZ2h0ICsgJ3B4JztcbiAgICAgICAgZWxlbS5zdHlsZS5oZWlnaHQgPSAnYXV0byc7XG4gICAgICAgIGlmIChjYikge1xuICAgICAgICAgIGNiKGVsZW0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSkoKTtcbiAgfSxcblxuICBzbGlkZVVwOiAoZWxlbSwgZHVyYXRpb24gPSAyNTAsIGNiID0gZmFsc2UpID0+IHtcbiAgICBsZXQgc3R5bGUgPSBhbmltYXRlLmdldFN0eWxlKGVsZW0pO1xuICAgIGxldCBoZWlnaHQgPSBwYXJzZUludChzdHlsZS5oZWlnaHQpO1xuICAgIGxldCBvdmVyRmxvd0JhY2sgPSBzdHlsZS5vdmVyZmxvdztcbiAgICBlbGVtLnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG4gICAgZWxlbS5zdHlsZS5oZWlnaHQgPSBoZWlnaHQgKyAncHgnO1xuICAgIGxldCBkZWZNaW5IZWlnaHQgPSBzdHlsZS5taW5IZWlnaHQ7XG4gICAgZWxlbS5zdHlsZS5taW5IZWlnaHQgPSAnYXV0byc7XG4gICAgbGV0IGluY3JlbWVudCA9IHBhcnNlRmxvYXQoaGVpZ2h0IC8gKGR1cmF0aW9uIC8gNjApKS50b0ZpeGVkKDIpO1xuXG4gICAgKGZ1bmN0aW9uIHNsaWRlVXAoKSB7XG4gICAgICBsZXQgY3VySGVpZ2h0ID0gcGFyc2VJbnQoZWxlbS5zdHlsZS5oZWlnaHQsIDEwKTtcbiAgICAgIGxldCB2YWwgPSAoY3VySGVpZ2h0IC0gaW5jcmVtZW50KTtcbiAgICAgIGlmICh2YWwgPiAwKSB7XG4gICAgICAgIGVsZW0uc3R5bGUuaGVpZ2h0ID0gdmFsICsgJ3B4JztcbiAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHNsaWRlVXApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZWxlbS5zdHlsZS5vdmVyZmxvdyA9IG92ZXJGbG93QmFjaztcbiAgICAgICAgZWxlbS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICBlbGVtLnN0eWxlLm1pbkhlaWdodCA9IGRlZk1pbkhlaWdodDtcbiAgICAgICAgZGVsZXRlIGVsZW0uc3R5bGUuaGVpZ2h0O1xuICAgICAgICBpZiAoY2IpIHtcbiAgICAgICAgICBjYihlbGVtKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pKCk7XG4gIH0sXG5cbiAgc2xpZGVUb2dnbGU6IChlbGVtLCBkdXJhdGlvbiA9IDI1MCkgPT4ge1xuICAgIGxldCBpc0hpZGRlbiA9IChhbmltYXRlLmdldFN0eWxlKGVsZW0sICdkaXNwbGF5JykgPT09ICdub25lJyk7XG5cbiAgICBpZiAoaXNIaWRkZW4pIHtcbiAgICAgIGFuaW1hdGUuc2xpZGVEb3duKGVsZW0sIGR1cmF0aW9uKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYW5pbWF0ZS5zbGlkZVVwKGVsZW0sIGR1cmF0aW9uKTtcbiAgICB9XG4gIH0sXG5cbiAgLy8gYW5pbWF0aW9uLnRyYW5zbGF0ZVggPSAoZGlzdGFuY2UsIGR1cmF0aW9uID0gMjUwKSA9PiB7XG4gIC8vICAgdmFyIGluY3JlbWVudCA9IGRpc3RhbmNlIC8gKGR1cmF0aW9uIC8gNjApO1xuICAvLyAgIChmdW5jdGlvbiB0cmFuc2xhdGUoKSB7XG4gIC8vICAgICB2YXIgdmFsID0gTnVtYmVyKGVsZW0uc3R5bGUub3BhY2l0eSkgLSBpbmNyZW1lbnQ7XG4gIC8vICAgICBpZiAodmFsID4gMCkge1xuICAvLyAgICAgICBlbGVtLnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUoJHtkaXN0YW5jZX1weCwgMClgO1xuICAvLyAgICAgICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodHJhbnNsYXRlKTtcbiAgLy8gICAgIH1cbiAgLy8gICB9KSgpO1xuICAvLyB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBhbmltYXRlO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9qcy9jb21tb24vYW5pbWF0aW9uLmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQU1BOzs7OztBQVNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUdBO0FBUUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFoR0E7QUFDQTtBQTRHQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///8\n')},function(module,exports,__webpack_require__){'use strict';eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar _mi18n = __webpack_require__(/*! mi18n */ 4);\n\nvar _mi18n2 = _interopRequireDefault(_mi18n);\n\nvar _sortablejs = __webpack_require__(/*! sortablejs */ 6);\n\nvar _sortablejs2 = _interopRequireDefault(_sortablejs);\n\nvar _helpers = __webpack_require__(/*! ../common/helpers */ 1);\n\nvar _helpers2 = _interopRequireDefault(_helpers);\n\nvar _dom = __webpack_require__(/*! ../common/dom */ 0);\n\nvar _dom2 = _interopRequireDefault(_dom);\n\nvar _data = __webpack_require__(/*! ../common/data */ 2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nvar defaults = {\n  type: \'field\'\n};\n\nvar Panels = function () {\n  function Panels(options) {\n    _classCallCheck(this, Panels);\n\n    var _this = this;\n    _this.opts = Object.assign({}, defaults, options);\n\n    _this.labels = _this.panelNav();\n    var panels = _this.panelsWrap();\n\n    _this.panels = panels.childNodes;\n    _this.currentPanel = _this.panels[0];\n    _this.nav = _this.navActions();\n    if (_this.opts.type === \'field\') {\n      setTimeout(_this.setPanelsHeight.bind(_this), 100);\n    }\n\n    _this.panelDisplay = \'slider\';\n\n    return {\n      content: [_this.labels, panels],\n      nav: _this.nav,\n      actions: {\n        resize: _this.resizePanels.bind(_this)\n      }\n    };\n  }\n\n  Panels.prototype.resizePanels = function resizePanels() {\n    var panelsWrap = this.panelsWrap;\n    var column = panelsWrap.parentElement.parentElement;\n    var width = parseInt(_dom2.default.getStyle(column, \'width\'));\n    var isTabbed = width > 390;\n    this.panelDisplay = isTabbed ? \'tabbed\' : \'slider\';\n    panelsWrap.parentElement.classList.toggle(\'tabbed-panels\', isTabbed);\n    var panelStyle = panelsWrap.style;\n    var activePanelHeight = _dom2.default.getStyle(this.currentPanel, \'height\');\n    return panelStyle.height = activePanelHeight;\n  };\n\n  Panels.prototype.setPanelsHeight = function setPanelsHeight() {\n    var field = document.getElementById(this.opts.id);\n    this.slideToggle = field.querySelector(\'.field-edit\');\n\n    this.slideToggle.style.display = \'block\';\n    this.slideToggle.style.position = \'absolute\';\n    this.slideToggle.style.opacity = 0;\n\n    this.resizePanels();\n\n    this.slideToggle.style.display = \'none\';\n    this.slideToggle.style.position = \'relative\';\n    this.slideToggle.style.opacity = 1;\n    this.slideToggle.style.height = \'auto\';\n  };\n\n  Panels.prototype.panelsWrap = function panelsWrap() {\n    this.panelsWrap = _dom2.default.create({\n      tag: \'div\',\n      attrs: {\n        className: \'panels\'\n      },\n      content: this.opts.panels\n    });\n\n    this.panelsWrap = this.panelsWrap;\n\n    if (this.opts.type === \'field\') {\n      this.sortableProperties(this.panelsWrap);\n    }\n\n    return this.panelsWrap;\n  };\n\n  Panels.prototype.sortableProperties = function sortableProperties(panels) {\n    var _this = this;\n    var groups = panels.getElementsByClassName(\'field-edit-group\');\n\n    return _helpers2.default.forEach(groups, function (group, index) {\n      group.fieldID = _this.opts.id;\n      if (group.isSortable) {\n        _sortablejs2.default.create(group, {\n          animation: 150,\n          group: {\n            name: \'edit-\' + group.editGroup,\n            pull: true, put: [\'properties\']\n          },\n          sort: true,\n          handle: \'.prop-order\',\n          onSort: function onSort(evt) {\n            _this.propertySave(evt.to);\n            _this.resizePanels();\n          }\n        });\n      }\n    });\n  };\n\n  Panels.prototype.propertySave = function propertySave(group) {\n    var field = _dom2.default.fields.get(this.opts.id);\n    _data.data.save(group.editGroup, group, false);\n    return field.instance.updatePreview();\n  };\n\n  Panels.prototype.panelNav = function panelNav() {\n    var _this2 = this;\n\n    var _this = this;\n    var panelNavLabels = {\n      tag: \'div\',\n      attrs: {\n        className: \'panel-labels\'\n      },\n      content: {\n        tag: \'div\',\n        content: []\n      }\n    };\n    var panels = this.opts.panels;\n\n    for (var i = 0; i < panels.length; i++) {\n      var panelLabel = {\n        tag: \'h5\',\n        action: {\n          click: function click(evt) {\n            var index = _helpers2.default.indexOfNode(evt.target, evt.target.parentElement);\n            _this.currentPanel = _this.panels[index];\n            var labels = evt.target.parentElement.childNodes;\n            _this.nav.refresh(index);\n            _dom2.default.removeClasses(labels, \'active-tab\');\n            evt.target.classList.add(\'active-tab\');\n          }\n        },\n        content: panels[i].config.label\n      };\n      delete panels[i].config.label;\n\n      if (i === 0) {\n        panelLabel.className = \'active-tab\';\n      }\n\n      panelNavLabels.content.content.push(panelLabel);\n    }\n\n    var next = {\n      tag: \'button\',\n      attrs: {\n        className: \'next-group\',\n        title: _mi18n2.default.get(\'controlGroups.nextGroup\'),\n        type: \'button\'\n      },\n      dataset: {\n        toggle: \'tooltip\',\n        placement: \'top\'\n      },\n      action: {\n        click: function click(e) {\n          return _this2.nav.nextGroup(e);\n        }\n      },\n      content: _dom2.default.icon(\'triangle-right\')\n    };\n    var prev = {\n      tag: \'button\',\n      attrs: {\n        className: \'prev-group\',\n        title: _mi18n2.default.get(\'controlGroups.prevGroup\'),\n        type: \'button\'\n      },\n      dataset: {\n        toggle: \'tooltip\',\n        placement: \'top\'\n      },\n      action: {\n        click: function click(e) {\n          return _this2.nav.prevGroup(e);\n        }\n      },\n      content: _dom2.default.icon(\'triangle-left\')\n    };\n\n    return _dom2.default.create({\n      tag: \'nav\',\n      attrs: {\n        className: \'panel-nav\'\n      },\n      content: [prev, panelNavLabels, next]\n    });\n  };\n\n  Panels.prototype.navActions = function navActions() {\n    var _this3 = this;\n\n    var _this = this;\n    var action = {};\n    var groupParent = this.currentPanel.parentElement;\n    var firstControlNav = this.labels.querySelector(\'.panel-labels\').firstChild;\n    var siblingGroups = this.currentPanel.parentElement.childNodes;\n    var index = _helpers2.default.indexOfNode(this.currentPanel, groupParent);\n    var offset = {};\n\n    var groupChange = function groupChange(newIndex) {\n      _this3.currentPanel = siblingGroups[newIndex];\n      _this3.panelsWrap.style.height = _dom2.default.getStyle(_this3.currentPanel, \'height\');\n      if (_this3.opts.type === \'field\') {\n        _this3.slideToggle.style.height = \'auto\';\n      }\n      return _this3.currentPanel;\n    };\n\n    var translateX = function translateX(offset) {\n      if (_this.panelDisplay !== \'tabbed\') {\n        firstControlNav.style.transform = \'translateX(-\' + offset.nav + \'px)\';\n      } else {\n        firstControlNav.removeAttribute(\'style\');\n      }\n      groupParent.style.transform = \'translateX(-\' + offset.panel + \'px)\';\n    };\n\n    action.refresh = function (newIndex) {\n      if (newIndex !== undefined) {\n        index = newIndex;\n        groupChange(newIndex);\n      }\n      _this.resizePanels();\n      offset = {\n        nav: firstControlNav.offsetWidth * index,\n        panel: groupParent.offsetWidth * index\n      };\n      translateX(offset);\n    };\n\n    action.nextGroup = function () {\n      var newIndex = index + 1;\n      if (newIndex !== siblingGroups.length) {\n        offset = {\n          nav: firstControlNav.offsetWidth * newIndex,\n          panel: groupParent.offsetWidth * newIndex\n        };\n        translateX(offset);\n        groupChange(newIndex);\n        index++;\n      } else {\n        var origOffset = {\n          nav: firstControlNav.style.transform,\n          panel: groupParent.style.transform\n        };\n        offset = {\n          nav: firstControlNav.offsetWidth * index + 10,\n          panel: groupParent.offsetWidth * index + 10\n        };\n        translateX(offset);\n        setTimeout(function () {\n          firstControlNav.style.transform = origOffset.nav;\n          groupParent.style.transform = origOffset.panel;\n        }, 150);\n      }\n\n      return _this3.currentPanel;\n    };\n\n    action.prevGroup = function () {\n      if (index !== 0) {\n        var newIndex = index - 1;\n        offset = {\n          nav: firstControlNav.offsetWidth * newIndex,\n          panel: groupParent.offsetWidth * newIndex\n        };\n        translateX(offset);\n        groupChange(newIndex);\n        index--;\n      } else {\n        var curTranslate = [firstControlNav.style.transform, groupParent.style.transform];\n        var nudge = \'translateX(10px)\';\n        firstControlNav.style.transform = nudge;\n        groupParent.style.transform = nudge;\n        setTimeout(function () {\n          firstControlNav.style.transform = curTranslate[0];\n          groupParent.style.transform = curTranslate[1];\n        }, 150);\n      }\n    };\n\n    return action;\n  };\n\n  return Panels;\n}();\n\nexports.default = Panels;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOS5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy9zcmMvanMvY29tcG9uZW50cy9wYW5lbHMuanM/YWQxNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgaTE4biBmcm9tICdtaTE4bic7XG5pbXBvcnQgU29ydGFibGUgZnJvbSAnc29ydGFibGVqcyc7XG5pbXBvcnQgaCBmcm9tICcuLi9jb21tb24vaGVscGVycyc7XG5pbXBvcnQgZG9tIGZyb20gJy4uL2NvbW1vbi9kb20nO1xuaW1wb3J0IHtkYXRhfSBmcm9tICcuLi9jb21tb24vZGF0YSc7XG5cbmNvbnN0IGRlZmF1bHRzID0ge1xuICB0eXBlOiAnZmllbGQnXG59O1xuXG4vKipcbiAqIEVkaXQgYW5kIGNvbnRyb2wgc2xpZGluZyBwYW5lbHNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGFuZWxzIHtcbiAvKipcbiAqIFBhbmVscyBpbml0aWFsIHNldHVwXG4gKiBAcGFyYW0gIHtPYmplY3R9IG9wdGlvbnMgUGFuZWxzIGNvbmZpZ1xuICogQHJldHVybiB7T2JqZWN0fSBQYW5lbHNcbiAqL1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICBfdGhpcy5vcHRzID0gT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdHMsIG9wdGlvbnMpO1xuXG4gICAgX3RoaXMubGFiZWxzID0gX3RoaXMucGFuZWxOYXYoKTtcbiAgICBsZXQgcGFuZWxzID0gX3RoaXMucGFuZWxzV3JhcCgpO1xuXG4gICAgX3RoaXMucGFuZWxzID0gcGFuZWxzLmNoaWxkTm9kZXM7XG4gICAgX3RoaXMuY3VycmVudFBhbmVsID0gX3RoaXMucGFuZWxzWzBdO1xuICAgIF90aGlzLm5hdiA9IF90aGlzLm5hdkFjdGlvbnMoKTtcbiAgICBpZiAoX3RoaXMub3B0cy50eXBlID09PSAnZmllbGQnKSB7XG4gICAgICBzZXRUaW1lb3V0KF90aGlzLnNldFBhbmVsc0hlaWdodC5iaW5kKF90aGlzKSwgMTAwKTtcbiAgICB9XG5cbiAgICBfdGhpcy5wYW5lbERpc3BsYXkgPSAnc2xpZGVyJztcblxuICAgIHJldHVybiB7XG4gICAgICBjb250ZW50OiBbX3RoaXMubGFiZWxzLCBwYW5lbHNdLFxuICAgICAgbmF2OiBfdGhpcy5uYXYsXG4gICAgICBhY3Rpb25zOiB7XG4gICAgICAgIHJlc2l6ZTogX3RoaXMucmVzaXplUGFuZWxzLmJpbmQoX3RoaXMpXG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXNpemUgdGhlIHBhbmVsIGFmdGVyIGl0cyBjb250ZW50cyBjaGFuZ2UgaW4gaGVpZ2h0XG4gICAqIEByZXR1cm4ge1N0cmluZ30gcGFuZWwncyBoZWlnaHQgaW4gcGl4ZWxzXG4gICAqL1xuICByZXNpemVQYW5lbHMoKSB7XG4gICAgbGV0IHBhbmVsc1dyYXAgPSB0aGlzLnBhbmVsc1dyYXA7XG4gICAgbGV0IGNvbHVtbiA9IHBhbmVsc1dyYXAucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50O1xuICAgIGxldCB3aWR0aCA9IHBhcnNlSW50KGRvbS5nZXRTdHlsZShjb2x1bW4sICd3aWR0aCcpKTtcbiAgICBsZXQgaXNUYWJiZWQgPSAod2lkdGggPiAzOTApO1xuICAgIHRoaXMucGFuZWxEaXNwbGF5ID0gaXNUYWJiZWQgPyAndGFiYmVkJyA6ICdzbGlkZXInO1xuICAgIHBhbmVsc1dyYXAucGFyZW50RWxlbWVudC5jbGFzc0xpc3QudG9nZ2xlKCd0YWJiZWQtcGFuZWxzJywgaXNUYWJiZWQpO1xuICAgIGxldCBwYW5lbFN0eWxlID0gcGFuZWxzV3JhcC5zdHlsZTtcbiAgICBsZXQgYWN0aXZlUGFuZWxIZWlnaHQgPSBkb20uZ2V0U3R5bGUodGhpcy5jdXJyZW50UGFuZWwsICdoZWlnaHQnKTtcbiAgICByZXR1cm4gcGFuZWxTdHlsZS5oZWlnaHQgPSBhY3RpdmVQYW5lbEhlaWdodDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgcGFuZWwgaGVpZ2h0IHNvIHdlIGNhbiBhbmltYXRlIGl0IHdpdGggY3NzXG4gICAqL1xuICBzZXRQYW5lbHNIZWlnaHQoKSB7XG4gICAgbGV0IGZpZWxkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5vcHRzLmlkKTtcbiAgICB0aGlzLnNsaWRlVG9nZ2xlID0gZmllbGQucXVlcnlTZWxlY3RvcignLmZpZWxkLWVkaXQnKTtcblxuICAgIC8vIHRlbXAgc3R5bGVzXG4gICAgdGhpcy5zbGlkZVRvZ2dsZS5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICB0aGlzLnNsaWRlVG9nZ2xlLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICB0aGlzLnNsaWRlVG9nZ2xlLnN0eWxlLm9wYWNpdHkgPSAwO1xuXG4gICAgdGhpcy5yZXNpemVQYW5lbHMoKTtcblxuICAgIC8vIHJlc2V0IHN0eWxlc1xuICAgIHRoaXMuc2xpZGVUb2dnbGUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICB0aGlzLnNsaWRlVG9nZ2xlLnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcbiAgICB0aGlzLnNsaWRlVG9nZ2xlLnN0eWxlLm9wYWNpdHkgPSAxO1xuICAgIHRoaXMuc2xpZGVUb2dnbGUuc3R5bGUuaGVpZ2h0ID0gJ2F1dG8nO1xuICB9XG5cbiAgLyoqXG4gICAqIFdyYXAgYSBwYW5lbCBhbmQgbWFrZSBwcm9wZXJ0aWVzIHNvcnRhYmxlXG4gICAqIGlmIHRoZSBwYW5lbCBiZWxvbmdzIHRvIGEgZmllbGRcbiAgICogQHJldHVybiB7T2JqZWN0fSBET00gZWxlbWVudFxuICAgKi9cbiAgcGFuZWxzV3JhcCgpIHtcbiAgICB0aGlzLnBhbmVsc1dyYXAgPSBkb20uY3JlYXRlKHtcbiAgICAgIHRhZzogJ2RpdicsXG4gICAgICBhdHRyczoge1xuICAgICAgICBjbGFzc05hbWU6ICdwYW5lbHMnXG4gICAgICB9LFxuICAgICAgY29udGVudDogdGhpcy5vcHRzLnBhbmVsc1xuICAgIH0pO1xuXG4gICAgdGhpcy5wYW5lbHNXcmFwID0gdGhpcy5wYW5lbHNXcmFwO1xuXG4gICAgaWYgKHRoaXMub3B0cy50eXBlID09PSAnZmllbGQnKSB7XG4gICAgICB0aGlzLnNvcnRhYmxlUHJvcGVydGllcyh0aGlzLnBhbmVsc1dyYXApO1xuICAgIH1cblxuICAgIHJldHVybiB0aGlzLnBhbmVsc1dyYXA7XG4gIH1cblxuICAvKipcbiAgICogU29ydGFibGUgcGFuZWwgcHJvcGVydGllc1xuICAgKiBAcGFyYW0gIHtBcnJheX0gcGFuZWxzXG4gICAqIEByZXR1cm4ge0FycmF5fSBwYW5lbCBncm91cHNcbiAgICovXG4gIHNvcnRhYmxlUHJvcGVydGllcyhwYW5lbHMpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIGxldCBncm91cHMgPSBwYW5lbHMuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZmllbGQtZWRpdC1ncm91cCcpO1xuXG4gICAgcmV0dXJuIGguZm9yRWFjaChncm91cHMsIChncm91cCwgaW5kZXgpID0+IHtcbiAgICAgIGdyb3VwLmZpZWxkSUQgPSBfdGhpcy5vcHRzLmlkO1xuICAgICAgaWYgKGdyb3VwLmlzU29ydGFibGUpIHtcbiAgICAgICAgU29ydGFibGUuY3JlYXRlKGdyb3VwLCB7XG4gICAgICAgICAgYW5pbWF0aW9uOiAxNTAsXG4gICAgICAgICAgZ3JvdXA6IHtcbiAgICAgICAgICAgIG5hbWU6ICdlZGl0LScgKyBncm91cC5lZGl0R3JvdXAsXG4gICAgICAgICAgICBwdWxsOiB0cnVlLCBwdXQ6IFsncHJvcGVydGllcyddXG4gICAgICAgICAgfSxcbiAgICAgICAgICBzb3J0OiB0cnVlLFxuICAgICAgICAgIGhhbmRsZTogJy5wcm9wLW9yZGVyJyxcbiAgICAgICAgICBvblNvcnQ6IGV2dCA9PiB7XG4gICAgICAgICAgICBfdGhpcy5wcm9wZXJ0eVNhdmUoZXZ0LnRvKTtcbiAgICAgICAgICAgIF90aGlzLnJlc2l6ZVBhbmVscygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogU2F2ZSBhIGZpZWxkcycgcHJvcGVydHlcbiAgICogQHBhcmFtICB7T2JqZWN0fSBncm91cCBwcm9wZXJ0eSBncm91cFxuICAgKiBAcmV0dXJuIHtPYmplY3R9ICAgICAgIERPTSBub2RlIGZvciB1cGRhdGVkIHByb3BlcnR5IHByZXZpZXdcbiAgICovXG4gIHByb3BlcnR5U2F2ZShncm91cCkge1xuICAgIGNvbnN0IGZpZWxkID0gZG9tLmZpZWxkcy5nZXQodGhpcy5vcHRzLmlkKTtcbiAgICBkYXRhLnNhdmUoZ3JvdXAuZWRpdEdyb3VwLCBncm91cCwgZmFsc2UpO1xuICAgIHJldHVybiBmaWVsZC5pbnN0YW5jZS51cGRhdGVQcmV2aWV3KCk7XG4gIH1cblxuICAvKipcbiAgICogUGFuZWwgbmF2aWdhdGlvbiwgdGFicyBhbmQgYXJyb3cgYnV0dG9ucyBmb3Igc2xpZGVyXG4gICAqIEByZXR1cm4ge09iamVjdH0gRE9NIG9iamVjdCBmb3IgcGFuZWwgbmF2aWdhdGlvbiB3cmFwcGVyXG4gICAqL1xuICBwYW5lbE5hdigpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIGxldCBwYW5lbE5hdkxhYmVscyA9IHtcbiAgICAgICAgdGFnOiAnZGl2JyxcbiAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICBjbGFzc05hbWU6ICdwYW5lbC1sYWJlbHMnXG4gICAgICAgIH0sXG4gICAgICAgIGNvbnRlbnQ6IHtcbiAgICAgICAgICB0YWc6ICdkaXYnLFxuICAgICAgICAgIGNvbnRlbnQ6IFtdXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgbGV0IHBhbmVscyA9IHRoaXMub3B0cy5wYW5lbHM7IC8vIG1ha2UgbmV3IGFycmF5XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhbmVscy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IHBhbmVsTGFiZWwgPSB7XG4gICAgICAgIHRhZzogJ2g1JyxcbiAgICAgICAgYWN0aW9uOiB7XG4gICAgICAgICAgY2xpY2s6IGV2dCA9PiB7XG4gICAgICAgICAgICBsZXQgaW5kZXggPSBoLmluZGV4T2ZOb2RlKGV2dC50YXJnZXQsIGV2dC50YXJnZXQucGFyZW50RWxlbWVudCk7XG4gICAgICAgICAgICBfdGhpcy5jdXJyZW50UGFuZWwgPSBfdGhpcy5wYW5lbHNbaW5kZXhdO1xuICAgICAgICAgICAgbGV0IGxhYmVscyA9IGV2dC50YXJnZXQucGFyZW50RWxlbWVudC5jaGlsZE5vZGVzO1xuICAgICAgICAgICAgX3RoaXMubmF2LnJlZnJlc2goaW5kZXgpO1xuICAgICAgICAgICAgZG9tLnJlbW92ZUNsYXNzZXMobGFiZWxzLCAnYWN0aXZlLXRhYicpO1xuICAgICAgICAgICAgZXZ0LnRhcmdldC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUtdGFiJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBjb250ZW50OiBwYW5lbHNbaV0uY29uZmlnLmxhYmVsXG4gICAgICB9O1xuICAgICAgZGVsZXRlIHBhbmVsc1tpXS5jb25maWcubGFiZWw7XG5cbiAgICAgIGlmIChpID09PSAwKSB7XG4gICAgICAgIHBhbmVsTGFiZWwuY2xhc3NOYW1lID0gJ2FjdGl2ZS10YWInO1xuICAgICAgfVxuXG4gICAgICBwYW5lbE5hdkxhYmVscy5jb250ZW50LmNvbnRlbnQucHVzaChwYW5lbExhYmVsKTtcbiAgICB9XG5cbiAgICBsZXQgbmV4dCA9IHtcbiAgICAgICAgdGFnOiAnYnV0dG9uJyxcbiAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICBjbGFzc05hbWU6ICduZXh0LWdyb3VwJyxcbiAgICAgICAgICB0aXRsZTogaTE4bi5nZXQoJ2NvbnRyb2xHcm91cHMubmV4dEdyb3VwJyksXG4gICAgICAgICAgdHlwZTogJ2J1dHRvbidcbiAgICAgICAgfSxcbiAgICAgICAgZGF0YXNldDoge1xuICAgICAgICAgIHRvZ2dsZTogJ3Rvb2x0aXAnLFxuICAgICAgICAgIHBsYWNlbWVudDogJ3RvcCdcbiAgICAgICAgfSxcbiAgICAgICAgYWN0aW9uOiB7XG4gICAgICAgICAgY2xpY2s6IChlKSA9PiB0aGlzLm5hdi5uZXh0R3JvdXAoZSlcbiAgICAgICAgfSxcbiAgICAgICAgY29udGVudDogZG9tLmljb24oJ3RyaWFuZ2xlLXJpZ2h0JylcbiAgICAgIH07XG4gICAgbGV0IHByZXYgPSB7XG4gICAgICAgIHRhZzogJ2J1dHRvbicsXG4gICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgY2xhc3NOYW1lOiAncHJldi1ncm91cCcsXG4gICAgICAgICAgdGl0bGU6IGkxOG4uZ2V0KCdjb250cm9sR3JvdXBzLnByZXZHcm91cCcpLFxuICAgICAgICAgIHR5cGU6ICdidXR0b24nXG4gICAgICAgIH0sXG4gICAgICAgIGRhdGFzZXQ6IHtcbiAgICAgICAgICB0b2dnbGU6ICd0b29sdGlwJyxcbiAgICAgICAgICBwbGFjZW1lbnQ6ICd0b3AnXG4gICAgICAgIH0sXG4gICAgICAgIGFjdGlvbjoge1xuICAgICAgICAgIGNsaWNrOiAoZSkgPT4gdGhpcy5uYXYucHJldkdyb3VwKGUpXG4gICAgICAgIH0sXG4gICAgICAgIGNvbnRlbnQ6IGRvbS5pY29uKCd0cmlhbmdsZS1sZWZ0JylcbiAgICAgIH07XG5cbiAgICByZXR1cm4gZG9tLmNyZWF0ZSh7XG4gICAgICB0YWc6ICduYXYnLFxuICAgICAgYXR0cnM6IHtcbiAgICAgICAgY2xhc3NOYW1lOiAncGFuZWwtbmF2J1xuICAgICAgfSxcbiAgICAgIGNvbnRlbnQ6IFtwcmV2LCBwYW5lbE5hdkxhYmVscywgbmV4dF1cbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGVycyBmb3IgbmF2aWdhdGluZyBiZXR3ZWVuIHBhbmVsIGdyb3Vwc1xuICAgKiBAdG9kbyByZWZhY3RvciB0byB1c2UgcmVxdWVzdEFuaW1hdGlvbkZyYW1lIGluc3RlYWQgb2YgY3NzIHRyYW5zaXRpb25zXG4gICAqIEByZXR1cm4ge09iamVjdH0gYWN0aW9ucyB0aGF0IGNvbnRyb2wgcGFuZWwgZ3JvdXBzXG4gICAqL1xuICBuYXZBY3Rpb25zKCkge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgbGV0IGFjdGlvbiA9IHt9O1xuICAgIGxldCBncm91cFBhcmVudCA9IHRoaXMuY3VycmVudFBhbmVsLnBhcmVudEVsZW1lbnQ7XG4gICAgbGV0IGZpcnN0Q29udHJvbE5hdiA9IHRoaXMubGFiZWxzLnF1ZXJ5U2VsZWN0b3IoJy5wYW5lbC1sYWJlbHMnKS5maXJzdENoaWxkO1xuICAgIGxldCBzaWJsaW5nR3JvdXBzID0gdGhpcy5jdXJyZW50UGFuZWwucGFyZW50RWxlbWVudC5jaGlsZE5vZGVzO1xuICAgIGxldCBpbmRleCA9IGguaW5kZXhPZk5vZGUodGhpcy5jdXJyZW50UGFuZWwsIGdyb3VwUGFyZW50KTtcbiAgICBsZXQgb2Zmc2V0ID0ge307XG5cbiAgICBjb25zdCBncm91cENoYW5nZSA9IG5ld0luZGV4ID0+IHtcbiAgICAgIHRoaXMuY3VycmVudFBhbmVsID0gc2libGluZ0dyb3Vwc1tuZXdJbmRleF07XG4gICAgICB0aGlzLnBhbmVsc1dyYXAuc3R5bGUuaGVpZ2h0ID0gZG9tLmdldFN0eWxlKHRoaXMuY3VycmVudFBhbmVsLCAnaGVpZ2h0Jyk7XG4gICAgICBpZiAodGhpcy5vcHRzLnR5cGUgPT09ICdmaWVsZCcpIHtcbiAgICAgICAgdGhpcy5zbGlkZVRvZ2dsZS5zdHlsZS5oZWlnaHQgPSAnYXV0byc7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5jdXJyZW50UGFuZWw7XG4gICAgfTtcblxuICAgIGNvbnN0IHRyYW5zbGF0ZVggPSBvZmZzZXQgPT4ge1xuICAgICAgaWYgKF90aGlzLnBhbmVsRGlzcGxheSAhPT0gJ3RhYmJlZCcpIHtcbiAgICAgICAgZmlyc3RDb250cm9sTmF2LnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGVYKC0ke29mZnNldC5uYXZ9cHgpYDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZpcnN0Q29udHJvbE5hdi5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJyk7XG4gICAgICB9XG4gICAgICBncm91cFBhcmVudC5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlWCgtJHtvZmZzZXQucGFuZWx9cHgpYDtcbiAgICB9O1xuXG4gICAgYWN0aW9uLnJlZnJlc2ggPSBuZXdJbmRleCA9PiB7XG4gICAgICBpZiAobmV3SW5kZXggIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpbmRleCA9IG5ld0luZGV4O1xuICAgICAgICBncm91cENoYW5nZShuZXdJbmRleCk7XG4gICAgICB9XG4gICAgICBfdGhpcy5yZXNpemVQYW5lbHMoKTtcbiAgICAgIG9mZnNldCA9IHtcbiAgICAgICAgbmF2OiBmaXJzdENvbnRyb2xOYXYub2Zmc2V0V2lkdGggKiBpbmRleCxcbiAgICAgICAgcGFuZWw6IGdyb3VwUGFyZW50Lm9mZnNldFdpZHRoICogaW5kZXhcbiAgICAgIH07XG4gICAgICB0cmFuc2xhdGVYKG9mZnNldCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNsaWRlcyBwYW5lbCB0byB0aGUgbmV4dCBncm91cFxuICAgICAqIEByZXR1cm4ge09iamVjdH0gY3VycmVudCBncm91cCBhZnRlciBuYXZpZ2F0aW9uXG4gICAgICovXG4gICAgYWN0aW9uLm5leHRHcm91cCA9ICgpID0+IHtcbiAgICAgIGxldCBuZXdJbmRleCA9IGluZGV4ICsgMTtcbiAgICAgIGlmIChuZXdJbmRleCAhPT0gc2libGluZ0dyb3Vwcy5sZW5ndGgpIHtcbiAgICAgICAgb2Zmc2V0ID0ge1xuICAgICAgICAgIG5hdjogZmlyc3RDb250cm9sTmF2Lm9mZnNldFdpZHRoICogbmV3SW5kZXgsXG4gICAgICAgICAgcGFuZWw6IGdyb3VwUGFyZW50Lm9mZnNldFdpZHRoICogbmV3SW5kZXhcbiAgICAgICAgfTtcbiAgICAgICAgdHJhbnNsYXRlWChvZmZzZXQpO1xuICAgICAgICBncm91cENoYW5nZShuZXdJbmRleCk7XG4gICAgICAgIGluZGV4Kys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgb3JpZ09mZnNldCA9IHtcbiAgICAgICAgICBuYXY6IGZpcnN0Q29udHJvbE5hdi5zdHlsZS50cmFuc2Zvcm0sXG4gICAgICAgICAgcGFuZWw6IGdyb3VwUGFyZW50LnN0eWxlLnRyYW5zZm9ybVxuICAgICAgICB9O1xuICAgICAgICBvZmZzZXQgPSB7XG4gICAgICAgICAgbmF2OiAoZmlyc3RDb250cm9sTmF2Lm9mZnNldFdpZHRoICogaW5kZXgpICsgMTAsXG4gICAgICAgICAgcGFuZWw6IChncm91cFBhcmVudC5vZmZzZXRXaWR0aCAqIGluZGV4KSArIDEwXG4gICAgICAgIH07XG4gICAgICAgIHRyYW5zbGF0ZVgob2Zmc2V0KTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgZmlyc3RDb250cm9sTmF2LnN0eWxlLnRyYW5zZm9ybSA9IG9yaWdPZmZzZXQubmF2O1xuICAgICAgICAgIGdyb3VwUGFyZW50LnN0eWxlLnRyYW5zZm9ybSA9IG9yaWdPZmZzZXQucGFuZWw7XG4gICAgICAgIH0sIDE1MCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRQYW5lbDtcbiAgICB9O1xuXG4gICAgYWN0aW9uLnByZXZHcm91cCA9ICgpID0+IHtcbiAgICAgIGlmIChpbmRleCAhPT0gMCkge1xuICAgICAgICBsZXQgbmV3SW5kZXggPSAoaW5kZXggLSAxKTtcbiAgICAgICAgb2Zmc2V0ID0ge1xuICAgICAgICAgIG5hdjogZmlyc3RDb250cm9sTmF2Lm9mZnNldFdpZHRoICogbmV3SW5kZXgsXG4gICAgICAgICAgcGFuZWw6IGdyb3VwUGFyZW50Lm9mZnNldFdpZHRoICogbmV3SW5kZXhcbiAgICAgICAgfTtcbiAgICAgICAgdHJhbnNsYXRlWChvZmZzZXQpO1xuICAgICAgICBncm91cENoYW5nZShuZXdJbmRleCk7XG4gICAgICAgIGluZGV4LS07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgY3VyVHJhbnNsYXRlID0gW1xuICAgICAgICAgICAgZmlyc3RDb250cm9sTmF2LnN0eWxlLnRyYW5zZm9ybSxcbiAgICAgICAgICAgIGdyb3VwUGFyZW50LnN0eWxlLnRyYW5zZm9ybVxuICAgICAgICAgIF07XG4gICAgICAgIGxldCBudWRnZSA9ICd0cmFuc2xhdGVYKDEwcHgpJztcbiAgICAgICAgZmlyc3RDb250cm9sTmF2LnN0eWxlLnRyYW5zZm9ybSA9IG51ZGdlO1xuICAgICAgICBncm91cFBhcmVudC5zdHlsZS50cmFuc2Zvcm0gPSBudWRnZTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgZmlyc3RDb250cm9sTmF2LnN0eWxlLnRyYW5zZm9ybSA9IGN1clRyYW5zbGF0ZVswXTtcbiAgICAgICAgICBncm91cFBhcmVudC5zdHlsZS50cmFuc2Zvcm0gPSBjdXJUcmFuc2xhdGVbMV07XG4gICAgICAgIH0sIDE1MCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiBhY3Rpb247XG4gIH1cblxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9qcy9jb21wb25lbnRzL3BhbmVscy5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7Ozs7QUFDQTtBQUNBO0FBREE7QUFDQTtBQU1BO0FBTUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBSEE7QUFPQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUxBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVhBO0FBYUE7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFGQTtBQUxBO0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVJBO0FBVUE7QUFaQTtBQWNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQUE7QUFBQTtBQURBO0FBR0E7QUFkQTtBQWdCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUFBO0FBQUE7QUFEQTtBQUdBO0FBZEE7QUFDQTtBQWdCQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFMQTtBQU9BO0FBQ0E7QUFNQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7QUFoVUEiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///9\n')},function(module,exports,__webpack_require__){'use strict';eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\n__webpack_require__(/*! ../sass/formeo.scss */ 19);\n\nvar _mi18n = __webpack_require__(/*! mi18n */ 4);\n\nvar _mi18n2 = _interopRequireDefault(_mi18n);\n\nvar _helpers = __webpack_require__(/*! ./common/helpers */ 1);\n\nvar _helpers2 = _interopRequireDefault(_helpers);\n\nvar _data = __webpack_require__(/*! ./common/data */ 2);\n\nvar _events = __webpack_require__(/*! ./common/events */ 5);\n\nvar _events2 = _interopRequireDefault(_events);\n\nvar _actions = __webpack_require__(/*! ./common/actions */ 7);\n\nvar _actions2 = _interopRequireDefault(_actions);\n\nvar _dom = __webpack_require__(/*! ./common/dom */ 0);\n\nvar _dom2 = _interopRequireDefault(_dom);\n\nvar _controls = __webpack_require__(/*! ./components/controls */ 13);\n\nvar _stage = __webpack_require__(/*! ./components/stage */ 16);\n\nvar _stage2 = _interopRequireDefault(_stage);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step("next", value); }, function (err) { step("throw", err); }); } } return step("next"); }); }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nvar formeo = {\n  get formData() {\n    return _data.data.json;\n  }\n};\nvar opts = {};\n\nvar Formeo = function () {\n  function Formeo(options, userFormData) {\n    _classCallCheck(this, Formeo);\n\n    var defaults = {\n      allowEdit: true,\n      dataType: \'json\',\n      debug: false,\n      sessionStorage: false,\n      container: \'.formeo-wrap\',\n      prefix: \'formeo-\',\n\n      iconFontFallback: null,\n      events: {},\n      actions: {},\n      controls: {},\n      config: {\n        rows: {},\n        columns: {},\n        fields: {}\n      },\n      i18n: {\n        locale: \'en-US\',\n        langs: [\'en-US\'],\n        preloaded: {\n          \'en-US\': {\n            \'action.add.attrs.attr\': \'What attribute would you like to add?\',\n            \'action.add.attrs.value\': \'Default Value\',\n            \'addOption\': \'Add Option\',\n            \'allFieldsRemoved\': \'All fields were removed.\',\n            \'allowSelect\': \'Allow Select\',\n            \'attribute\': \'Attribute\',\n            \'attributes\': \'Attributes\',\n            \'attrs.class\': \'Class\',\n            \'attrs.className\': \'Class\',\n            \'attrs.required\': \'Required Field\',\n            \'attrs.type\': \'Type\',\n            \'attrs.id\': \'Id\',\n            \'attrs.title\': \'Title\',\n            \'attrs.style\': \'Style\',\n            \'attrs.dir\': \'Direction\',\n            \'autocomplete\': \'Autocomplete\',\n            \'button\': \'Button\',\n            \'cannotBeEmpty\': \'This field cannot be empty\',\n            \'checkbox\': \'Checkbox\',\n            \'checkboxes\': \'Checkboxes\',\n            \'checkboxGroup\': \'Checkbox Group\',\n            \'className\': \'Class\',\n            \'class\': \'Class\',\n            \'clear\': \'Clear Everything\',\n            \'clearAllMessage\': \'Are you sure you want to clear all fields?\',\n            \'close\': \'Close\',\n            \'column\': \'Column\',\n            \'commonFields\': \'Common Fields\',\n            \'confirmClearAll\': \'Are you sure you want to remove all fields?\',\n            \'content\': \'Content\',\n            \'control\': \'Control\',\n            \'controlGroups.nextGroup\': \'Next Group\',\n            \'controlGroups.prevGroup\': \'Previous Group\',\n            \'copy\': \'Copy To Clipboard\',\n            \'danger\': \'Danger\',\n            \'description\': \'Help Text\',\n            \'descriptionField\': \'Description\',\n            \'devMode\': \'Developer Mode\',\n            \'divider\': \'Divider\',\n            \'editing.row\': \'Editing Row\',\n            \'editNames\': \'Edit Names\',\n            \'editorTitle\': \'Form Elements\',\n            \'editXML\': \'Edit XML\',\n            \'en-US\': \'English\',\n            \'field\': \'Field\',\n            \'fieldNonEditable\': \'This field cannot be edited.\',\n            \'fieldRemoveWarning\': \'Are you sure you want to remove this field?\',\n            \'fileUpload\': \'File Upload\',\n            \'formUpdated\': \'Form Updated\',\n            \'getStarted\': \'Drag a field from the right to this area\',\n            \'group\': \'Group\',\n            \'grouped\': \'Grouped\',\n            \'header\': \'Heading\',\n            \'hidden\': \'Hidden Input\',\n            \'hide\': \'Edit\',\n            \'htmlElements\': \'Text Elements\',\n            \'info\': \'Info\',\n            \'input.date\': \'Date\',\n            \'input.text\': \'Text\',\n            \'label\': \'Label\',\n            \'labelCount\': \'{label} {count}\',\n            \'labelEmpty\': \'Field Label cannot be empty\',\n            \'layout\': \'Layout\',\n            \'limitRole\': \'Limit access to one or more of the following roles:\',\n            \'mandatory\': \'Mandatory\',\n            \'maxlength\': \'Max Length\',\n            \'meta.group\': \'Group\',\n            \'meta.icon\': \'Ico\',\n            \'meta.label\': \'Label\',\n            \'minOptionMessage\': \'This field requires a minimum of 2 options\',\n            \'name\': \'Name\',\n            \'no\': \'No\',\n            \'number\': \'Number\',\n            \'off\': \'Off\',\n            \'on\': \'On\',\n            \'option\': \'Option\',\n            \'optional\': \'optional\',\n            \'optionEmpty\': \'Option value required\',\n            \'optionLabel\': \'Option {count}\',\n            \'options\': \'Options\',\n            \'panelEditButtons.attrs\': \'+ Attribute\',\n            \'panelEditButtons.options\': \'+ Option\',\n            \'panelLabels.attrs\': \'Attrs\',\n            \'panelLabels.config\': \'Config\',\n            \'panelLabels.meta\': \'Meta\',\n            \'panelLabels.options\': \'Options\',\n            \'paragraph\': \'Paragraph\',\n            \'placeholder\': \'Placeholder\',\n            \'placeholder.className\': \'space separated classes\',\n            \'placeholder.email\': \'Enter you email\',\n            \'placeholder.label\': \'Label\',\n            \'placeholder.password\': \'Enter your password\',\n            \'placeholder.placeholder\': \'Placeholder\',\n            \'placeholder.text\': \'Enter some Text\',\n            \'placeholder.textarea\': \'Enter a lot of text\',\n            \'placeholder.value\': \'Value\',\n            \'preview\': \'Preview\',\n            \'primary\': \'Primary\',\n            \'radio\': \'Radio\',\n            \'radioGroup\': \'Radio Group\',\n            \'remove\': \'Remove\',\n            \'removeMessage\': \'Remove Element\',\n            \'required\': \'Required\',\n            \'reset\': \'Reset\',\n            \'richText\': \'Rich Text Editor\',\n            \'roles\': \'Access\',\n            \'row\': \'Row\',\n            \'row.makeInputGroup\': \'Make this row an input group.\',\n\n            \'row.makeInputGroupDesc\': \'Input Groups enable users to add sets of inputs at a time.\',\n            \'row.settings.fieldsetWrap\': \'Wrap row in a &lt;fieldset&gt; tag\',\n            \'row.settings.fieldsetWrap.aria\': \'Wrap Row in Fieldset\',\n            \'save\': \'Save\',\n            \'secondary\': \'Secondary\',\n            \'select\': \'Select\',\n            \'selectColor\': \'Select Color\',\n            \'selectionsMessage\': \'Allow Multiple Selections\',\n            \'selectOptions\': \'Options\',\n            \'separator\': \'Separator\',\n            \'settings\': \'Settings\',\n            \'size\': \'Size\',\n            \'sizes\': \'Sizes\',\n            \'sizes.lg\': \'Large\',\n            \'sizes.m\': \'Default\',\n            \'sizes.sm\': \'Small\',\n            \'sizes.xs\': \'Extra Small\',\n            \'style\': \'Style\',\n            \'styles\': \'Styles\',\n            \'styles.btn\': \'Button Style\',\n            \'styles.btn.danger\': \'Danger\',\n            \'styles.btn.default\': \'Default\',\n            \'styles.btn.info\': \'Info\',\n            \'styles.btn.primary\': \'Primary\',\n            \'styles.btn.success\': \'Success\',\n            \'styles.btn.warning\': \'Warning\',\n            \'subtype\': \'Type\',\n            \'success\': \'Success\',\n            \'text\': \'Text Field\',\n            \'textarea\': \'Textarea\',\n            \'toggle\': \'Toggle\',\n            \'ungrouped\': \'Un-Grouped\',\n            \'viewXML\': \'</>\',\n            \'warning\': \'Warning\',\n            \'yes\': \'Yes\'\n          }\n        }\n      }\n    };\n\n    var formeoLocale = window.sessionStorage.getItem(\'formeo-locale\');\n    if (formeoLocale) {\n      defaults.i18n.locale = formeoLocale;\n    }\n\n    var _this = this;\n\n    _this.container = options.container || defaults.container;\n    if (typeof _this.container === \'string\') {\n      _this.container = document.querySelector(_this.container);\n    }\n\n    delete options.container;\n\n    opts = _helpers2.default.merge(defaults, options);\n\n    _data.data.init(opts, userFormData);\n    _events2.default.init(opts.events);\n    _actions2.default.init(opts.actions);\n\n    _this.loadResources().then(function () {\n      _dom2.default.setConfig = opts.config;\n      formeo.render = function (renderTarget) {\n        return _dom2.default.renderForm.call(_dom2.default, renderTarget);\n      };\n      if (opts.allowEdit) {\n        formeo.edit = _this.init.bind(_this);\n        _this.init.call(_this);\n      }\n    });\n\n    return formeo;\n  }\n\n  Formeo.prototype.loadResources = function loadResources() {\n    var promises = [];\n\n    if (opts.style) {\n      promises.push(_helpers2.default.ajax(opts.style, _helpers2.default.insertStyle));\n    }\n\n    if (opts.svgSprite) {\n      promises.push(_helpers2.default.ajax(opts.svgSprite, _helpers2.default.insertIcons));\n    }\n\n    return window.Promise.all(promises);\n  };\n\n  Formeo.prototype.init = function () {\n    var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee() {\n      var _this;\n\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this = this;\n              _context.next = 3;\n              return _mi18n2.default.init(opts.i18n);\n\n            case 3:\n              _this.formID = _data.formData.id;\n              formeo.controls = new _controls.Controls(opts.controls, _this.formID);\n              _this.stages = _this.buildStages();\n              formeo.i18n = {\n                setLang: function setLang(formeoLocale) {\n                  window.sessionStorage.setItem(\'formeo-locale\', formeoLocale);\n                  var loadLang = _mi18n2.default.setCurrent.call(_mi18n2.default, formeoLocale);\n                  loadLang.then(function () {\n                    _this.stages = _this.buildStages();\n                    formeo.controls = new _controls.Controls(opts.controls, _this.formID);\n                    _this.render();\n                  }, function (err) {\n                    err.message = \'There was an error retrieving the language files\';\n                    console.error(err);\n                  });\n                }\n              };\n\n              _this.render();\n\n              return _context.abrupt(\'return\', formeo);\n\n            case 9:\n            case \'end\':\n              return _context.stop();\n          }\n        }\n      }, _callee, this);\n    }));\n\n    function init() {\n      return _ref.apply(this, arguments);\n    }\n\n    return init;\n  }();\n\n  Formeo.prototype.buildStages = function buildStages() {\n    var stages = [];\n    var createStage = function createStage(stageID) {\n      return new _stage2.default(opts, stageID);\n    };\n    if (_data.formData.stages.size) {\n      _data.formData.stages.forEach(function (stageConf, stageID) {\n        stages.push(createStage(stageID));\n      });\n    } else {\n      stages.push(createStage());\n    }\n\n    return stages;\n  };\n\n  Formeo.prototype.render = function render() {\n    var _this = this;\n    var controls = formeo.controls.element;\n    console.log(\'wtf?\', this);\n    var elemConfig = {\n      tag: \'div\',\n      attrs: {\n        className: \'formeo formeo-editor\',\n        id: _this.formID\n      },\n      content: [_this.stages, controls]\n    };\n\n    if (_mi18n2.default.current.dir) {\n      elemConfig.attrs.dir = _mi18n2.default.current.dir;\n      _dom2.default.dir = _mi18n2.default.current.dir;\n    }\n\n    var formeoElem = _dom2.default.create(elemConfig);\n\n    _this.container.innerHTML = \'\';\n    _this.container.appendChild(formeoElem);\n\n    _this.stages.forEach(function (stageWrap) {\n      var stage = stageWrap.childNodes[0];\n      stage.style.minHeight = _dom2.default.getStyle(controls, \'height\');\n    });\n\n    _events2.default.formeoLoaded = new CustomEvent(\'formeoLoaded\', {\n      detail: {\n        formeo: formeo\n      }\n    });\n\n    document.dispatchEvent(_events2.default.formeoLoaded);\n  };\n\n  return Formeo;\n}();\n\nif (window !== undefined) {\n  window.Formeo = Formeo;\n}\n\nexports.default = Formeo;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL2Zvcm1lby5qcz8xNTQ4Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcbmltcG9ydCAnLi4vc2Fzcy9mb3JtZW8uc2Nzcyc7XG5pbXBvcnQgaTE4biBmcm9tICdtaTE4bic7XG5pbXBvcnQgaCBmcm9tICcuL2NvbW1vbi9oZWxwZXJzJztcbmltcG9ydCB7ZGF0YSwgZm9ybURhdGF9IGZyb20gJy4vY29tbW9uL2RhdGEnO1xuaW1wb3J0IGV2ZW50cyBmcm9tICcuL2NvbW1vbi9ldmVudHMnO1xuaW1wb3J0IGFjdGlvbnMgZnJvbSAnLi9jb21tb24vYWN0aW9ucyc7XG5pbXBvcnQgZG9tIGZyb20gJy4vY29tbW9uL2RvbSc7XG5pbXBvcnQge0NvbnRyb2xzfSBmcm9tICcuL2NvbXBvbmVudHMvY29udHJvbHMnO1xuaW1wb3J0IFN0YWdlIGZyb20gJy4vY29tcG9uZW50cy9zdGFnZSc7XG5cbi8vIFNpbXBsZSBvYmplY3QgY29uZmlnIGZvciB0aGUgbWFpbiBwYXJ0IG9mIGZvcm1lb1xuY29uc3QgZm9ybWVvID0ge1xuICBnZXQgZm9ybURhdGEoKSB7XG4gICAgcmV0dXJuIGRhdGEuanNvbjtcbiAgfVxufTtcbmxldCBvcHRzID0ge307XG5cbi8qKlxuICogTWFpbiBjbGFzc1xuICovXG5jbGFzcyBGb3JtZW8ge1xuICAvKipcbiAgICogW2NvbnN0cnVjdG9yIGRlc2NyaXB0aW9uXVxuICAgKiBAcGFyYW0gIHtPYmplY3R9IG9wdGlvbnMgIGZvcm1lbyBvcHRpb25zXG4gICAqIEBwYXJhbSAge1N0cmluZ3xPYmplY3R9ICAgdXNlckZvcm1EYXRhIFtkZXNjcmlwdGlvbl1cbiAgICogQHJldHVybiB7T2JqZWN0fSAgICAgICAgICBmb3JtZW8gcmVmZXJlbmNlcyBhbmQgYWN0aW9uc1xuICAgKi9cbiAgY29uc3RydWN0b3Iob3B0aW9ucywgdXNlckZvcm1EYXRhKSB7XG4gICAgLy8gRGVmYXVsdCBvcHRpb25zXG4gICAgY29uc3QgZGVmYXVsdHMgPSB7XG4gICAgICBhbGxvd0VkaXQ6IHRydWUsXG4gICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgZGVidWc6IGZhbHNlLFxuICAgICAgc2Vzc2lvblN0b3JhZ2U6IGZhbHNlLFxuICAgICAgY29udGFpbmVyOiAnLmZvcm1lby13cmFwJyxcbiAgICAgIHByZWZpeDogJ2Zvcm1lby0nLFxuICAgICAgLy8gc3ZnU3ByaXRlOiBudWxsLCAvLyBjaGFuZ2UgdG8gbnVsbFxuICAgICAgaWNvbkZvbnRGYWxsYmFjazogbnVsbCwgLy8gJ2dseXBoaWNvbnMnIHx8ICdmb250LWF3ZXNvbWUnIHx8ICdmb250ZWxsbydcbiAgICAgIGV2ZW50czoge30sXG4gICAgICBhY3Rpb25zOiB7fSxcbiAgICAgIGNvbnRyb2xzOiB7fSxcbiAgICAgIGNvbmZpZzoge1xuICAgICAgICByb3dzOiB7fSxcbiAgICAgICAgY29sdW1uczoge30sXG4gICAgICAgIGZpZWxkczoge31cbiAgICAgIH0sXG4gICAgICBpMThuOiB7XG4gICAgICAgIGxvY2FsZTogJ2VuLVVTJyxcbiAgICAgICAgbGFuZ3M6IFtcbiAgICAgICAgICAnZW4tVVMnXG4gICAgICAgIF0sXG4gICAgICAgIHByZWxvYWRlZDoge1xuICAgICAgICAgICdlbi1VUyc6IHtcbiAgICAgICAgICAgICdhY3Rpb24uYWRkLmF0dHJzLmF0dHInOiAnV2hhdCBhdHRyaWJ1dGUgd291bGQgeW91IGxpa2UgdG8gYWRkPycsXG4gICAgICAgICAgICAnYWN0aW9uLmFkZC5hdHRycy52YWx1ZSc6ICdEZWZhdWx0IFZhbHVlJyxcbiAgICAgICAgICAgICdhZGRPcHRpb24nOiAnQWRkIE9wdGlvbicsXG4gICAgICAgICAgICAnYWxsRmllbGRzUmVtb3ZlZCc6ICdBbGwgZmllbGRzIHdlcmUgcmVtb3ZlZC4nLFxuICAgICAgICAgICAgJ2FsbG93U2VsZWN0JzogJ0FsbG93IFNlbGVjdCcsXG4gICAgICAgICAgICAnYXR0cmlidXRlJzogJ0F0dHJpYnV0ZScsXG4gICAgICAgICAgICAnYXR0cmlidXRlcyc6ICdBdHRyaWJ1dGVzJyxcbiAgICAgICAgICAgICdhdHRycy5jbGFzcyc6ICdDbGFzcycsXG4gICAgICAgICAgICAnYXR0cnMuY2xhc3NOYW1lJzogJ0NsYXNzJyxcbiAgICAgICAgICAgICdhdHRycy5yZXF1aXJlZCc6ICdSZXF1aXJlZCBGaWVsZCcsXG4gICAgICAgICAgICAnYXR0cnMudHlwZSc6ICdUeXBlJyxcbiAgICAgICAgICAgICdhdHRycy5pZCc6ICdJZCcsXG4gICAgICAgICAgICAnYXR0cnMudGl0bGUnOiAnVGl0bGUnLFxuICAgICAgICAgICAgJ2F0dHJzLnN0eWxlJzogJ1N0eWxlJyxcbiAgICAgICAgICAgICdhdHRycy5kaXInOiAnRGlyZWN0aW9uJyxcbiAgICAgICAgICAgICdhdXRvY29tcGxldGUnOiAnQXV0b2NvbXBsZXRlJyxcbiAgICAgICAgICAgICdidXR0b24nOiAnQnV0dG9uJyxcbiAgICAgICAgICAgICdjYW5ub3RCZUVtcHR5JzogJ1RoaXMgZmllbGQgY2Fubm90IGJlIGVtcHR5JyxcbiAgICAgICAgICAgICdjaGVja2JveCc6ICdDaGVja2JveCcsXG4gICAgICAgICAgICAnY2hlY2tib3hlcyc6ICdDaGVja2JveGVzJyxcbiAgICAgICAgICAgICdjaGVja2JveEdyb3VwJzogJ0NoZWNrYm94IEdyb3VwJyxcbiAgICAgICAgICAgICdjbGFzc05hbWUnOiAnQ2xhc3MnLFxuICAgICAgICAgICAgJ2NsYXNzJzogJ0NsYXNzJyxcbiAgICAgICAgICAgICdjbGVhcic6ICdDbGVhciBFdmVyeXRoaW5nJyxcbiAgICAgICAgICAgICdjbGVhckFsbE1lc3NhZ2UnOiAnQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGNsZWFyIGFsbCBmaWVsZHM/JyxcbiAgICAgICAgICAgICdjbG9zZSc6ICdDbG9zZScsXG4gICAgICAgICAgICAnY29sdW1uJzogJ0NvbHVtbicsXG4gICAgICAgICAgICAnY29tbW9uRmllbGRzJzogJ0NvbW1vbiBGaWVsZHMnLFxuICAgICAgICAgICAgJ2NvbmZpcm1DbGVhckFsbCc6ICdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gcmVtb3ZlIGFsbCBmaWVsZHM/JyxcbiAgICAgICAgICAgICdjb250ZW50JzogJ0NvbnRlbnQnLFxuICAgICAgICAgICAgJ2NvbnRyb2wnOiAnQ29udHJvbCcsXG4gICAgICAgICAgICAnY29udHJvbEdyb3Vwcy5uZXh0R3JvdXAnOiAnTmV4dCBHcm91cCcsXG4gICAgICAgICAgICAnY29udHJvbEdyb3Vwcy5wcmV2R3JvdXAnOiAnUHJldmlvdXMgR3JvdXAnLFxuICAgICAgICAgICAgJ2NvcHknOiAnQ29weSBUbyBDbGlwYm9hcmQnLFxuICAgICAgICAgICAgJ2Rhbmdlcic6ICdEYW5nZXInLFxuICAgICAgICAgICAgJ2Rlc2NyaXB0aW9uJzogJ0hlbHAgVGV4dCcsXG4gICAgICAgICAgICAnZGVzY3JpcHRpb25GaWVsZCc6ICdEZXNjcmlwdGlvbicsXG4gICAgICAgICAgICAnZGV2TW9kZSc6ICdEZXZlbG9wZXIgTW9kZScsXG4gICAgICAgICAgICAnZGl2aWRlcic6ICdEaXZpZGVyJyxcbiAgICAgICAgICAgICdlZGl0aW5nLnJvdyc6ICdFZGl0aW5nIFJvdycsXG4gICAgICAgICAgICAnZWRpdE5hbWVzJzogJ0VkaXQgTmFtZXMnLFxuICAgICAgICAgICAgJ2VkaXRvclRpdGxlJzogJ0Zvcm0gRWxlbWVudHMnLFxuICAgICAgICAgICAgJ2VkaXRYTUwnOiAnRWRpdCBYTUwnLFxuICAgICAgICAgICAgJ2VuLVVTJzogJ0VuZ2xpc2gnLFxuICAgICAgICAgICAgJ2ZpZWxkJzogJ0ZpZWxkJyxcbiAgICAgICAgICAgICdmaWVsZE5vbkVkaXRhYmxlJzogJ1RoaXMgZmllbGQgY2Fubm90IGJlIGVkaXRlZC4nLFxuICAgICAgICAgICAgJ2ZpZWxkUmVtb3ZlV2FybmluZyc6ICdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gcmVtb3ZlIHRoaXMgZmllbGQ/JyxcbiAgICAgICAgICAgICdmaWxlVXBsb2FkJzogJ0ZpbGUgVXBsb2FkJyxcbiAgICAgICAgICAgICdmb3JtVXBkYXRlZCc6ICdGb3JtIFVwZGF0ZWQnLFxuICAgICAgICAgICAgJ2dldFN0YXJ0ZWQnOiAnRHJhZyBhIGZpZWxkIGZyb20gdGhlIHJpZ2h0IHRvIHRoaXMgYXJlYScsXG4gICAgICAgICAgICAnZ3JvdXAnOiAnR3JvdXAnLFxuICAgICAgICAgICAgJ2dyb3VwZWQnOiAnR3JvdXBlZCcsXG4gICAgICAgICAgICAnaGVhZGVyJzogJ0hlYWRpbmcnLFxuICAgICAgICAgICAgJ2hpZGRlbic6ICdIaWRkZW4gSW5wdXQnLFxuICAgICAgICAgICAgJ2hpZGUnOiAnRWRpdCcsXG4gICAgICAgICAgICAnaHRtbEVsZW1lbnRzJzogJ1RleHQgRWxlbWVudHMnLFxuICAgICAgICAgICAgJ2luZm8nOiAnSW5mbycsXG4gICAgICAgICAgICAnaW5wdXQuZGF0ZSc6ICdEYXRlJyxcbiAgICAgICAgICAgICdpbnB1dC50ZXh0JzogJ1RleHQnLFxuICAgICAgICAgICAgJ2xhYmVsJzogJ0xhYmVsJyxcbiAgICAgICAgICAgICdsYWJlbENvdW50JzogJ3tsYWJlbH0ge2NvdW50fScsXG4gICAgICAgICAgICAnbGFiZWxFbXB0eSc6ICdGaWVsZCBMYWJlbCBjYW5ub3QgYmUgZW1wdHknLFxuICAgICAgICAgICAgJ2xheW91dCc6ICdMYXlvdXQnLFxuICAgICAgICAgICAgJ2xpbWl0Um9sZSc6ICdMaW1pdCBhY2Nlc3MgdG8gb25lIG9yIG1vcmUgb2YgdGhlIGZvbGxvd2luZyByb2xlczonLFxuICAgICAgICAgICAgJ21hbmRhdG9yeSc6ICdNYW5kYXRvcnknLFxuICAgICAgICAgICAgJ21heGxlbmd0aCc6ICdNYXggTGVuZ3RoJyxcbiAgICAgICAgICAgICdtZXRhLmdyb3VwJzogJ0dyb3VwJyxcbiAgICAgICAgICAgICdtZXRhLmljb24nOiAnSWNvJyxcbiAgICAgICAgICAgICdtZXRhLmxhYmVsJzogJ0xhYmVsJyxcbiAgICAgICAgICAgICdtaW5PcHRpb25NZXNzYWdlJzogJ1RoaXMgZmllbGQgcmVxdWlyZXMgYSBtaW5pbXVtIG9mIDIgb3B0aW9ucycsXG4gICAgICAgICAgICAnbmFtZSc6ICdOYW1lJyxcbiAgICAgICAgICAgICdubyc6ICdObycsXG4gICAgICAgICAgICAnbnVtYmVyJzogJ051bWJlcicsXG4gICAgICAgICAgICAnb2ZmJzogJ09mZicsXG4gICAgICAgICAgICAnb24nOiAnT24nLFxuICAgICAgICAgICAgJ29wdGlvbic6ICdPcHRpb24nLFxuICAgICAgICAgICAgJ29wdGlvbmFsJzogJ29wdGlvbmFsJyxcbiAgICAgICAgICAgICdvcHRpb25FbXB0eSc6ICdPcHRpb24gdmFsdWUgcmVxdWlyZWQnLFxuICAgICAgICAgICAgJ29wdGlvbkxhYmVsJzogJ09wdGlvbiB7Y291bnR9JyxcbiAgICAgICAgICAgICdvcHRpb25zJzogJ09wdGlvbnMnLFxuICAgICAgICAgICAgJ3BhbmVsRWRpdEJ1dHRvbnMuYXR0cnMnOiAnKyBBdHRyaWJ1dGUnLFxuICAgICAgICAgICAgJ3BhbmVsRWRpdEJ1dHRvbnMub3B0aW9ucyc6ICcrIE9wdGlvbicsXG4gICAgICAgICAgICAncGFuZWxMYWJlbHMuYXR0cnMnOiAnQXR0cnMnLFxuICAgICAgICAgICAgJ3BhbmVsTGFiZWxzLmNvbmZpZyc6ICdDb25maWcnLFxuICAgICAgICAgICAgJ3BhbmVsTGFiZWxzLm1ldGEnOiAnTWV0YScsXG4gICAgICAgICAgICAncGFuZWxMYWJlbHMub3B0aW9ucyc6ICdPcHRpb25zJyxcbiAgICAgICAgICAgICdwYXJhZ3JhcGgnOiAnUGFyYWdyYXBoJyxcbiAgICAgICAgICAgICdwbGFjZWhvbGRlcic6ICdQbGFjZWhvbGRlcicsXG4gICAgICAgICAgICAncGxhY2Vob2xkZXIuY2xhc3NOYW1lJzogJ3NwYWNlIHNlcGFyYXRlZCBjbGFzc2VzJyxcbiAgICAgICAgICAgICdwbGFjZWhvbGRlci5lbWFpbCc6ICdFbnRlciB5b3UgZW1haWwnLFxuICAgICAgICAgICAgJ3BsYWNlaG9sZGVyLmxhYmVsJzogJ0xhYmVsJyxcbiAgICAgICAgICAgICdwbGFjZWhvbGRlci5wYXNzd29yZCc6ICdFbnRlciB5b3VyIHBhc3N3b3JkJyxcbiAgICAgICAgICAgICdwbGFjZWhvbGRlci5wbGFjZWhvbGRlcic6ICdQbGFjZWhvbGRlcicsXG4gICAgICAgICAgICAncGxhY2Vob2xkZXIudGV4dCc6ICdFbnRlciBzb21lIFRleHQnLFxuICAgICAgICAgICAgJ3BsYWNlaG9sZGVyLnRleHRhcmVhJzogJ0VudGVyIGEgbG90IG9mIHRleHQnLFxuICAgICAgICAgICAgJ3BsYWNlaG9sZGVyLnZhbHVlJzogJ1ZhbHVlJyxcbiAgICAgICAgICAgICdwcmV2aWV3JzogJ1ByZXZpZXcnLFxuICAgICAgICAgICAgJ3ByaW1hcnknOiAnUHJpbWFyeScsXG4gICAgICAgICAgICAncmFkaW8nOiAnUmFkaW8nLFxuICAgICAgICAgICAgJ3JhZGlvR3JvdXAnOiAnUmFkaW8gR3JvdXAnLFxuICAgICAgICAgICAgJ3JlbW92ZSc6ICdSZW1vdmUnLFxuICAgICAgICAgICAgJ3JlbW92ZU1lc3NhZ2UnOiAnUmVtb3ZlIEVsZW1lbnQnLFxuICAgICAgICAgICAgJ3JlcXVpcmVkJzogJ1JlcXVpcmVkJyxcbiAgICAgICAgICAgICdyZXNldCc6ICdSZXNldCcsXG4gICAgICAgICAgICAncmljaFRleHQnOiAnUmljaCBUZXh0IEVkaXRvcicsXG4gICAgICAgICAgICAncm9sZXMnOiAnQWNjZXNzJyxcbiAgICAgICAgICAgICdyb3cnOiAnUm93JyxcbiAgICAgICAgICAgICdyb3cubWFrZUlucHV0R3JvdXAnOiAnTWFrZSB0aGlzIHJvdyBhbiBpbnB1dCBncm91cC4nLFxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICAgICAgICAncm93Lm1ha2VJbnB1dEdyb3VwRGVzYyc6ICdJbnB1dCBHcm91cHMgZW5hYmxlIHVzZXJzIHRvIGFkZCBzZXRzIG9mIGlucHV0cyBhdCBhIHRpbWUuJyxcbiAgICAgICAgICAgICdyb3cuc2V0dGluZ3MuZmllbGRzZXRXcmFwJzogJ1dyYXAgcm93IGluIGEgJmx0O2ZpZWxkc2V0Jmd0OyB0YWcnLFxuICAgICAgICAgICAgJ3Jvdy5zZXR0aW5ncy5maWVsZHNldFdyYXAuYXJpYSc6ICdXcmFwIFJvdyBpbiBGaWVsZHNldCcsXG4gICAgICAgICAgICAnc2F2ZSc6ICdTYXZlJyxcbiAgICAgICAgICAgICdzZWNvbmRhcnknOiAnU2Vjb25kYXJ5JyxcbiAgICAgICAgICAgICdzZWxlY3QnOiAnU2VsZWN0JyxcbiAgICAgICAgICAgICdzZWxlY3RDb2xvcic6ICdTZWxlY3QgQ29sb3InLFxuICAgICAgICAgICAgJ3NlbGVjdGlvbnNNZXNzYWdlJzogJ0FsbG93IE11bHRpcGxlIFNlbGVjdGlvbnMnLFxuICAgICAgICAgICAgJ3NlbGVjdE9wdGlvbnMnOiAnT3B0aW9ucycsXG4gICAgICAgICAgICAnc2VwYXJhdG9yJzogJ1NlcGFyYXRvcicsXG4gICAgICAgICAgICAnc2V0dGluZ3MnOiAnU2V0dGluZ3MnLFxuICAgICAgICAgICAgJ3NpemUnOiAnU2l6ZScsXG4gICAgICAgICAgICAnc2l6ZXMnOiAnU2l6ZXMnLFxuICAgICAgICAgICAgJ3NpemVzLmxnJzogJ0xhcmdlJyxcbiAgICAgICAgICAgICdzaXplcy5tJzogJ0RlZmF1bHQnLFxuICAgICAgICAgICAgJ3NpemVzLnNtJzogJ1NtYWxsJyxcbiAgICAgICAgICAgICdzaXplcy54cyc6ICdFeHRyYSBTbWFsbCcsXG4gICAgICAgICAgICAnc3R5bGUnOiAnU3R5bGUnLFxuICAgICAgICAgICAgJ3N0eWxlcyc6ICdTdHlsZXMnLFxuICAgICAgICAgICAgJ3N0eWxlcy5idG4nOiAnQnV0dG9uIFN0eWxlJyxcbiAgICAgICAgICAgICdzdHlsZXMuYnRuLmRhbmdlcic6ICdEYW5nZXInLFxuICAgICAgICAgICAgJ3N0eWxlcy5idG4uZGVmYXVsdCc6ICdEZWZhdWx0JyxcbiAgICAgICAgICAgICdzdHlsZXMuYnRuLmluZm8nOiAnSW5mbycsXG4gICAgICAgICAgICAnc3R5bGVzLmJ0bi5wcmltYXJ5JzogJ1ByaW1hcnknLFxuICAgICAgICAgICAgJ3N0eWxlcy5idG4uc3VjY2Vzcyc6ICdTdWNjZXNzJyxcbiAgICAgICAgICAgICdzdHlsZXMuYnRuLndhcm5pbmcnOiAnV2FybmluZycsXG4gICAgICAgICAgICAnc3VidHlwZSc6ICdUeXBlJyxcbiAgICAgICAgICAgICdzdWNjZXNzJzogJ1N1Y2Nlc3MnLFxuICAgICAgICAgICAgJ3RleHQnOiAnVGV4dCBGaWVsZCcsXG4gICAgICAgICAgICAndGV4dGFyZWEnOiAnVGV4dGFyZWEnLFxuICAgICAgICAgICAgJ3RvZ2dsZSc6ICdUb2dnbGUnLFxuICAgICAgICAgICAgJ3VuZ3JvdXBlZCc6ICdVbi1Hcm91cGVkJyxcbiAgICAgICAgICAgICd2aWV3WE1MJzogJzwvPicsXG4gICAgICAgICAgICAnd2FybmluZyc6ICdXYXJuaW5nJyxcbiAgICAgICAgICAgICd5ZXMnOiAnWWVzJ1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICBsZXQgZm9ybWVvTG9jYWxlID0gd2luZG93LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2Zvcm1lby1sb2NhbGUnKTtcbiAgICBpZiAoZm9ybWVvTG9jYWxlKSB7XG4gICAgICBkZWZhdWx0cy5pMThuLmxvY2FsZSA9IGZvcm1lb0xvY2FsZTtcbiAgICB9XG5cbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuXG4gICAgX3RoaXMuY29udGFpbmVyID0gb3B0aW9ucy5jb250YWluZXIgfHwgZGVmYXVsdHMuY29udGFpbmVyO1xuICAgIGlmICh0eXBlb2YgX3RoaXMuY29udGFpbmVyID09PSAnc3RyaW5nJykge1xuICAgICAgX3RoaXMuY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihfdGhpcy5jb250YWluZXIpO1xuICAgIH1cblxuICAgIC8vIFJlbW92ZSBgY29udGFpbmVyYCBwcm9wZXJ0eSBiZWZvcmUgZXh0ZW5kaW5nIGJlY2F1c2UgY29udGFpbmVyXG4gICAgLy8gbWF5IGJlIEVsZW1lbnRcbiAgICBkZWxldGUgb3B0aW9ucy5jb250YWluZXI7XG5cbiAgICBvcHRzID0gaC5tZXJnZShkZWZhdWx0cywgb3B0aW9ucyk7XG5cbiAgICBkYXRhLmluaXQob3B0cywgdXNlckZvcm1EYXRhKTtcbiAgICBldmVudHMuaW5pdChvcHRzLmV2ZW50cyk7XG4gICAgYWN0aW9ucy5pbml0KG9wdHMuYWN0aW9ucyk7XG5cbiAgICAvLyBMb2FkIHJlbW90ZSByZXNvdXJjZXMgc3VjaCBhcyBjc3MgYW5kIHN2ZyBzcHJpdGVcbiAgICBfdGhpcy5sb2FkUmVzb3VyY2VzKCkudGhlbigoKSA9PiB7XG4gICAgICBkb20uc2V0Q29uZmlnID0gb3B0cy5jb25maWc7XG4gICAgICBmb3JtZW8ucmVuZGVyID0gcmVuZGVyVGFyZ2V0ID0+IGRvbS5yZW5kZXJGb3JtLmNhbGwoZG9tLCByZW5kZXJUYXJnZXQpO1xuICAgICAgaWYgKG9wdHMuYWxsb3dFZGl0KSB7XG4gICAgICAgIGZvcm1lby5lZGl0ID0gX3RoaXMuaW5pdC5iaW5kKF90aGlzKTtcbiAgICAgICAgX3RoaXMuaW5pdC5jYWxsKF90aGlzKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiBmb3JtZW87XG4gIH1cblxuICAvKipcbiAgICogTG9hZCByZW1vdGUgcmVzb3VyY2VzXG4gICAqIEByZXR1cm4ge1Byb21pc2V9IGFzeW5jaHJvbm91c2x5IGxvYWRlZCByZW1vdGUgcmVzb3VyY2VzXG4gICAqL1xuICBsb2FkUmVzb3VyY2VzKCkge1xuICAgIGxldCBwcm9taXNlcyA9IFtdO1xuXG4gICAgaWYgKG9wdHMuc3R5bGUpIHtcbiAgICAgIHByb21pc2VzLnB1c2goaC5hamF4KG9wdHMuc3R5bGUsIGguaW5zZXJ0U3R5bGUpKTtcbiAgICB9XG5cbiAgICAvLyBBamF4IGxvYWQgc3ZnU3ByaXRlIGFuZCBpbmplY3QgaW50byBtYXJrdXAuXG4gICAgaWYgKG9wdHMuc3ZnU3ByaXRlKSB7XG4gICAgICBwcm9taXNlcy5wdXNoKGguYWpheChvcHRzLnN2Z1Nwcml0ZSwgaC5pbnNlcnRJY29ucykpO1xuICAgIH1cblxuICAgIHJldHVybiB3aW5kb3cuUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xuICB9XG5cbiAgLyoqXG4gICAqIEZvcm1lbyBpbml0aWFsaXplclxuICAgKiBAcmV0dXJuIHtPYmplY3R9IFJlZmVyZW5jZXMgdG8gZm9ybWVvIGluc3RhbmNlLFxuICAgKiBkb20gZWxlbWVudHMsIGFjdGlvbnMgZXZlbnRzIGFuZCBtb3JlLlxuICAgKi9cbiAgYXN5bmMgaW5pdCgpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIGF3YWl0IGkxOG4uaW5pdChvcHRzLmkxOG4pO1xuICAgIF90aGlzLmZvcm1JRCA9IGZvcm1EYXRhLmlkO1xuICAgIGZvcm1lby5jb250cm9scyA9IG5ldyBDb250cm9scyhvcHRzLmNvbnRyb2xzLCBfdGhpcy5mb3JtSUQpO1xuICAgIF90aGlzLnN0YWdlcyA9IF90aGlzLmJ1aWxkU3RhZ2VzKCk7XG4gICAgZm9ybWVvLmkxOG4gPSB7XG4gICAgICBzZXRMYW5nOiBmb3JtZW9Mb2NhbGUgPT4ge1xuICAgICAgICB3aW5kb3cuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgnZm9ybWVvLWxvY2FsZScsIGZvcm1lb0xvY2FsZSk7XG4gICAgICAgIGxldCBsb2FkTGFuZyA9IGkxOG4uc2V0Q3VycmVudC5jYWxsKGkxOG4sIGZvcm1lb0xvY2FsZSk7XG4gICAgICAgIGxvYWRMYW5nLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIF90aGlzLnN0YWdlcyA9IF90aGlzLmJ1aWxkU3RhZ2VzKCk7XG4gICAgICAgICAgZm9ybWVvLmNvbnRyb2xzID0gbmV3IENvbnRyb2xzKG9wdHMuY29udHJvbHMsIF90aGlzLmZvcm1JRCk7XG4gICAgICAgICAgX3RoaXMucmVuZGVyKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVyciA9PiB7XG4gICAgICAgICAgZXJyLm1lc3NhZ2UgPSAnVGhlcmUgd2FzIGFuIGVycm9yIHJldHJpZXZpbmcgdGhlIGxhbmd1YWdlIGZpbGVzJztcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5yZW5kZXIoKTtcblxuICAgIHJldHVybiBmb3JtZW87XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhdGUgdGhlIHN0YWdlcyB3ZSB3aWxsIGRyYWcgb3V0IGVsZW1lbnRzIHRvXG4gICAqIEByZXR1cm4ge09iamVjdH0gc3RhZ2VzIG1hcFxuICAgKi9cbiAgYnVpbGRTdGFnZXMoKSB7XG4gICAgbGV0IHN0YWdlcyA9IFtdO1xuICAgIGNvbnN0IGNyZWF0ZVN0YWdlID0gc3RhZ2VJRCA9PiBuZXcgU3RhZ2Uob3B0cywgc3RhZ2VJRCk7XG4gICAgaWYgKGZvcm1EYXRhLnN0YWdlcy5zaXplKSB7XG4gICAgICBmb3JtRGF0YS5zdGFnZXMuZm9yRWFjaCgoc3RhZ2VDb25mLCBzdGFnZUlEKSA9PiB7XG4gICAgICAgIHN0YWdlcy5wdXNoKGNyZWF0ZVN0YWdlKHN0YWdlSUQpKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGFnZXMucHVzaChjcmVhdGVTdGFnZSgpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc3RhZ2VzO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbmRlciB0aGUgZm9ybWVvIHNlY3Rpb25zXG4gICAqIEByZXR1cm4ge3ZvaWR9XG4gICAqL1xuICByZW5kZXIoKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICBsZXQgY29udHJvbHMgPSBmb3JtZW8uY29udHJvbHMuZWxlbWVudDtcbiAgICBjb25zb2xlLmxvZygnd3RmPycsIHRoaXMpO1xuICAgIGxldCBlbGVtQ29uZmlnID0ge1xuICAgICAgICB0YWc6ICdkaXYnLFxuICAgICAgICBhdHRyczoge1xuICAgICAgICAgIGNsYXNzTmFtZTogJ2Zvcm1lbyBmb3JtZW8tZWRpdG9yJyxcbiAgICAgICAgICBpZDogX3RoaXMuZm9ybUlEXG4gICAgICAgIH0sXG4gICAgICAgIGNvbnRlbnQ6IFtfdGhpcy5zdGFnZXMsIGNvbnRyb2xzXVxuICAgICAgfTtcblxuICAgIGlmIChpMThuLmN1cnJlbnQuZGlyKSB7XG4gICAgICBlbGVtQ29uZmlnLmF0dHJzLmRpciA9IGkxOG4uY3VycmVudC5kaXI7XG4gICAgICBkb20uZGlyID0gaTE4bi5jdXJyZW50LmRpcjtcbiAgICB9XG5cbiAgICBsZXQgZm9ybWVvRWxlbSA9IGRvbS5jcmVhdGUoZWxlbUNvbmZpZyk7XG5cbiAgICBfdGhpcy5jb250YWluZXIuaW5uZXJIVE1MID0gJyc7XG4gICAgX3RoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKGZvcm1lb0VsZW0pO1xuXG4gICAgX3RoaXMuc3RhZ2VzLmZvckVhY2goc3RhZ2VXcmFwID0+IHtcbiAgICAgIGxldCBzdGFnZSA9IHN0YWdlV3JhcC5jaGlsZE5vZGVzWzBdO1xuICAgICAgc3RhZ2Uuc3R5bGUubWluSGVpZ2h0ID0gZG9tLmdldFN0eWxlKGNvbnRyb2xzLCAnaGVpZ2h0Jyk7XG4gICAgfSk7XG5cbiAgICBldmVudHMuZm9ybWVvTG9hZGVkID0gbmV3IEN1c3RvbUV2ZW50KCdmb3JtZW9Mb2FkZWQnLCB7XG4gICAgICBkZXRhaWw6IHtcbiAgICAgICAgZm9ybWVvOiBmb3JtZW9cbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoZXZlbnRzLmZvcm1lb0xvYWRlZCk7XG4gIH1cbn1cblxuaWYgKHdpbmRvdyAhPT0gdW5kZWZpbmVkKSB7XG4gIHdpbmRvdy5Gb3JtZW8gPSBGb3JtZW87XG59XG5cbmV4cG9ydCBkZWZhdWx0IEZvcm1lbztcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvanMvZm9ybWVvLmpzIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBOzs7OztBQUFBO0FBQ0E7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBO0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTtBQUFBO0FBQ0E7Ozs7Ozs7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBSUE7QUFPQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWhKQTtBQURBO0FBTEE7QUFqQkE7QUFDQTtBQTRLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTs7Ozs7Ozs7QUFDQTs7QUFDQTtBQUNBOztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBYkE7QUFDQTtBQWVBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7Ozs7Ozs7O0FBTUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBTkE7QUFDQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBREE7QUFDQTtBQUtBO0FBQ0E7QUFDQTs7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///10\n')},function(module,exports,__webpack_require__){eval('/* WEBPACK VAR INJECTION */(function(global, process) {/**\n * Copyright (c) 2014, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * https://raw.github.com/facebook/regenerator/master/LICENSE file. An\n * additional grant of patent rights can be found in the PATENTS file in\n * the same directory.\n */\n\n!(function(global) {\n  "use strict";\n\n  var hasOwn = Object.prototype.hasOwnProperty;\n  var undefined; // More compressible than void 0.\n  var iteratorSymbol =\n    typeof Symbol === "function" && Symbol.iterator || "@@iterator";\n\n  var inModule = typeof module === "object";\n  var runtime = global.regeneratorRuntime;\n  if (runtime) {\n    if (inModule) {\n      // If regeneratorRuntime is defined globally and we\'re in a module,\n      // make the exports object identical to regeneratorRuntime.\n      module.exports = runtime;\n    }\n    // Don\'t bother evaluating the rest of this file if the runtime was\n    // already defined globally.\n    return;\n  }\n\n  // Define the runtime globally (as expected by generated code) as either\n  // module.exports (if we\'re in a module) or a new, empty object.\n  runtime = global.regeneratorRuntime = inModule ? module.exports : {};\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided, then outerFn.prototype instanceof Generator.\n    var generator = Object.create((outerFn || Generator).prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  runtime.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there\'s no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don\'t have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: "normal", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: "throw", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = "suspendedStart";\n  var GenStateSuspendedYield = "suspendedYield";\n  var GenStateExecuting = "executing";\n  var GenStateCompleted = "completed";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype;\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunction.displayName = "GeneratorFunction";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    ["next", "throw", "return"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  runtime.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === "function" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === "GeneratorFunction"\n      : false;\n  };\n\n  runtime.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `value instanceof AwaitArgument` to determine if the yielded value is\n  // meant to be awaited. Some may consider the name of this method too\n  // cutesy, but they are curmudgeons.\n  runtime.awrap = function(arg) {\n    return new AwaitArgument(arg);\n  };\n\n  function AwaitArgument(arg) {\n    this.arg = arg;\n  }\n\n  function AsyncIterator(generator) {\n    // This invoke function is written in a style that assumes some\n    // calling function (or Promise) will handle exceptions.\n    function invoke(method, arg) {\n      var result = generator[method](arg);\n      var value = result.value;\n      return value instanceof AwaitArgument\n        ? Promise.resolve(value.arg).then(invokeNext, invokeThrow)\n        : Promise.resolve(value).then(function(unwrapped) {\n            // When a yielded Promise is resolved, its final value becomes\n            // the .value of the Promise<{value,done}> result for the\n            // current iteration. If the Promise is rejected, however, the\n            // result for this iteration will be rejected with the same\n            // reason. Note that rejections of yielded Promises are not\n            // thrown back into the generator function, as is the case\n            // when an awaited Promise is rejected. This difference in\n            // behavior between yield and await is important, because it\n            // allows the consumer to decide what to do with the yielded\n            // rejection (swallow it and continue, manually .throw it back\n            // into the generator, abandon iteration, whatever). With\n            // await, by contrast, there is no opportunity to examine the\n            // rejection reason outside the generator function, so the\n            // only option is to throw it from the await expression, and\n            // let the generator function handle the exception.\n            result.value = unwrapped;\n            return result;\n          });\n    }\n\n    if (typeof process === "object" && process.domain) {\n      invoke = process.domain.bind(invoke);\n    }\n\n    var invokeNext = invoke.bind(generator, "next");\n    var invokeThrow = invoke.bind(generator, "throw");\n    var invokeReturn = invoke.bind(generator, "return");\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return invoke(method, arg);\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : new Promise(function (resolve) {\n          resolve(callInvokeWithMethodAndArg());\n        });\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  runtime.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return runtime.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error("Generator is already running");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === "throw") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          if (method === "return" ||\n              (method === "throw" && delegate.iterator[method] === undefined)) {\n            // A return or throw (when the delegate iterator has no throw\n            // method) always terminates the yield* loop.\n            context.delegate = null;\n\n            // If the delegate iterator has a return method, give it a\n            // chance to clean up.\n            var returnMethod = delegate.iterator["return"];\n            if (returnMethod) {\n              var record = tryCatch(returnMethod, delegate.iterator, arg);\n              if (record.type === "throw") {\n                // If the return method threw an exception, let that\n                // exception prevail over the original return or throw.\n                method = "throw";\n                arg = record.arg;\n                continue;\n              }\n            }\n\n            if (method === "return") {\n              // Continue with the outer return, now that the delegate\n              // iterator has been terminated.\n              continue;\n            }\n          }\n\n          var record = tryCatch(\n            delegate.iterator[method],\n            delegate.iterator,\n            arg\n          );\n\n          if (record.type === "throw") {\n            context.delegate = null;\n\n            // Like returning generator.throw(uncaught), but without the\n            // overhead of an extra function call.\n            method = "throw";\n            arg = record.arg;\n            continue;\n          }\n\n          // Delegate generator ran and handled its own exceptions so\n          // regardless of what the method was, we continue as if it is\n          // "next" with an undefined arg.\n          method = "next";\n          arg = undefined;\n\n          var info = record.arg;\n          if (info.done) {\n            context[delegate.resultName] = info.value;\n            context.next = delegate.nextLoc;\n          } else {\n            state = GenStateSuspendedYield;\n            return info;\n          }\n\n          context.delegate = null;\n        }\n\n        if (method === "next") {\n          context._sent = arg;\n\n          if (state === GenStateSuspendedYield) {\n            context.sent = arg;\n          } else {\n            context.sent = undefined;\n          }\n        } else if (method === "throw") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw arg;\n          }\n\n          if (context.dispatchException(arg)) {\n            // If the dispatched exception was caught by a catch block,\n            // then let that catch block handle the exception normally.\n            method = "next";\n            arg = undefined;\n          }\n\n        } else if (method === "return") {\n          context.abrupt("return", arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === "normal") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          var info = {\n            value: record.arg,\n            done: context.done\n          };\n\n          if (record.arg === ContinueSentinel) {\n            if (context.delegate && method === "next") {\n              // Deliberately forget the last sent value so that we don\'t\n              // accidentally pass it on to the delegate.\n              arg = undefined;\n            }\n          } else {\n            return info;\n          }\n\n        } else if (record.type === "throw") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(arg) call above.\n          method = "throw";\n          arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return "[object Generator]";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = "normal";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: "root" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  runtime.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === "function") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  runtime.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      this.sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === "t" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === "throw") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = "throw";\n        record.arg = exception;\n        context.next = loc;\n        return !!caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === "root") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle("end");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, "catchLoc");\n          var hasFinally = hasOwn.call(entry, "finallyLoc");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error("try statement without catch or finally");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, "finallyLoc") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === "break" ||\n           type === "continue") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.next = finallyEntry.finallyLoc;\n      } else {\n        this.complete(record);\n      }\n\n      return ContinueSentinel;\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === "throw") {\n        throw record.arg;\n      }\n\n      if (record.type === "break" ||\n          record.type === "continue") {\n        this.next = record.arg;\n      } else if (record.type === "return") {\n        this.rval = record.arg;\n        this.next = "end";\n      } else if (record.type === "normal" && afterLoc) {\n        this.next = afterLoc;\n      }\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    "catch": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === "throw") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error("illegal catch attempt");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      return ContinueSentinel;\n    }\n  };\n})(\n  // Among the various tricks for obtaining a reference to the global\n  // object, this seems to be the most reliable technique that does not\n  // use indirect eval (which violates Content Security Policy).\n  typeof global === "object" ? global :\n  typeof window === "object" ? window :\n  typeof self === "object" ? self : this\n);\n\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(/*! ./../webpack/buildin/global.js */ 23), __webpack_require__(/*! ./../process/browser.js */ 20)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvaWdvci9kZXZlbG9wbWVudC9vcGVuc291cmNlL2Zvcm1lby9+L2JhYmVsLXJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcz80ZDVmIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDE0LCBGYWNlYm9vaywgSW5jLlxuICogQWxsIHJpZ2h0cyByZXNlcnZlZC5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBCU0Qtc3R5bGUgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIGh0dHBzOi8vcmF3LmdpdGh1Yi5jb20vZmFjZWJvb2svcmVnZW5lcmF0b3IvbWFzdGVyL0xJQ0VOU0UgZmlsZS4gQW5cbiAqIGFkZGl0aW9uYWwgZ3JhbnQgb2YgcGF0ZW50IHJpZ2h0cyBjYW4gYmUgZm91bmQgaW4gdGhlIFBBVEVOVFMgZmlsZSBpblxuICogdGhlIHNhbWUgZGlyZWN0b3J5LlxuICovXG5cbiEoZnVuY3Rpb24oZ2xvYmFsKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIHZhciBoYXNPd24gPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuICB2YXIgdW5kZWZpbmVkOyAvLyBNb3JlIGNvbXByZXNzaWJsZSB0aGFuIHZvaWQgMC5cbiAgdmFyIGl0ZXJhdG9yU3ltYm9sID1cbiAgICB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgU3ltYm9sLml0ZXJhdG9yIHx8IFwiQEBpdGVyYXRvclwiO1xuXG4gIHZhciBpbk1vZHVsZSA9IHR5cGVvZiBtb2R1bGUgPT09IFwib2JqZWN0XCI7XG4gIHZhciBydW50aW1lID0gZ2xvYmFsLnJlZ2VuZXJhdG9yUnVudGltZTtcbiAgaWYgKHJ1bnRpbWUpIHtcbiAgICBpZiAoaW5Nb2R1bGUpIHtcbiAgICAgIC8vIElmIHJlZ2VuZXJhdG9yUnVudGltZSBpcyBkZWZpbmVkIGdsb2JhbGx5IGFuZCB3ZSdyZSBpbiBhIG1vZHVsZSxcbiAgICAgIC8vIG1ha2UgdGhlIGV4cG9ydHMgb2JqZWN0IGlkZW50aWNhbCB0byByZWdlbmVyYXRvclJ1bnRpbWUuXG4gICAgICBtb2R1bGUuZXhwb3J0cyA9IHJ1bnRpbWU7XG4gICAgfVxuICAgIC8vIERvbid0IGJvdGhlciBldmFsdWF0aW5nIHRoZSByZXN0IG9mIHRoaXMgZmlsZSBpZiB0aGUgcnVudGltZSB3YXNcbiAgICAvLyBhbHJlYWR5IGRlZmluZWQgZ2xvYmFsbHkuXG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gRGVmaW5lIHRoZSBydW50aW1lIGdsb2JhbGx5IChhcyBleHBlY3RlZCBieSBnZW5lcmF0ZWQgY29kZSkgYXMgZWl0aGVyXG4gIC8vIG1vZHVsZS5leHBvcnRzIChpZiB3ZSdyZSBpbiBhIG1vZHVsZSkgb3IgYSBuZXcsIGVtcHR5IG9iamVjdC5cbiAgcnVudGltZSA9IGdsb2JhbC5yZWdlbmVyYXRvclJ1bnRpbWUgPSBpbk1vZHVsZSA/IG1vZHVsZS5leHBvcnRzIDoge307XG5cbiAgZnVuY3Rpb24gd3JhcChpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCkge1xuICAgIC8vIElmIG91dGVyRm4gcHJvdmlkZWQsIHRoZW4gb3V0ZXJGbi5wcm90b3R5cGUgaW5zdGFuY2VvZiBHZW5lcmF0b3IuXG4gICAgdmFyIGdlbmVyYXRvciA9IE9iamVjdC5jcmVhdGUoKG91dGVyRm4gfHwgR2VuZXJhdG9yKS5wcm90b3R5cGUpO1xuICAgIHZhciBjb250ZXh0ID0gbmV3IENvbnRleHQodHJ5TG9jc0xpc3QgfHwgW10pO1xuXG4gICAgLy8gVGhlIC5faW52b2tlIG1ldGhvZCB1bmlmaWVzIHRoZSBpbXBsZW1lbnRhdGlvbnMgb2YgdGhlIC5uZXh0LFxuICAgIC8vIC50aHJvdywgYW5kIC5yZXR1cm4gbWV0aG9kcy5cbiAgICBnZW5lcmF0b3IuX2ludm9rZSA9IG1ha2VJbnZva2VNZXRob2QoaW5uZXJGbiwgc2VsZiwgY29udGV4dCk7XG5cbiAgICByZXR1cm4gZ2VuZXJhdG9yO1xuICB9XG4gIHJ1bnRpbWUud3JhcCA9IHdyYXA7XG5cbiAgLy8gVHJ5L2NhdGNoIGhlbHBlciB0byBtaW5pbWl6ZSBkZW9wdGltaXphdGlvbnMuIFJldHVybnMgYSBjb21wbGV0aW9uXG4gIC8vIHJlY29yZCBsaWtlIGNvbnRleHQudHJ5RW50cmllc1tpXS5jb21wbGV0aW9uLiBUaGlzIGludGVyZmFjZSBjb3VsZFxuICAvLyBoYXZlIGJlZW4gKGFuZCB3YXMgcHJldmlvdXNseSkgZGVzaWduZWQgdG8gdGFrZSBhIGNsb3N1cmUgdG8gYmVcbiAgLy8gaW52b2tlZCB3aXRob3V0IGFyZ3VtZW50cywgYnV0IGluIGFsbCB0aGUgY2FzZXMgd2UgY2FyZSBhYm91dCB3ZVxuICAvLyBhbHJlYWR5IGhhdmUgYW4gZXhpc3RpbmcgbWV0aG9kIHdlIHdhbnQgdG8gY2FsbCwgc28gdGhlcmUncyBubyBuZWVkXG4gIC8vIHRvIGNyZWF0ZSBhIG5ldyBmdW5jdGlvbiBvYmplY3QuIFdlIGNhbiBldmVuIGdldCBhd2F5IHdpdGggYXNzdW1pbmdcbiAgLy8gdGhlIG1ldGhvZCB0YWtlcyBleGFjdGx5IG9uZSBhcmd1bWVudCwgc2luY2UgdGhhdCBoYXBwZW5zIHRvIGJlIHRydWVcbiAgLy8gaW4gZXZlcnkgY2FzZSwgc28gd2UgZG9uJ3QgaGF2ZSB0byB0b3VjaCB0aGUgYXJndW1lbnRzIG9iamVjdC4gVGhlXG4gIC8vIG9ubHkgYWRkaXRpb25hbCBhbGxvY2F0aW9uIHJlcXVpcmVkIGlzIHRoZSBjb21wbGV0aW9uIHJlY29yZCwgd2hpY2hcbiAgLy8gaGFzIGEgc3RhYmxlIHNoYXBlIGFuZCBzbyBob3BlZnVsbHkgc2hvdWxkIGJlIGNoZWFwIHRvIGFsbG9jYXRlLlxuICBmdW5jdGlvbiB0cnlDYXRjaChmbiwgb2JqLCBhcmcpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIHsgdHlwZTogXCJub3JtYWxcIiwgYXJnOiBmbi5jYWxsKG9iaiwgYXJnKSB9O1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcmV0dXJuIHsgdHlwZTogXCJ0aHJvd1wiLCBhcmc6IGVyciB9O1xuICAgIH1cbiAgfVxuXG4gIHZhciBHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0ID0gXCJzdXNwZW5kZWRTdGFydFwiO1xuICB2YXIgR2VuU3RhdGVTdXNwZW5kZWRZaWVsZCA9IFwic3VzcGVuZGVkWWllbGRcIjtcbiAgdmFyIEdlblN0YXRlRXhlY3V0aW5nID0gXCJleGVjdXRpbmdcIjtcbiAgdmFyIEdlblN0YXRlQ29tcGxldGVkID0gXCJjb21wbGV0ZWRcIjtcblxuICAvLyBSZXR1cm5pbmcgdGhpcyBvYmplY3QgZnJvbSB0aGUgaW5uZXJGbiBoYXMgdGhlIHNhbWUgZWZmZWN0IGFzXG4gIC8vIGJyZWFraW5nIG91dCBvZiB0aGUgZGlzcGF0Y2ggc3dpdGNoIHN0YXRlbWVudC5cbiAgdmFyIENvbnRpbnVlU2VudGluZWwgPSB7fTtcblxuICAvLyBEdW1teSBjb25zdHJ1Y3RvciBmdW5jdGlvbnMgdGhhdCB3ZSB1c2UgYXMgdGhlIC5jb25zdHJ1Y3RvciBhbmRcbiAgLy8gLmNvbnN0cnVjdG9yLnByb3RvdHlwZSBwcm9wZXJ0aWVzIGZvciBmdW5jdGlvbnMgdGhhdCByZXR1cm4gR2VuZXJhdG9yXG4gIC8vIG9iamVjdHMuIEZvciBmdWxsIHNwZWMgY29tcGxpYW5jZSwgeW91IG1heSB3aXNoIHRvIGNvbmZpZ3VyZSB5b3VyXG4gIC8vIG1pbmlmaWVyIG5vdCB0byBtYW5nbGUgdGhlIG5hbWVzIG9mIHRoZXNlIHR3byBmdW5jdGlvbnMuXG4gIGZ1bmN0aW9uIEdlbmVyYXRvcigpIHt9XG4gIGZ1bmN0aW9uIEdlbmVyYXRvckZ1bmN0aW9uKCkge31cbiAgZnVuY3Rpb24gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGUoKSB7fVxuXG4gIHZhciBHcCA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLnByb3RvdHlwZSA9IEdlbmVyYXRvci5wcm90b3R5cGU7XG4gIEdlbmVyYXRvckZ1bmN0aW9uLnByb3RvdHlwZSA9IEdwLmNvbnN0cnVjdG9yID0gR2VuZXJhdG9yRnVuY3Rpb25Qcm90b3R5cGU7XG4gIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlLmNvbnN0cnVjdG9yID0gR2VuZXJhdG9yRnVuY3Rpb247XG4gIEdlbmVyYXRvckZ1bmN0aW9uLmRpc3BsYXlOYW1lID0gXCJHZW5lcmF0b3JGdW5jdGlvblwiO1xuXG4gIC8vIEhlbHBlciBmb3IgZGVmaW5pbmcgdGhlIC5uZXh0LCAudGhyb3csIGFuZCAucmV0dXJuIG1ldGhvZHMgb2YgdGhlXG4gIC8vIEl0ZXJhdG9yIGludGVyZmFjZSBpbiB0ZXJtcyBvZiBhIHNpbmdsZSAuX2ludm9rZSBtZXRob2QuXG4gIGZ1bmN0aW9uIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhwcm90b3R5cGUpIHtcbiAgICBbXCJuZXh0XCIsIFwidGhyb3dcIiwgXCJyZXR1cm5cIl0uZm9yRWFjaChmdW5jdGlvbihtZXRob2QpIHtcbiAgICAgIHByb3RvdHlwZVttZXRob2RdID0gZnVuY3Rpb24oYXJnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnZva2UobWV0aG9kLCBhcmcpO1xuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuXG4gIHJ1bnRpbWUuaXNHZW5lcmF0b3JGdW5jdGlvbiA9IGZ1bmN0aW9uKGdlbkZ1bikge1xuICAgIHZhciBjdG9yID0gdHlwZW9mIGdlbkZ1biA9PT0gXCJmdW5jdGlvblwiICYmIGdlbkZ1bi5jb25zdHJ1Y3RvcjtcbiAgICByZXR1cm4gY3RvclxuICAgICAgPyBjdG9yID09PSBHZW5lcmF0b3JGdW5jdGlvbiB8fFxuICAgICAgICAvLyBGb3IgdGhlIG5hdGl2ZSBHZW5lcmF0b3JGdW5jdGlvbiBjb25zdHJ1Y3RvciwgdGhlIGJlc3Qgd2UgY2FuXG4gICAgICAgIC8vIGRvIGlzIHRvIGNoZWNrIGl0cyAubmFtZSBwcm9wZXJ0eS5cbiAgICAgICAgKGN0b3IuZGlzcGxheU5hbWUgfHwgY3Rvci5uYW1lKSA9PT0gXCJHZW5lcmF0b3JGdW5jdGlvblwiXG4gICAgICA6IGZhbHNlO1xuICB9O1xuXG4gIHJ1bnRpbWUubWFyayA9IGZ1bmN0aW9uKGdlbkZ1bikge1xuICAgIGlmIChPYmplY3Quc2V0UHJvdG90eXBlT2YpIHtcbiAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZihnZW5GdW4sIEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZ2VuRnVuLl9fcHJvdG9fXyA9IEdlbmVyYXRvckZ1bmN0aW9uUHJvdG90eXBlO1xuICAgIH1cbiAgICBnZW5GdW4ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShHcCk7XG4gICAgcmV0dXJuIGdlbkZ1bjtcbiAgfTtcblxuICAvLyBXaXRoaW4gdGhlIGJvZHkgb2YgYW55IGFzeW5jIGZ1bmN0aW9uLCBgYXdhaXQgeGAgaXMgdHJhbnNmb3JtZWQgdG9cbiAgLy8gYHlpZWxkIHJlZ2VuZXJhdG9yUnVudGltZS5hd3JhcCh4KWAsIHNvIHRoYXQgdGhlIHJ1bnRpbWUgY2FuIHRlc3RcbiAgLy8gYHZhbHVlIGluc3RhbmNlb2YgQXdhaXRBcmd1bWVudGAgdG8gZGV0ZXJtaW5lIGlmIHRoZSB5aWVsZGVkIHZhbHVlIGlzXG4gIC8vIG1lYW50IHRvIGJlIGF3YWl0ZWQuIFNvbWUgbWF5IGNvbnNpZGVyIHRoZSBuYW1lIG9mIHRoaXMgbWV0aG9kIHRvb1xuICAvLyBjdXRlc3ksIGJ1dCB0aGV5IGFyZSBjdXJtdWRnZW9ucy5cbiAgcnVudGltZS5hd3JhcCA9IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiBuZXcgQXdhaXRBcmd1bWVudChhcmcpO1xuICB9O1xuXG4gIGZ1bmN0aW9uIEF3YWl0QXJndW1lbnQoYXJnKSB7XG4gICAgdGhpcy5hcmcgPSBhcmc7XG4gIH1cblxuICBmdW5jdGlvbiBBc3luY0l0ZXJhdG9yKGdlbmVyYXRvcikge1xuICAgIC8vIFRoaXMgaW52b2tlIGZ1bmN0aW9uIGlzIHdyaXR0ZW4gaW4gYSBzdHlsZSB0aGF0IGFzc3VtZXMgc29tZVxuICAgIC8vIGNhbGxpbmcgZnVuY3Rpb24gKG9yIFByb21pc2UpIHdpbGwgaGFuZGxlIGV4Y2VwdGlvbnMuXG4gICAgZnVuY3Rpb24gaW52b2tlKG1ldGhvZCwgYXJnKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gZ2VuZXJhdG9yW21ldGhvZF0oYXJnKTtcbiAgICAgIHZhciB2YWx1ZSA9IHJlc3VsdC52YWx1ZTtcbiAgICAgIHJldHVybiB2YWx1ZSBpbnN0YW5jZW9mIEF3YWl0QXJndW1lbnRcbiAgICAgICAgPyBQcm9taXNlLnJlc29sdmUodmFsdWUuYXJnKS50aGVuKGludm9rZU5leHQsIGludm9rZVRocm93KVxuICAgICAgICA6IFByb21pc2UucmVzb2x2ZSh2YWx1ZSkudGhlbihmdW5jdGlvbih1bndyYXBwZWQpIHtcbiAgICAgICAgICAgIC8vIFdoZW4gYSB5aWVsZGVkIFByb21pc2UgaXMgcmVzb2x2ZWQsIGl0cyBmaW5hbCB2YWx1ZSBiZWNvbWVzXG4gICAgICAgICAgICAvLyB0aGUgLnZhbHVlIG9mIHRoZSBQcm9taXNlPHt2YWx1ZSxkb25lfT4gcmVzdWx0IGZvciB0aGVcbiAgICAgICAgICAgIC8vIGN1cnJlbnQgaXRlcmF0aW9uLiBJZiB0aGUgUHJvbWlzZSBpcyByZWplY3RlZCwgaG93ZXZlciwgdGhlXG4gICAgICAgICAgICAvLyByZXN1bHQgZm9yIHRoaXMgaXRlcmF0aW9uIHdpbGwgYmUgcmVqZWN0ZWQgd2l0aCB0aGUgc2FtZVxuICAgICAgICAgICAgLy8gcmVhc29uLiBOb3RlIHRoYXQgcmVqZWN0aW9ucyBvZiB5aWVsZGVkIFByb21pc2VzIGFyZSBub3RcbiAgICAgICAgICAgIC8vIHRocm93biBiYWNrIGludG8gdGhlIGdlbmVyYXRvciBmdW5jdGlvbiwgYXMgaXMgdGhlIGNhc2VcbiAgICAgICAgICAgIC8vIHdoZW4gYW4gYXdhaXRlZCBQcm9taXNlIGlzIHJlamVjdGVkLiBUaGlzIGRpZmZlcmVuY2UgaW5cbiAgICAgICAgICAgIC8vIGJlaGF2aW9yIGJldHdlZW4geWllbGQgYW5kIGF3YWl0IGlzIGltcG9ydGFudCwgYmVjYXVzZSBpdFxuICAgICAgICAgICAgLy8gYWxsb3dzIHRoZSBjb25zdW1lciB0byBkZWNpZGUgd2hhdCB0byBkbyB3aXRoIHRoZSB5aWVsZGVkXG4gICAgICAgICAgICAvLyByZWplY3Rpb24gKHN3YWxsb3cgaXQgYW5kIGNvbnRpbnVlLCBtYW51YWxseSAudGhyb3cgaXQgYmFja1xuICAgICAgICAgICAgLy8gaW50byB0aGUgZ2VuZXJhdG9yLCBhYmFuZG9uIGl0ZXJhdGlvbiwgd2hhdGV2ZXIpLiBXaXRoXG4gICAgICAgICAgICAvLyBhd2FpdCwgYnkgY29udHJhc3QsIHRoZXJlIGlzIG5vIG9wcG9ydHVuaXR5IHRvIGV4YW1pbmUgdGhlXG4gICAgICAgICAgICAvLyByZWplY3Rpb24gcmVhc29uIG91dHNpZGUgdGhlIGdlbmVyYXRvciBmdW5jdGlvbiwgc28gdGhlXG4gICAgICAgICAgICAvLyBvbmx5IG9wdGlvbiBpcyB0byB0aHJvdyBpdCBmcm9tIHRoZSBhd2FpdCBleHByZXNzaW9uLCBhbmRcbiAgICAgICAgICAgIC8vIGxldCB0aGUgZ2VuZXJhdG9yIGZ1bmN0aW9uIGhhbmRsZSB0aGUgZXhjZXB0aW9uLlxuICAgICAgICAgICAgcmVzdWx0LnZhbHVlID0gdW53cmFwcGVkO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIHByb2Nlc3MgPT09IFwib2JqZWN0XCIgJiYgcHJvY2Vzcy5kb21haW4pIHtcbiAgICAgIGludm9rZSA9IHByb2Nlc3MuZG9tYWluLmJpbmQoaW52b2tlKTtcbiAgICB9XG5cbiAgICB2YXIgaW52b2tlTmV4dCA9IGludm9rZS5iaW5kKGdlbmVyYXRvciwgXCJuZXh0XCIpO1xuICAgIHZhciBpbnZva2VUaHJvdyA9IGludm9rZS5iaW5kKGdlbmVyYXRvciwgXCJ0aHJvd1wiKTtcbiAgICB2YXIgaW52b2tlUmV0dXJuID0gaW52b2tlLmJpbmQoZ2VuZXJhdG9yLCBcInJldHVyblwiKTtcbiAgICB2YXIgcHJldmlvdXNQcm9taXNlO1xuXG4gICAgZnVuY3Rpb24gZW5xdWV1ZShtZXRob2QsIGFyZykge1xuICAgICAgZnVuY3Rpb24gY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcoKSB7XG4gICAgICAgIHJldHVybiBpbnZva2UobWV0aG9kLCBhcmcpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gcHJldmlvdXNQcm9taXNlID1cbiAgICAgICAgLy8gSWYgZW5xdWV1ZSBoYXMgYmVlbiBjYWxsZWQgYmVmb3JlLCB0aGVuIHdlIHdhbnQgdG8gd2FpdCB1bnRpbFxuICAgICAgICAvLyBhbGwgcHJldmlvdXMgUHJvbWlzZXMgaGF2ZSBiZWVuIHJlc29sdmVkIGJlZm9yZSBjYWxsaW5nIGludm9rZSxcbiAgICAgICAgLy8gc28gdGhhdCByZXN1bHRzIGFyZSBhbHdheXMgZGVsaXZlcmVkIGluIHRoZSBjb3JyZWN0IG9yZGVyLiBJZlxuICAgICAgICAvLyBlbnF1ZXVlIGhhcyBub3QgYmVlbiBjYWxsZWQgYmVmb3JlLCB0aGVuIGl0IGlzIGltcG9ydGFudCB0b1xuICAgICAgICAvLyBjYWxsIGludm9rZSBpbW1lZGlhdGVseSwgd2l0aG91dCB3YWl0aW5nIG9uIGEgY2FsbGJhY2sgdG8gZmlyZSxcbiAgICAgICAgLy8gc28gdGhhdCB0aGUgYXN5bmMgZ2VuZXJhdG9yIGZ1bmN0aW9uIGhhcyB0aGUgb3Bwb3J0dW5pdHkgdG8gZG9cbiAgICAgICAgLy8gYW55IG5lY2Vzc2FyeSBzZXR1cCBpbiBhIHByZWRpY3RhYmxlIHdheS4gVGhpcyBwcmVkaWN0YWJpbGl0eVxuICAgICAgICAvLyBpcyB3aHkgdGhlIFByb21pc2UgY29uc3RydWN0b3Igc3luY2hyb25vdXNseSBpbnZva2VzIGl0c1xuICAgICAgICAvLyBleGVjdXRvciBjYWxsYmFjaywgYW5kIHdoeSBhc3luYyBmdW5jdGlvbnMgc3luY2hyb25vdXNseVxuICAgICAgICAvLyBleGVjdXRlIGNvZGUgYmVmb3JlIHRoZSBmaXJzdCBhd2FpdC4gU2luY2Ugd2UgaW1wbGVtZW50IHNpbXBsZVxuICAgICAgICAvLyBhc3luYyBmdW5jdGlvbnMgaW4gdGVybXMgb2YgYXN5bmMgZ2VuZXJhdG9ycywgaXQgaXMgZXNwZWNpYWxseVxuICAgICAgICAvLyBpbXBvcnRhbnQgdG8gZ2V0IHRoaXMgcmlnaHQsIGV2ZW4gdGhvdWdoIGl0IHJlcXVpcmVzIGNhcmUuXG4gICAgICAgIHByZXZpb3VzUHJvbWlzZSA/IHByZXZpb3VzUHJvbWlzZS50aGVuKFxuICAgICAgICAgIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnLFxuICAgICAgICAgIC8vIEF2b2lkIHByb3BhZ2F0aW5nIGZhaWx1cmVzIHRvIFByb21pc2VzIHJldHVybmVkIGJ5IGxhdGVyXG4gICAgICAgICAgLy8gaW52b2NhdGlvbnMgb2YgdGhlIGl0ZXJhdG9yLlxuICAgICAgICAgIGNhbGxJbnZva2VXaXRoTWV0aG9kQW5kQXJnXG4gICAgICAgICkgOiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICAgIHJlc29sdmUoY2FsbEludm9rZVdpdGhNZXRob2RBbmRBcmcoKSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIERlZmluZSB0aGUgdW5pZmllZCBoZWxwZXIgbWV0aG9kIHRoYXQgaXMgdXNlZCB0byBpbXBsZW1lbnQgLm5leHQsXG4gICAgLy8gLnRocm93LCBhbmQgLnJldHVybiAoc2VlIGRlZmluZUl0ZXJhdG9yTWV0aG9kcykuXG4gICAgdGhpcy5faW52b2tlID0gZW5xdWV1ZTtcbiAgfVxuXG4gIGRlZmluZUl0ZXJhdG9yTWV0aG9kcyhBc3luY0l0ZXJhdG9yLnByb3RvdHlwZSk7XG5cbiAgLy8gTm90ZSB0aGF0IHNpbXBsZSBhc3luYyBmdW5jdGlvbnMgYXJlIGltcGxlbWVudGVkIG9uIHRvcCBvZlxuICAvLyBBc3luY0l0ZXJhdG9yIG9iamVjdHM7IHRoZXkganVzdCByZXR1cm4gYSBQcm9taXNlIGZvciB0aGUgdmFsdWUgb2ZcbiAgLy8gdGhlIGZpbmFsIHJlc3VsdCBwcm9kdWNlZCBieSB0aGUgaXRlcmF0b3IuXG4gIHJ1bnRpbWUuYXN5bmMgPSBmdW5jdGlvbihpbm5lckZuLCBvdXRlckZuLCBzZWxmLCB0cnlMb2NzTGlzdCkge1xuICAgIHZhciBpdGVyID0gbmV3IEFzeW5jSXRlcmF0b3IoXG4gICAgICB3cmFwKGlubmVyRm4sIG91dGVyRm4sIHNlbGYsIHRyeUxvY3NMaXN0KVxuICAgICk7XG5cbiAgICByZXR1cm4gcnVudGltZS5pc0dlbmVyYXRvckZ1bmN0aW9uKG91dGVyRm4pXG4gICAgICA/IGl0ZXIgLy8gSWYgb3V0ZXJGbiBpcyBhIGdlbmVyYXRvciwgcmV0dXJuIHRoZSBmdWxsIGl0ZXJhdG9yLlxuICAgICAgOiBpdGVyLm5leHQoKS50aGVuKGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICAgIHJldHVybiByZXN1bHQuZG9uZSA/IHJlc3VsdC52YWx1ZSA6IGl0ZXIubmV4dCgpO1xuICAgICAgICB9KTtcbiAgfTtcblxuICBmdW5jdGlvbiBtYWtlSW52b2tlTWV0aG9kKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpIHtcbiAgICB2YXIgc3RhdGUgPSBHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0O1xuXG4gICAgcmV0dXJuIGZ1bmN0aW9uIGludm9rZShtZXRob2QsIGFyZykge1xuICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZUV4ZWN1dGluZykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBydW5uaW5nXCIpO1xuICAgICAgfVxuXG4gICAgICBpZiAoc3RhdGUgPT09IEdlblN0YXRlQ29tcGxldGVkKSB7XG4gICAgICAgIGlmIChtZXRob2QgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgIHRocm93IGFyZztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEJlIGZvcmdpdmluZywgcGVyIDI1LjMuMy4zLjMgb2YgdGhlIHNwZWM6XG4gICAgICAgIC8vIGh0dHBzOi8vcGVvcGxlLm1vemlsbGEub3JnL35qb3JlbmRvcmZmL2VzNi1kcmFmdC5odG1sI3NlYy1nZW5lcmF0b3JyZXN1bWVcbiAgICAgICAgcmV0dXJuIGRvbmVSZXN1bHQoKTtcbiAgICAgIH1cblxuICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgdmFyIGRlbGVnYXRlID0gY29udGV4dC5kZWxlZ2F0ZTtcbiAgICAgICAgaWYgKGRlbGVnYXRlKSB7XG4gICAgICAgICAgaWYgKG1ldGhvZCA9PT0gXCJyZXR1cm5cIiB8fFxuICAgICAgICAgICAgICAobWV0aG9kID09PSBcInRocm93XCIgJiYgZGVsZWdhdGUuaXRlcmF0b3JbbWV0aG9kXSA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICAgICAgLy8gQSByZXR1cm4gb3IgdGhyb3cgKHdoZW4gdGhlIGRlbGVnYXRlIGl0ZXJhdG9yIGhhcyBubyB0aHJvd1xuICAgICAgICAgICAgLy8gbWV0aG9kKSBhbHdheXMgdGVybWluYXRlcyB0aGUgeWllbGQqIGxvb3AuXG4gICAgICAgICAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcblxuICAgICAgICAgICAgLy8gSWYgdGhlIGRlbGVnYXRlIGl0ZXJhdG9yIGhhcyBhIHJldHVybiBtZXRob2QsIGdpdmUgaXQgYVxuICAgICAgICAgICAgLy8gY2hhbmNlIHRvIGNsZWFuIHVwLlxuICAgICAgICAgICAgdmFyIHJldHVybk1ldGhvZCA9IGRlbGVnYXRlLml0ZXJhdG9yW1wicmV0dXJuXCJdO1xuICAgICAgICAgICAgaWYgKHJldHVybk1ldGhvZCkge1xuICAgICAgICAgICAgICB2YXIgcmVjb3JkID0gdHJ5Q2F0Y2gocmV0dXJuTWV0aG9kLCBkZWxlZ2F0ZS5pdGVyYXRvciwgYXJnKTtcbiAgICAgICAgICAgICAgaWYgKHJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgcmV0dXJuIG1ldGhvZCB0aHJldyBhbiBleGNlcHRpb24sIGxldCB0aGF0XG4gICAgICAgICAgICAgICAgLy8gZXhjZXB0aW9uIHByZXZhaWwgb3ZlciB0aGUgb3JpZ2luYWwgcmV0dXJuIG9yIHRocm93LlxuICAgICAgICAgICAgICAgIG1ldGhvZCA9IFwidGhyb3dcIjtcbiAgICAgICAgICAgICAgICBhcmcgPSByZWNvcmQuYXJnO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChtZXRob2QgPT09IFwicmV0dXJuXCIpIHtcbiAgICAgICAgICAgICAgLy8gQ29udGludWUgd2l0aCB0aGUgb3V0ZXIgcmV0dXJuLCBub3cgdGhhdCB0aGUgZGVsZWdhdGVcbiAgICAgICAgICAgICAgLy8gaXRlcmF0b3IgaGFzIGJlZW4gdGVybWluYXRlZC5cbiAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKFxuICAgICAgICAgICAgZGVsZWdhdGUuaXRlcmF0b3JbbWV0aG9kXSxcbiAgICAgICAgICAgIGRlbGVnYXRlLml0ZXJhdG9yLFxuICAgICAgICAgICAgYXJnXG4gICAgICAgICAgKTtcblxuICAgICAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcblxuICAgICAgICAgICAgLy8gTGlrZSByZXR1cm5pbmcgZ2VuZXJhdG9yLnRocm93KHVuY2F1Z2h0KSwgYnV0IHdpdGhvdXQgdGhlXG4gICAgICAgICAgICAvLyBvdmVyaGVhZCBvZiBhbiBleHRyYSBmdW5jdGlvbiBjYWxsLlxuICAgICAgICAgICAgbWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgICAgICAgYXJnID0gcmVjb3JkLmFyZztcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIC8vIERlbGVnYXRlIGdlbmVyYXRvciByYW4gYW5kIGhhbmRsZWQgaXRzIG93biBleGNlcHRpb25zIHNvXG4gICAgICAgICAgLy8gcmVnYXJkbGVzcyBvZiB3aGF0IHRoZSBtZXRob2Qgd2FzLCB3ZSBjb250aW51ZSBhcyBpZiBpdCBpc1xuICAgICAgICAgIC8vIFwibmV4dFwiIHdpdGggYW4gdW5kZWZpbmVkIGFyZy5cbiAgICAgICAgICBtZXRob2QgPSBcIm5leHRcIjtcbiAgICAgICAgICBhcmcgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgICB2YXIgaW5mbyA9IHJlY29yZC5hcmc7XG4gICAgICAgICAgaWYgKGluZm8uZG9uZSkge1xuICAgICAgICAgICAgY29udGV4dFtkZWxlZ2F0ZS5yZXN1bHROYW1lXSA9IGluZm8udmFsdWU7XG4gICAgICAgICAgICBjb250ZXh0Lm5leHQgPSBkZWxlZ2F0ZS5uZXh0TG9jO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdGF0ZSA9IEdlblN0YXRlU3VzcGVuZGVkWWllbGQ7XG4gICAgICAgICAgICByZXR1cm4gaW5mbztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBjb250ZXh0LmRlbGVnYXRlID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChtZXRob2QgPT09IFwibmV4dFwiKSB7XG4gICAgICAgICAgY29udGV4dC5fc2VudCA9IGFyZztcblxuICAgICAgICAgIGlmIChzdGF0ZSA9PT0gR2VuU3RhdGVTdXNwZW5kZWRZaWVsZCkge1xuICAgICAgICAgICAgY29udGV4dC5zZW50ID0gYXJnO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb250ZXh0LnNlbnQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKG1ldGhvZCA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgaWYgKHN0YXRlID09PSBHZW5TdGF0ZVN1c3BlbmRlZFN0YXJ0KSB7XG4gICAgICAgICAgICBzdGF0ZSA9IEdlblN0YXRlQ29tcGxldGVkO1xuICAgICAgICAgICAgdGhyb3cgYXJnO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChjb250ZXh0LmRpc3BhdGNoRXhjZXB0aW9uKGFyZykpIHtcbiAgICAgICAgICAgIC8vIElmIHRoZSBkaXNwYXRjaGVkIGV4Y2VwdGlvbiB3YXMgY2F1Z2h0IGJ5IGEgY2F0Y2ggYmxvY2ssXG4gICAgICAgICAgICAvLyB0aGVuIGxldCB0aGF0IGNhdGNoIGJsb2NrIGhhbmRsZSB0aGUgZXhjZXB0aW9uIG5vcm1hbGx5LlxuICAgICAgICAgICAgbWV0aG9kID0gXCJuZXh0XCI7XG4gICAgICAgICAgICBhcmcgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgfVxuXG4gICAgICAgIH0gZWxzZSBpZiAobWV0aG9kID09PSBcInJldHVyblwiKSB7XG4gICAgICAgICAgY29udGV4dC5hYnJ1cHQoXCJyZXR1cm5cIiwgYXJnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHN0YXRlID0gR2VuU3RhdGVFeGVjdXRpbmc7XG5cbiAgICAgICAgdmFyIHJlY29yZCA9IHRyeUNhdGNoKGlubmVyRm4sIHNlbGYsIGNvbnRleHQpO1xuICAgICAgICBpZiAocmVjb3JkLnR5cGUgPT09IFwibm9ybWFsXCIpIHtcbiAgICAgICAgICAvLyBJZiBhbiBleGNlcHRpb24gaXMgdGhyb3duIGZyb20gaW5uZXJGbiwgd2UgbGVhdmUgc3RhdGUgPT09XG4gICAgICAgICAgLy8gR2VuU3RhdGVFeGVjdXRpbmcgYW5kIGxvb3AgYmFjayBmb3IgYW5vdGhlciBpbnZvY2F0aW9uLlxuICAgICAgICAgIHN0YXRlID0gY29udGV4dC5kb25lXG4gICAgICAgICAgICA/IEdlblN0YXRlQ29tcGxldGVkXG4gICAgICAgICAgICA6IEdlblN0YXRlU3VzcGVuZGVkWWllbGQ7XG5cbiAgICAgICAgICB2YXIgaW5mbyA9IHtcbiAgICAgICAgICAgIHZhbHVlOiByZWNvcmQuYXJnLFxuICAgICAgICAgICAgZG9uZTogY29udGV4dC5kb25lXG4gICAgICAgICAgfTtcblxuICAgICAgICAgIGlmIChyZWNvcmQuYXJnID09PSBDb250aW51ZVNlbnRpbmVsKSB7XG4gICAgICAgICAgICBpZiAoY29udGV4dC5kZWxlZ2F0ZSAmJiBtZXRob2QgPT09IFwibmV4dFwiKSB7XG4gICAgICAgICAgICAgIC8vIERlbGliZXJhdGVseSBmb3JnZXQgdGhlIGxhc3Qgc2VudCB2YWx1ZSBzbyB0aGF0IHdlIGRvbid0XG4gICAgICAgICAgICAgIC8vIGFjY2lkZW50YWxseSBwYXNzIGl0IG9uIHRvIHRoZSBkZWxlZ2F0ZS5cbiAgICAgICAgICAgICAgYXJnID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gaW5mbztcbiAgICAgICAgICB9XG5cbiAgICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgc3RhdGUgPSBHZW5TdGF0ZUNvbXBsZXRlZDtcbiAgICAgICAgICAvLyBEaXNwYXRjaCB0aGUgZXhjZXB0aW9uIGJ5IGxvb3BpbmcgYmFjayBhcm91bmQgdG8gdGhlXG4gICAgICAgICAgLy8gY29udGV4dC5kaXNwYXRjaEV4Y2VwdGlvbihhcmcpIGNhbGwgYWJvdmUuXG4gICAgICAgICAgbWV0aG9kID0gXCJ0aHJvd1wiO1xuICAgICAgICAgIGFyZyA9IHJlY29yZC5hcmc7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLy8gRGVmaW5lIEdlbmVyYXRvci5wcm90b3R5cGUue25leHQsdGhyb3cscmV0dXJufSBpbiB0ZXJtcyBvZiB0aGVcbiAgLy8gdW5pZmllZCAuX2ludm9rZSBoZWxwZXIgbWV0aG9kLlxuICBkZWZpbmVJdGVyYXRvck1ldGhvZHMoR3ApO1xuXG4gIEdwW2l0ZXJhdG9yU3ltYm9sXSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIEdwLnRvU3RyaW5nID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIFwiW29iamVjdCBHZW5lcmF0b3JdXCI7XG4gIH07XG5cbiAgZnVuY3Rpb24gcHVzaFRyeUVudHJ5KGxvY3MpIHtcbiAgICB2YXIgZW50cnkgPSB7IHRyeUxvYzogbG9jc1swXSB9O1xuXG4gICAgaWYgKDEgaW4gbG9jcykge1xuICAgICAgZW50cnkuY2F0Y2hMb2MgPSBsb2NzWzFdO1xuICAgIH1cblxuICAgIGlmICgyIGluIGxvY3MpIHtcbiAgICAgIGVudHJ5LmZpbmFsbHlMb2MgPSBsb2NzWzJdO1xuICAgICAgZW50cnkuYWZ0ZXJMb2MgPSBsb2NzWzNdO1xuICAgIH1cblxuICAgIHRoaXMudHJ5RW50cmllcy5wdXNoKGVudHJ5KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc2V0VHJ5RW50cnkoZW50cnkpIHtcbiAgICB2YXIgcmVjb3JkID0gZW50cnkuY29tcGxldGlvbiB8fCB7fTtcbiAgICByZWNvcmQudHlwZSA9IFwibm9ybWFsXCI7XG4gICAgZGVsZXRlIHJlY29yZC5hcmc7XG4gICAgZW50cnkuY29tcGxldGlvbiA9IHJlY29yZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIENvbnRleHQodHJ5TG9jc0xpc3QpIHtcbiAgICAvLyBUaGUgcm9vdCBlbnRyeSBvYmplY3QgKGVmZmVjdGl2ZWx5IGEgdHJ5IHN0YXRlbWVudCB3aXRob3V0IGEgY2F0Y2hcbiAgICAvLyBvciBhIGZpbmFsbHkgYmxvY2spIGdpdmVzIHVzIGEgcGxhY2UgdG8gc3RvcmUgdmFsdWVzIHRocm93biBmcm9tXG4gICAgLy8gbG9jYXRpb25zIHdoZXJlIHRoZXJlIGlzIG5vIGVuY2xvc2luZyB0cnkgc3RhdGVtZW50LlxuICAgIHRoaXMudHJ5RW50cmllcyA9IFt7IHRyeUxvYzogXCJyb290XCIgfV07XG4gICAgdHJ5TG9jc0xpc3QuZm9yRWFjaChwdXNoVHJ5RW50cnksIHRoaXMpO1xuICAgIHRoaXMucmVzZXQodHJ1ZSk7XG4gIH1cblxuICBydW50aW1lLmtleXMgPSBmdW5jdGlvbihvYmplY3QpIHtcbiAgICB2YXIga2V5cyA9IFtdO1xuICAgIGZvciAodmFyIGtleSBpbiBvYmplY3QpIHtcbiAgICAgIGtleXMucHVzaChrZXkpO1xuICAgIH1cbiAgICBrZXlzLnJldmVyc2UoKTtcblxuICAgIC8vIFJhdGhlciB0aGFuIHJldHVybmluZyBhbiBvYmplY3Qgd2l0aCBhIG5leHQgbWV0aG9kLCB3ZSBrZWVwXG4gICAgLy8gdGhpbmdzIHNpbXBsZSBhbmQgcmV0dXJuIHRoZSBuZXh0IGZ1bmN0aW9uIGl0c2VsZi5cbiAgICByZXR1cm4gZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgIHdoaWxlIChrZXlzLmxlbmd0aCkge1xuICAgICAgICB2YXIga2V5ID0ga2V5cy5wb3AoKTtcbiAgICAgICAgaWYgKGtleSBpbiBvYmplY3QpIHtcbiAgICAgICAgICBuZXh0LnZhbHVlID0ga2V5O1xuICAgICAgICAgIG5leHQuZG9uZSA9IGZhbHNlO1xuICAgICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFRvIGF2b2lkIGNyZWF0aW5nIGFuIGFkZGl0aW9uYWwgb2JqZWN0LCB3ZSBqdXN0IGhhbmcgdGhlIC52YWx1ZVxuICAgICAgLy8gYW5kIC5kb25lIHByb3BlcnRpZXMgb2ZmIHRoZSBuZXh0IGZ1bmN0aW9uIG9iamVjdCBpdHNlbGYuIFRoaXNcbiAgICAgIC8vIGFsc28gZW5zdXJlcyB0aGF0IHRoZSBtaW5pZmllciB3aWxsIG5vdCBhbm9ueW1pemUgdGhlIGZ1bmN0aW9uLlxuICAgICAgbmV4dC5kb25lID0gdHJ1ZTtcbiAgICAgIHJldHVybiBuZXh0O1xuICAgIH07XG4gIH07XG5cbiAgZnVuY3Rpb24gdmFsdWVzKGl0ZXJhYmxlKSB7XG4gICAgaWYgKGl0ZXJhYmxlKSB7XG4gICAgICB2YXIgaXRlcmF0b3JNZXRob2QgPSBpdGVyYWJsZVtpdGVyYXRvclN5bWJvbF07XG4gICAgICBpZiAoaXRlcmF0b3JNZXRob2QpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhdG9yTWV0aG9kLmNhbGwoaXRlcmFibGUpO1xuICAgICAgfVxuXG4gICAgICBpZiAodHlwZW9mIGl0ZXJhYmxlLm5leHQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICByZXR1cm4gaXRlcmFibGU7XG4gICAgICB9XG5cbiAgICAgIGlmICghaXNOYU4oaXRlcmFibGUubGVuZ3RoKSkge1xuICAgICAgICB2YXIgaSA9IC0xLCBuZXh0ID0gZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgICAgICB3aGlsZSAoKytpIDwgaXRlcmFibGUubGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAoaGFzT3duLmNhbGwoaXRlcmFibGUsIGkpKSB7XG4gICAgICAgICAgICAgIG5leHQudmFsdWUgPSBpdGVyYWJsZVtpXTtcbiAgICAgICAgICAgICAgbmV4dC5kb25lID0gZmFsc2U7XG4gICAgICAgICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIG5leHQudmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgbmV4dC5kb25lID0gdHJ1ZTtcblxuICAgICAgICAgIHJldHVybiBuZXh0O1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBuZXh0Lm5leHQgPSBuZXh0O1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFJldHVybiBhbiBpdGVyYXRvciB3aXRoIG5vIHZhbHVlcy5cbiAgICByZXR1cm4geyBuZXh0OiBkb25lUmVzdWx0IH07XG4gIH1cbiAgcnVudGltZS52YWx1ZXMgPSB2YWx1ZXM7XG5cbiAgZnVuY3Rpb24gZG9uZVJlc3VsdCgpIHtcbiAgICByZXR1cm4geyB2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlIH07XG4gIH1cblxuICBDb250ZXh0LnByb3RvdHlwZSA9IHtcbiAgICBjb25zdHJ1Y3RvcjogQ29udGV4dCxcblxuICAgIHJlc2V0OiBmdW5jdGlvbihza2lwVGVtcFJlc2V0KSB7XG4gICAgICB0aGlzLnByZXYgPSAwO1xuICAgICAgdGhpcy5uZXh0ID0gMDtcbiAgICAgIHRoaXMuc2VudCA9IHVuZGVmaW5lZDtcbiAgICAgIHRoaXMuZG9uZSA9IGZhbHNlO1xuICAgICAgdGhpcy5kZWxlZ2F0ZSA9IG51bGw7XG5cbiAgICAgIHRoaXMudHJ5RW50cmllcy5mb3JFYWNoKHJlc2V0VHJ5RW50cnkpO1xuXG4gICAgICBpZiAoIXNraXBUZW1wUmVzZXQpIHtcbiAgICAgICAgZm9yICh2YXIgbmFtZSBpbiB0aGlzKSB7XG4gICAgICAgICAgLy8gTm90IHN1cmUgYWJvdXQgdGhlIG9wdGltYWwgb3JkZXIgb2YgdGhlc2UgY29uZGl0aW9uczpcbiAgICAgICAgICBpZiAobmFtZS5jaGFyQXQoMCkgPT09IFwidFwiICYmXG4gICAgICAgICAgICAgIGhhc093bi5jYWxsKHRoaXMsIG5hbWUpICYmXG4gICAgICAgICAgICAgICFpc05hTigrbmFtZS5zbGljZSgxKSkpIHtcbiAgICAgICAgICAgIHRoaXNbbmFtZV0gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcblxuICAgIHN0b3A6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy5kb25lID0gdHJ1ZTtcblxuICAgICAgdmFyIHJvb3RFbnRyeSA9IHRoaXMudHJ5RW50cmllc1swXTtcbiAgICAgIHZhciByb290UmVjb3JkID0gcm9vdEVudHJ5LmNvbXBsZXRpb247XG4gICAgICBpZiAocm9vdFJlY29yZC50eXBlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgdGhyb3cgcm9vdFJlY29yZC5hcmc7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzLnJ2YWw7XG4gICAgfSxcblxuICAgIGRpc3BhdGNoRXhjZXB0aW9uOiBmdW5jdGlvbihleGNlcHRpb24pIHtcbiAgICAgIGlmICh0aGlzLmRvbmUpIHtcbiAgICAgICAgdGhyb3cgZXhjZXB0aW9uO1xuICAgICAgfVxuXG4gICAgICB2YXIgY29udGV4dCA9IHRoaXM7XG4gICAgICBmdW5jdGlvbiBoYW5kbGUobG9jLCBjYXVnaHQpIHtcbiAgICAgICAgcmVjb3JkLnR5cGUgPSBcInRocm93XCI7XG4gICAgICAgIHJlY29yZC5hcmcgPSBleGNlcHRpb247XG4gICAgICAgIGNvbnRleHQubmV4dCA9IGxvYztcbiAgICAgICAgcmV0dXJuICEhY2F1Z2h0O1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgdmFyIHJlY29yZCA9IGVudHJ5LmNvbXBsZXRpb247XG5cbiAgICAgICAgaWYgKGVudHJ5LnRyeUxvYyA9PT0gXCJyb290XCIpIHtcbiAgICAgICAgICAvLyBFeGNlcHRpb24gdGhyb3duIG91dHNpZGUgb2YgYW55IHRyeSBibG9jayB0aGF0IGNvdWxkIGhhbmRsZVxuICAgICAgICAgIC8vIGl0LCBzbyBzZXQgdGhlIGNvbXBsZXRpb24gdmFsdWUgb2YgdGhlIGVudGlyZSBmdW5jdGlvbiB0b1xuICAgICAgICAgIC8vIHRocm93IHRoZSBleGNlcHRpb24uXG4gICAgICAgICAgcmV0dXJuIGhhbmRsZShcImVuZFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPD0gdGhpcy5wcmV2KSB7XG4gICAgICAgICAgdmFyIGhhc0NhdGNoID0gaGFzT3duLmNhbGwoZW50cnksIFwiY2F0Y2hMb2NcIik7XG4gICAgICAgICAgdmFyIGhhc0ZpbmFsbHkgPSBoYXNPd24uY2FsbChlbnRyeSwgXCJmaW5hbGx5TG9jXCIpO1xuXG4gICAgICAgICAgaWYgKGhhc0NhdGNoICYmIGhhc0ZpbmFsbHkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnByZXYgPCBlbnRyeS5jYXRjaExvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmNhdGNoTG9jLCB0cnVlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmZpbmFsbHlMb2MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgfSBlbHNlIGlmIChoYXNDYXRjaCkge1xuICAgICAgICAgICAgaWYgKHRoaXMucHJldiA8IGVudHJ5LmNhdGNoTG9jKSB7XG4gICAgICAgICAgICAgIHJldHVybiBoYW5kbGUoZW50cnkuY2F0Y2hMb2MsIHRydWUpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgfSBlbHNlIGlmIChoYXNGaW5hbGx5KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5wcmV2IDwgZW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlKGVudHJ5LmZpbmFsbHlMb2MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInRyeSBzdGF0ZW1lbnQgd2l0aG91dCBjYXRjaCBvciBmaW5hbGx5XCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBhYnJ1cHQ6IGZ1bmN0aW9uKHR5cGUsIGFyZykge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPD0gdGhpcy5wcmV2ICYmXG4gICAgICAgICAgICBoYXNPd24uY2FsbChlbnRyeSwgXCJmaW5hbGx5TG9jXCIpICYmXG4gICAgICAgICAgICB0aGlzLnByZXYgPCBlbnRyeS5maW5hbGx5TG9jKSB7XG4gICAgICAgICAgdmFyIGZpbmFsbHlFbnRyeSA9IGVudHJ5O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChmaW5hbGx5RW50cnkgJiZcbiAgICAgICAgICAodHlwZSA9PT0gXCJicmVha1wiIHx8XG4gICAgICAgICAgIHR5cGUgPT09IFwiY29udGludWVcIikgJiZcbiAgICAgICAgICBmaW5hbGx5RW50cnkudHJ5TG9jIDw9IGFyZyAmJlxuICAgICAgICAgIGFyZyA8PSBmaW5hbGx5RW50cnkuZmluYWxseUxvYykge1xuICAgICAgICAvLyBJZ25vcmUgdGhlIGZpbmFsbHkgZW50cnkgaWYgY29udHJvbCBpcyBub3QganVtcGluZyB0byBhXG4gICAgICAgIC8vIGxvY2F0aW9uIG91dHNpZGUgdGhlIHRyeS9jYXRjaCBibG9jay5cbiAgICAgICAgZmluYWxseUVudHJ5ID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgdmFyIHJlY29yZCA9IGZpbmFsbHlFbnRyeSA/IGZpbmFsbHlFbnRyeS5jb21wbGV0aW9uIDoge307XG4gICAgICByZWNvcmQudHlwZSA9IHR5cGU7XG4gICAgICByZWNvcmQuYXJnID0gYXJnO1xuXG4gICAgICBpZiAoZmluYWxseUVudHJ5KSB7XG4gICAgICAgIHRoaXMubmV4dCA9IGZpbmFsbHlFbnRyeS5maW5hbGx5TG9jO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5jb21wbGV0ZShyZWNvcmQpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICB9LFxuXG4gICAgY29tcGxldGU6IGZ1bmN0aW9uKHJlY29yZCwgYWZ0ZXJMb2MpIHtcbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHRocm93IHJlY29yZC5hcmc7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJicmVha1wiIHx8XG4gICAgICAgICAgcmVjb3JkLnR5cGUgPT09IFwiY29udGludWVcIikge1xuICAgICAgICB0aGlzLm5leHQgPSByZWNvcmQuYXJnO1xuICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gXCJyZXR1cm5cIikge1xuICAgICAgICB0aGlzLnJ2YWwgPSByZWNvcmQuYXJnO1xuICAgICAgICB0aGlzLm5leHQgPSBcImVuZFwiO1xuICAgICAgfSBlbHNlIGlmIChyZWNvcmQudHlwZSA9PT0gXCJub3JtYWxcIiAmJiBhZnRlckxvYykge1xuICAgICAgICB0aGlzLm5leHQgPSBhZnRlckxvYztcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgZmluaXNoOiBmdW5jdGlvbihmaW5hbGx5TG9jKSB7XG4gICAgICBmb3IgKHZhciBpID0gdGhpcy50cnlFbnRyaWVzLmxlbmd0aCAtIDE7IGkgPj0gMDsgLS1pKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IHRoaXMudHJ5RW50cmllc1tpXTtcbiAgICAgICAgaWYgKGVudHJ5LmZpbmFsbHlMb2MgPT09IGZpbmFsbHlMb2MpIHtcbiAgICAgICAgICB0aGlzLmNvbXBsZXRlKGVudHJ5LmNvbXBsZXRpb24sIGVudHJ5LmFmdGVyTG9jKTtcbiAgICAgICAgICByZXNldFRyeUVudHJ5KGVudHJ5KTtcbiAgICAgICAgICByZXR1cm4gQ29udGludWVTZW50aW5lbDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG5cbiAgICBcImNhdGNoXCI6IGZ1bmN0aW9uKHRyeUxvYykge1xuICAgICAgZm9yICh2YXIgaSA9IHRoaXMudHJ5RW50cmllcy5sZW5ndGggLSAxOyBpID49IDA7IC0taSkge1xuICAgICAgICB2YXIgZW50cnkgPSB0aGlzLnRyeUVudHJpZXNbaV07XG4gICAgICAgIGlmIChlbnRyeS50cnlMb2MgPT09IHRyeUxvYykge1xuICAgICAgICAgIHZhciByZWNvcmQgPSBlbnRyeS5jb21wbGV0aW9uO1xuICAgICAgICAgIGlmIChyZWNvcmQudHlwZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgICAgICB2YXIgdGhyb3duID0gcmVjb3JkLmFyZztcbiAgICAgICAgICAgIHJlc2V0VHJ5RW50cnkoZW50cnkpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdGhyb3duO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIFRoZSBjb250ZXh0LmNhdGNoIG1ldGhvZCBtdXN0IG9ubHkgYmUgY2FsbGVkIHdpdGggYSBsb2NhdGlvblxuICAgICAgLy8gYXJndW1lbnQgdGhhdCBjb3JyZXNwb25kcyB0byBhIGtub3duIGNhdGNoIGJsb2NrLlxuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaWxsZWdhbCBjYXRjaCBhdHRlbXB0XCIpO1xuICAgIH0sXG5cbiAgICBkZWxlZ2F0ZVlpZWxkOiBmdW5jdGlvbihpdGVyYWJsZSwgcmVzdWx0TmFtZSwgbmV4dExvYykge1xuICAgICAgdGhpcy5kZWxlZ2F0ZSA9IHtcbiAgICAgICAgaXRlcmF0b3I6IHZhbHVlcyhpdGVyYWJsZSksXG4gICAgICAgIHJlc3VsdE5hbWU6IHJlc3VsdE5hbWUsXG4gICAgICAgIG5leHRMb2M6IG5leHRMb2NcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiBDb250aW51ZVNlbnRpbmVsO1xuICAgIH1cbiAgfTtcbn0pKFxuICAvLyBBbW9uZyB0aGUgdmFyaW91cyB0cmlja3MgZm9yIG9idGFpbmluZyBhIHJlZmVyZW5jZSB0byB0aGUgZ2xvYmFsXG4gIC8vIG9iamVjdCwgdGhpcyBzZWVtcyB0byBiZSB0aGUgbW9zdCByZWxpYWJsZSB0ZWNobmlxdWUgdGhhdCBkb2VzIG5vdFxuICAvLyB1c2UgaW5kaXJlY3QgZXZhbCAod2hpY2ggdmlvbGF0ZXMgQ29udGVudCBTZWN1cml0eSBQb2xpY3kpLlxuICB0eXBlb2YgZ2xvYmFsID09PSBcIm9iamVjdFwiID8gZ2xvYmFsIDpcbiAgdHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIiA/IHdpbmRvdyA6XG4gIHR5cGVvZiBzZWxmID09PSBcIm9iamVjdFwiID8gc2VsZiA6IHRoaXNcbik7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAvaG9tZS9pZ29yL2RldmVsb3BtZW50L29wZW5zb3VyY2UvZm9ybWVvL34vYmFiZWwtcmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzXG4vLyBtb2R1bGUgaWQgPSAxMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///11\n')},function(module,exports,__webpack_require__){'use strict';eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar _mi18n = __webpack_require__(/*! mi18n */ 4);\n\nvar _mi18n2 = _interopRequireDefault(_mi18n);\n\nvar _sortablejs = __webpack_require__(/*! sortablejs */ 6);\n\nvar _sortablejs2 = _interopRequireDefault(_sortablejs);\n\nvar _data = __webpack_require__(/*! ../common/data */ 2);\n\nvar _helpers = __webpack_require__(/*! ../common/helpers */ 1);\n\nvar _helpers2 = _interopRequireDefault(_helpers);\n\nvar _events = __webpack_require__(/*! ../common/events */ 5);\n\nvar _events2 = _interopRequireDefault(_events);\n\nvar _dom = __webpack_require__(/*! ../common/dom */ 0);\n\nvar _dom2 = _interopRequireDefault(_dom);\n\nvar _utils = __webpack_require__(/*! ../common/utils */ 3);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nvar Column = function () {\n  function Column(dataID) {\n    _classCallCheck(this, Column);\n\n    var _this = this;\n    var columnDefaults = void 0;\n\n    var columnID = _this.columnID = dataID || (0, _utils.uuid)();\n    _this.columnData = _data.formData.columns.get(columnID);\n\n    columnDefaults = {\n      fields: [],\n      id: columnID,\n      config: {},\n      className: []\n    };\n\n    _data.formData.columns.set(columnID, _helpers2.default.merge(columnDefaults, _this.columnData));\n\n    var resizeHandle = {\n      tag: \'li\',\n      className: \'resize-x-handle\',\n      action: {\n        mousedown: _this.resize,\n        touchstart: _this.resize\n      },\n      content: [_dom2.default.icon(\'triangle-down\'), _dom2.default.icon(\'triangle-up\')]\n    };\n    var editWindow = {\n      tag: \'li\',\n      className: \'column-edit group-config\'\n    };\n\n    var column = {\n      tag: \'ul\',\n      className: [\'stage-columns\', \'empty-columns\'],\n      dataset: {\n        hoverTag: _mi18n2.default.get(\'column\')\n      },\n      action: {\n        mouseup: function mouseup(evt) {\n          var column = evt.target.parentElement;\n          if (column.resizing) {\n            column.resizing = false;\n            column.parentElement.classList.remove(\'resizing-columns\');\n          }\n        }\n      },\n      id: _this.columnID,\n      content: [_dom2.default.actionButtons(_this.columnID), editWindow, resizeHandle],\n      fType: \'columns\'\n    };\n\n    column = _dom2.default.create(column);\n    this.processConfig(column);\n\n    _events2.default.columnResized = new CustomEvent(\'columnResized\', {\n      detail: {\n        column: column,\n        instance: _this\n      }\n    });\n\n    var sortable = this.sortable = _sortablejs2.default.create(column, {\n      animation: 150,\n      fallbackClass: \'field-moving\',\n      forceFallback: true,\n      group: {\n        name: \'columns\',\n        pull: true,\n        put: [\'columns\', \'controls\'],\n        revertClone: true\n      },\n      sort: true,\n      onEnd: _this.onEnd,\n      onAdd: _this.onAdd,\n      onSort: _this.onSort,\n      onRemove: _this.onRemove,\n\n      onMove: function onMove(evt) {\n        if (evt.from !== evt.to) {\n          evt.from.classList.remove(\'hovering-column\');\n        }\n        if (evt.related.parentElement.fType === \'columns\') {\n          evt.related.parentElement.classList.add(\'hovering-column\');\n        }\n      },\n      draggable: \'.stage-fields\'\n    });\n\n    _dom2.default.columns.set(columnID, { column: column, sortable: sortable });\n\n    return column;\n  }\n\n  Column.prototype.onSort = function onSort(evt) {\n    return _data.data.saveFieldOrder(evt.target);\n  };\n\n  Column.prototype.processConfig = function processConfig(column) {\n    var _this = this;\n    var columnData = _data.formData.columns.get(_this.columnID);\n    if (columnData.config.width) {\n      column.dataset.colWidth = columnData.config.width;\n      column.style.width = columnData.config.width;\n      column.style.float = \'left\';\n    }\n  };\n\n  Column.prototype.onAdd = function onAdd(evt) {\n    var from = evt.from,\n        item = evt.item,\n        to = evt.to;\n\n    var fromColumn = from.fType === \'columns\';\n    var fromControl = from.fType === \'controlGroup\';\n\n    if (fromControl) {\n      var meta = _helpers2.default.get(_data.registeredFields[item.id], \'meta\');\n      if (meta.group !== \'layout\') {\n        var field = _dom2.default.addField(to.id, item.id);\n        to.insertBefore(field, to.childNodes[evt.newIndex]);\n        _data.data.saveFieldOrder(to);\n        _data.data.save(\'fields\', to.id);\n      } else {\n        if (meta.id === \'layout-column\') {\n          var row = to.parentElement;\n          _dom2.default.addColumn(row.id);\n          _dom2.default.columnWidths(row);\n        }\n      }\n\n      _dom2.default.remove(evt.item);\n    }\n\n    _dom2.default.fieldOrderClass(to);\n\n    if (fromColumn) {\n      _dom2.default.fieldOrderClass(from);\n    }\n\n    _dom2.default.emptyClass(evt.to);\n\n    _data.data.save();\n\n    to.classList.remove(\'hovering-column\');\n  };\n\n  Column.prototype.onRemove = function onRemove(evt) {\n    if (evt.from.parent) {\n      _dom2.default.columnWidths(evt.from.parentElement);\n      _data.data.saveColumnOrder(evt.from.parentElement);\n    }\n    _dom2.default.emptyClass(evt.from);\n  };\n\n  Column.prototype.onEnd = function onEnd(evt) {\n    var to = evt.to,\n        from = evt.from;\n\n\n    if (from.classList.contains(\'empty-columns\')) {\n      _dom2.default.removeEmpty(evt.from);\n      return;\n    }\n\n    _dom2.default.fieldOrderClass(to);\n    _dom2.default.fieldOrderClass(from);\n\n    if (from.parent) {\n      _dom2.default.columnWidths(from.parentElement);\n    }\n\n    _data.data.save();\n\n    if (to) {\n      to.classList.remove(\'hovering-column\');\n    }\n  };\n\n  Column.prototype.resize = function resize(evt) {\n    var resize = {};\n    var column = evt.target.parentElement;\n    var sibling = column.nextSibling || column.previousSibling;\n    var row = column.parentElement;\n    var rowStyle = _dom2.default.getStyle(row);\n    var rowPadding = parseFloat(rowStyle.paddingLeft) + parseFloat(rowStyle.paddingRight);\n    var colWidthPercent = void 0;\n    var sibWidthPercent = void 0;\n\n    function setWidths(evt) {\n      var clientX = void 0;\n      if (evt.type === \'touchmove\') {\n        clientX = evt.touches[0].clientX;\n      } else {\n        clientX = evt.clientX;\n      }\n      var newColWidth = resize.colStartWidth + clientX - resize.startX;\n      var newSibWidth = resize.sibStartWidth - clientX + resize.startX;\n\n      var percent = function percent(width) {\n        return width / resize.rowWidth * 100;\n      };\n      colWidthPercent = parseFloat(percent(newColWidth));\n      sibWidthPercent = parseFloat(percent(newSibWidth));\n\n      column.dataset.colWidth = (0, _utils.numToPercent)(colWidthPercent.toFixed(1));\n      sibling.dataset.colWidth = (0, _utils.numToPercent)(sibWidthPercent.toFixed(1));\n\n      column.style.width = (0, _utils.numToPercent)(colWidthPercent);\n      sibling.style.width = (0, _utils.numToPercent)(sibWidthPercent);\n    }\n\n    resize.move = function (evt) {\n      setWidths(evt);\n      resize.resized = true;\n    };\n\n    resize.stop = function () {\n      window.removeEventListener(\'mousemove\', resize.move);\n      window.removeEventListener(\'mouseup\', resize.stop);\n      window.removeEventListener(\'touchmove\', resize.move);\n      window.removeEventListener(\'touchend\', resize.stop);\n      if (!resize.resized) {\n        return;\n      }\n      var columnData = _data.formData.columns.get(column.id);\n      var sibColumnData = _data.formData.columns.get(sibling.id);\n      var row = column.parentElement;\n      row.querySelector(\'.column-preset\').value = \'custom\';\n      row.classList.remove(\'resizing-columns\');\n      columnData.config.width = column.dataset.colWidth;\n      sibColumnData.config.width = sibling.dataset.colWidth;\n      resize.resized = false;\n      _data.data.save();\n    };\n\n    resize.start = function (evt) {\n      if (evt.type === \'touchstart\') {\n        resize.startX = evt.touches[0].clientX;\n      } else {\n        resize.startX = evt.clientX;\n      }\n      row.classList.add(\'resizing-columns\');\n\n      var reg = /\\bcol-\\w+-\\d+/g;\n      column.className.replace(reg, \'\');\n      sibling.className.replace(reg, \'\');\n\n      resize.colStartWidth = column.offsetWidth || _dom2.default.getStyle(column, \'width\');\n\n      resize.sibStartWidth = sibling.offsetWidth || _dom2.default.getStyle(sibling, \'width\');\n      resize.rowWidth = row.offsetWidth - rowPadding;\n\n      window.addEventListener(\'mouseup\', resize.stop, false);\n      window.addEventListener(\'mousemove\', resize.move, false);\n      window.addEventListener(\'touchend\', resize.stop, false);\n      window.addEventListener(\'touchmove\', resize.move, false);\n    }(evt);\n  };\n\n  return Column;\n}();\n\nexports.default = Column;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL2NvbXBvbmVudHMvY29sdW1uLmpzP2NjMGUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGkxOG4gZnJvbSAnbWkxOG4nO1xuaW1wb3J0IFNvcnRhYmxlIGZyb20gJ3NvcnRhYmxlanMnO1xuaW1wb3J0IHtkYXRhLCBmb3JtRGF0YSwgcmVnaXN0ZXJlZEZpZWxkcyBhcyByRmllbGRzfSBmcm9tICcuLi9jb21tb24vZGF0YSc7XG5pbXBvcnQgaCBmcm9tICcuLi9jb21tb24vaGVscGVycyc7XG5pbXBvcnQgZXZlbnRzIGZyb20gJy4uL2NvbW1vbi9ldmVudHMnO1xuaW1wb3J0IGRvbSBmcm9tICcuLi9jb21tb24vZG9tJztcbmltcG9ydCB7dXVpZCwgbnVtVG9QZXJjZW50fSBmcm9tICcuLi9jb21tb24vdXRpbHMnO1xuXG4vKipcbiAqIFNldHVwIENvbHVtbiBlbGVtZW50c1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb2x1bW4ge1xuICAvKipcbiAgICogU2V0IGRlZmF1bHRzIGFuZC9vciBsb2FkIGV4aXN0aW5nIGNvbHVtbnNcbiAgICogQHBhcmFtICB7U3RyaW5nfSBkYXRhSUQgY29sdW1uSWRcbiAgICogQHJldHVybiB7T2JqZWN0fSBDb2x1bW4gY29uZmlnIG9iamVjdFxuICAgKi9cbiAgY29uc3RydWN0b3IoZGF0YUlEKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICBsZXQgY29sdW1uRGVmYXVsdHM7XG5cbiAgICBsZXQgY29sdW1uSUQgPSBfdGhpcy5jb2x1bW5JRCA9IGRhdGFJRCB8fCB1dWlkKCk7XG4gICAgX3RoaXMuY29sdW1uRGF0YSA9IGZvcm1EYXRhLmNvbHVtbnMuZ2V0KGNvbHVtbklEKTtcblxuICAgIGNvbHVtbkRlZmF1bHRzID0ge1xuICAgICAgZmllbGRzOiBbXSxcbiAgICAgIGlkOiBjb2x1bW5JRCxcbiAgICAgIGNvbmZpZzoge30sXG4gICAgICBjbGFzc05hbWU6IFtdXG4gICAgfTtcblxuICAgIGZvcm1EYXRhLmNvbHVtbnMuc2V0KGNvbHVtbklELCBoLm1lcmdlKGNvbHVtbkRlZmF1bHRzLCBfdGhpcy5jb2x1bW5EYXRhKSk7XG5cbiAgICBsZXQgcmVzaXplSGFuZGxlID0ge1xuICAgICAgICB0YWc6ICdsaScsXG4gICAgICAgIGNsYXNzTmFtZTogJ3Jlc2l6ZS14LWhhbmRsZScsXG4gICAgICAgIGFjdGlvbjoge1xuICAgICAgICAgIG1vdXNlZG93bjogX3RoaXMucmVzaXplLFxuICAgICAgICAgIHRvdWNoc3RhcnQ6IF90aGlzLnJlc2l6ZVxuICAgICAgICB9LFxuICAgICAgICBjb250ZW50OiBbZG9tLmljb24oJ3RyaWFuZ2xlLWRvd24nKSwgZG9tLmljb24oJ3RyaWFuZ2xlLXVwJyldXG4gICAgICB9O1xuICAgIGxldCBlZGl0V2luZG93ID0ge1xuICAgICAgICB0YWc6ICdsaScsXG4gICAgICAgIGNsYXNzTmFtZTogJ2NvbHVtbi1lZGl0IGdyb3VwLWNvbmZpZydcbiAgICAgIH07XG5cbiAgICBsZXQgY29sdW1uID0ge1xuICAgICAgdGFnOiAndWwnLFxuICAgICAgY2xhc3NOYW1lOiBbJ3N0YWdlLWNvbHVtbnMnLCAnZW1wdHktY29sdW1ucyddLFxuICAgICAgZGF0YXNldDoge1xuICAgICAgICBob3ZlclRhZzogaTE4bi5nZXQoJ2NvbHVtbicpXG4gICAgICB9LFxuICAgICAgYWN0aW9uOiB7XG4gICAgICAgIG1vdXNldXA6IChldnQpID0+IHtcbiAgICAgICAgICBsZXQgY29sdW1uID0gZXZ0LnRhcmdldC5wYXJlbnRFbGVtZW50O1xuICAgICAgICAgIGlmIChjb2x1bW4ucmVzaXppbmcpIHtcbiAgICAgICAgICAgIGNvbHVtbi5yZXNpemluZyA9IGZhbHNlO1xuICAgICAgICAgICAgY29sdW1uLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgncmVzaXppbmctY29sdW1ucycpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGlkOiBfdGhpcy5jb2x1bW5JRCxcbiAgICAgIGNvbnRlbnQ6IFtkb20uYWN0aW9uQnV0dG9ucyhfdGhpcy5jb2x1bW5JRCksIGVkaXRXaW5kb3csIHJlc2l6ZUhhbmRsZV0sXG4gICAgICBmVHlwZTogJ2NvbHVtbnMnXG4gICAgfTtcblxuICAgIGNvbHVtbiA9IGRvbS5jcmVhdGUoY29sdW1uKTtcbiAgICB0aGlzLnByb2Nlc3NDb25maWcoY29sdW1uKTtcblxuICAgIGV2ZW50cy5jb2x1bW5SZXNpemVkID0gbmV3IEN1c3RvbUV2ZW50KCdjb2x1bW5SZXNpemVkJywge1xuICAgICAgZGV0YWlsOiB7XG4gICAgICAgIGNvbHVtbixcbiAgICAgICAgaW5zdGFuY2U6IF90aGlzXG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBsZXQgc29ydGFibGUgPSB0aGlzLnNvcnRhYmxlID0gU29ydGFibGUuY3JlYXRlKGNvbHVtbiwge1xuICAgICAgYW5pbWF0aW9uOiAxNTAsXG4gICAgICBmYWxsYmFja0NsYXNzOiAnZmllbGQtbW92aW5nJyxcbiAgICAgIGZvcmNlRmFsbGJhY2s6IHRydWUsXG4gICAgICBncm91cDoge1xuICAgICAgICBuYW1lOiAnY29sdW1ucycsXG4gICAgICAgIHB1bGw6IHRydWUsXG4gICAgICAgIHB1dDogWydjb2x1bW5zJywgJ2NvbnRyb2xzJ10sXG4gICAgICAgIHJldmVydENsb25lOiB0cnVlXG4gICAgICB9LFxuICAgICAgc29ydDogdHJ1ZSxcbiAgICAgIG9uRW5kOiBfdGhpcy5vbkVuZCxcbiAgICAgIG9uQWRkOiBfdGhpcy5vbkFkZCxcbiAgICAgIG9uU29ydDogX3RoaXMub25Tb3J0LFxuICAgICAgb25SZW1vdmU6IF90aGlzLm9uUmVtb3ZlLFxuICAgICAgLy8gQXR0ZW1wdCB0byBkcmFnIGEgZmlsdGVyZWQgZWxlbWVudFxuICAgICAgb25Nb3ZlOiAoZXZ0KSA9PiB7XG4gICAgICAgIGlmIChldnQuZnJvbSAhPT0gZXZ0LnRvKSB7XG4gICAgICAgICAgZXZ0LmZyb20uY2xhc3NMaXN0LnJlbW92ZSgnaG92ZXJpbmctY29sdW1uJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV2dC5yZWxhdGVkLnBhcmVudEVsZW1lbnQuZlR5cGUgPT09ICdjb2x1bW5zJykge1xuICAgICAgICAgIGV2dC5yZWxhdGVkLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaG92ZXJpbmctY29sdW1uJyk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBkcmFnZ2FibGU6ICcuc3RhZ2UtZmllbGRzJ1xuICAgIH0pO1xuXG4gICAgZG9tLmNvbHVtbnMuc2V0KGNvbHVtbklELCB7Y29sdW1uLCBzb3J0YWJsZX0pO1xuXG4gICAgcmV0dXJuIGNvbHVtbjtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb2x1bW4gc29ydGVkIGV2ZW50XG4gICAqIEBwYXJhbSAge09iamVjdH0gZXZ0IHNvcnQgZXZlbnQgZGF0YVxuICAgKiBAcmV0dXJuIHtPYmplY3R9IENvbHVtbiBvcmRlciwgYXJyYXkgb2YgY29sdW1uIGlkc1xuICAgKi9cbiAgb25Tb3J0KGV2dCkge1xuICAgIHJldHVybiBkYXRhLnNhdmVGaWVsZE9yZGVyKGV2dC50YXJnZXQpO1xuICAgIC8vIGRhdGEuc2F2ZSgnY29sdW1uJywgZXZ0LnRhcmdldC5pZCk7XG4gICAgLy8gZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChldmVudHMuZm9ybWVvVXBkYXRlZCk7XG4gIH1cblxuICAvKipcbiAgICogUHJvY2VzcyBjb2x1bW4gY29uZmlndXJhdGlvbiBkYXRhXG4gICAqIEBwYXJhbSAge09iamVjdH0gY29sdW1uXG4gICAqL1xuICBwcm9jZXNzQ29uZmlnKGNvbHVtbikge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgbGV0IGNvbHVtbkRhdGEgPSBmb3JtRGF0YS5jb2x1bW5zLmdldChfdGhpcy5jb2x1bW5JRCk7XG4gICAgaWYgKGNvbHVtbkRhdGEuY29uZmlnLndpZHRoKSB7XG4gICAgICBjb2x1bW4uZGF0YXNldC5jb2xXaWR0aCA9IGNvbHVtbkRhdGEuY29uZmlnLndpZHRoO1xuICAgICAgY29sdW1uLnN0eWxlLndpZHRoID0gY29sdW1uRGF0YS5jb25maWcud2lkdGg7XG4gICAgICBjb2x1bW4uc3R5bGUuZmxvYXQgPSAnbGVmdCc7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEV2ZW50IHdoZW4gY29sdW1uIGlzIGFkZGVkXG4gICAqIEBwYXJhbSAge09iamVjdH0gZXZ0XG4gICAqL1xuICBvbkFkZChldnQpIHtcbiAgICBsZXQge2Zyb20sIGl0ZW0sIHRvfSA9IGV2dDtcbiAgICBsZXQgZnJvbUNvbHVtbiA9IGZyb20uZlR5cGUgPT09ICdjb2x1bW5zJztcbiAgICBsZXQgZnJvbUNvbnRyb2wgPSBmcm9tLmZUeXBlID09PSAnY29udHJvbEdyb3VwJztcblxuICAgIGlmIChmcm9tQ29udHJvbCkge1xuICAgICAgbGV0IG1ldGEgPSBoLmdldChyRmllbGRzW2l0ZW0uaWRdLCAnbWV0YScpO1xuICAgICAgaWYgKG1ldGEuZ3JvdXAgIT09ICdsYXlvdXQnKSB7XG4gICAgICAgIGxldCBmaWVsZCA9IGRvbS5hZGRGaWVsZCh0by5pZCwgaXRlbS5pZCk7XG4gICAgICAgIHRvLmluc2VydEJlZm9yZShmaWVsZCwgdG8uY2hpbGROb2Rlc1tldnQubmV3SW5kZXhdKTtcbiAgICAgICAgZGF0YS5zYXZlRmllbGRPcmRlcih0byk7XG4gICAgICAgIGRhdGEuc2F2ZSgnZmllbGRzJywgdG8uaWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKG1ldGEuaWQgPT09ICdsYXlvdXQtY29sdW1uJykge1xuICAgICAgICAgIGxldCByb3cgPSB0by5wYXJlbnRFbGVtZW50O1xuICAgICAgICAgIGRvbS5hZGRDb2x1bW4ocm93LmlkKTtcbiAgICAgICAgICBkb20uY29sdW1uV2lkdGhzKHJvdyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgZG9tLnJlbW92ZShldnQuaXRlbSk7XG4gICAgICAvLyBkb2N1bWVudC5kaXNwYXRjaEV2ZW50KGV2ZW50cy5mb3JtZW9VcGRhdGVkKTtcbiAgICB9XG5cbiAgICBkb20uZmllbGRPcmRlckNsYXNzKHRvKTtcblxuICAgIGlmIChmcm9tQ29sdW1uKSB7XG4gICAgICBkb20uZmllbGRPcmRlckNsYXNzKGZyb20pO1xuICAgIH1cblxuICAgIGRvbS5lbXB0eUNsYXNzKGV2dC50byk7XG5cbiAgICBkYXRhLnNhdmUoKTtcblxuICAgIHRvLmNsYXNzTGlzdC5yZW1vdmUoJ2hvdmVyaW5nLWNvbHVtbicpO1xuICB9XG5cbiAgLyoqXG4gICAqIEV2ZW50IHdoZW4gZmllbGQgaXMgcmVtb3ZlZCBmcm9tIGNvbHVtblxuICAgKiBAcGFyYW0gIHtPYmplY3R9IGV2dFxuICAgKi9cbiAgb25SZW1vdmUoZXZ0KSB7XG4gICAgaWYgKGV2dC5mcm9tLnBhcmVudCkge1xuICAgICAgZG9tLmNvbHVtbldpZHRocyhldnQuZnJvbS5wYXJlbnRFbGVtZW50KTtcbiAgICAgIGRhdGEuc2F2ZUNvbHVtbk9yZGVyKGV2dC5mcm9tLnBhcmVudEVsZW1lbnQpO1xuICAgIH1cbiAgICBkb20uZW1wdHlDbGFzcyhldnQuZnJvbSk7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGJhY2sgZm9yIHdoZW4gZHJhZ2dpbmcgZW5kc1xuICAgKiBAcGFyYW0gIHtPYmplY3R9IGV2dFxuICAgKi9cbiAgb25FbmQoZXZ0KSB7XG4gICAgbGV0IHt0bywgZnJvbX0gPSBldnQ7XG5cbiAgICBpZiAoZnJvbS5jbGFzc0xpc3QuY29udGFpbnMoJ2VtcHR5LWNvbHVtbnMnKSkge1xuICAgICAgZG9tLnJlbW92ZUVtcHR5KGV2dC5mcm9tKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBkb20uZmllbGRPcmRlckNsYXNzKHRvKTtcbiAgICBkb20uZmllbGRPcmRlckNsYXNzKGZyb20pO1xuXG4gICAgaWYgKGZyb20ucGFyZW50KSB7XG4gICAgICBkb20uY29sdW1uV2lkdGhzKGZyb20ucGFyZW50RWxlbWVudCk7XG4gICAgfVxuXG4gICAgZGF0YS5zYXZlKCk7XG5cbiAgICBpZiAodG8pIHtcbiAgICAgIHRvLmNsYXNzTGlzdC5yZW1vdmUoJ2hvdmVyaW5nLWNvbHVtbicpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBIYW5kbGUgY29sdW1uIHJlc2l6aW5nXG4gICAqIEBwYXJhbSAge09iamVjdH0gZXZ0IHJlc2l6ZSBldmVudFxuICAgKi9cbiAgcmVzaXplKGV2dCkge1xuICAgIGxldCByZXNpemUgPSB7fTtcbiAgICBsZXQgY29sdW1uID0gZXZ0LnRhcmdldC5wYXJlbnRFbGVtZW50O1xuICAgIGxldCBzaWJsaW5nID0gY29sdW1uLm5leHRTaWJsaW5nIHx8IGNvbHVtbi5wcmV2aW91c1NpYmxpbmc7XG4gICAgbGV0IHJvdyA9IGNvbHVtbi5wYXJlbnRFbGVtZW50O1xuICAgIGxldCByb3dTdHlsZSA9IGRvbS5nZXRTdHlsZShyb3cpO1xuICAgIGxldCByb3dQYWRkaW5nID0gcGFyc2VGbG9hdChyb3dTdHlsZS5wYWRkaW5nTGVmdCkgK1xuICAgIHBhcnNlRmxvYXQocm93U3R5bGUucGFkZGluZ1JpZ2h0KTtcbiAgICBsZXQgY29sV2lkdGhQZXJjZW50O1xuICAgIGxldCBzaWJXaWR0aFBlcmNlbnQ7XG5cblxuICAgIC8qKlxuICAgICAqIFNldCB0aGUgd2lkdGggYmVmb3JlIHJlc2l6aW5nIHNvIHRoZSBjb2x1bW5cbiAgICAgKiBkb2VzIG5vdCByZXNpemUgbmVhciB3aW5kb3cgZWRnZXNcbiAgICAgKiBAcGFyYW0gIHtPYmplY3R9IGV2dFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldFdpZHRocyhldnQpIHtcbiAgICAgIGxldCBjbGllbnRYO1xuICAgICAgaWYgKGV2dC50eXBlID09PSAndG91Y2htb3ZlJykge1xuICAgICAgICBjbGllbnRYID0gZXZ0LnRvdWNoZXNbMF0uY2xpZW50WDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNsaWVudFggPSBldnQuY2xpZW50WDtcbiAgICAgIH1cbiAgICAgIGxldCBuZXdDb2xXaWR0aCA9IChyZXNpemUuY29sU3RhcnRXaWR0aCArIGNsaWVudFggLSByZXNpemUuc3RhcnRYKTtcbiAgICAgIGxldCBuZXdTaWJXaWR0aCA9IChyZXNpemUuc2liU3RhcnRXaWR0aCAtIGNsaWVudFggKyByZXNpemUuc3RhcnRYKTtcblxuICAgICAgY29uc3QgcGVyY2VudCA9IHdpZHRoID0+ICh3aWR0aCAvIHJlc2l6ZS5yb3dXaWR0aCAqIDEwMCk7XG4gICAgICBjb2xXaWR0aFBlcmNlbnQgPSBwYXJzZUZsb2F0KHBlcmNlbnQobmV3Q29sV2lkdGgpKTtcbiAgICAgIHNpYldpZHRoUGVyY2VudCA9IHBhcnNlRmxvYXQocGVyY2VudChuZXdTaWJXaWR0aCkpO1xuXG4gICAgICBjb2x1bW4uZGF0YXNldC5jb2xXaWR0aCA9IG51bVRvUGVyY2VudChjb2xXaWR0aFBlcmNlbnQudG9GaXhlZCgxKSk7XG4gICAgICBzaWJsaW5nLmRhdGFzZXQuY29sV2lkdGggPSBudW1Ub1BlcmNlbnQoc2liV2lkdGhQZXJjZW50LnRvRml4ZWQoMSkpO1xuXG4gICAgICBjb2x1bW4uc3R5bGUud2lkdGggPSBudW1Ub1BlcmNlbnQoY29sV2lkdGhQZXJjZW50KTtcbiAgICAgIHNpYmxpbmcuc3R5bGUud2lkdGggPSBudW1Ub1BlcmNlbnQoc2liV2lkdGhQZXJjZW50KTtcbiAgICB9XG5cbiAgICByZXNpemUubW92ZSA9IGV2dCA9PiB7XG4gICAgICBzZXRXaWR0aHMoZXZ0KTtcbiAgICAgIHJlc2l6ZS5yZXNpemVkID0gdHJ1ZTtcbiAgICB9O1xuXG4gICAgcmVzaXplLnN0b3AgPSBmdW5jdGlvbigpIHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCByZXNpemUubW92ZSk7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHJlc2l6ZS5zdG9wKTtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCByZXNpemUubW92ZSk7XG4gICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCByZXNpemUuc3RvcCk7XG4gICAgICBpZiAoIXJlc2l6ZS5yZXNpemVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGxldCBjb2x1bW5EYXRhID0gZm9ybURhdGEuY29sdW1ucy5nZXQoY29sdW1uLmlkKTtcbiAgICAgIGxldCBzaWJDb2x1bW5EYXRhID0gZm9ybURhdGEuY29sdW1ucy5nZXQoc2libGluZy5pZCk7XG4gICAgICBsZXQgcm93ID0gY29sdW1uLnBhcmVudEVsZW1lbnQ7XG4gICAgICByb3cucXVlcnlTZWxlY3RvcignLmNvbHVtbi1wcmVzZXQnKS52YWx1ZSA9ICdjdXN0b20nO1xuICAgICAgcm93LmNsYXNzTGlzdC5yZW1vdmUoJ3Jlc2l6aW5nLWNvbHVtbnMnKTtcbiAgICAgIGNvbHVtbkRhdGEuY29uZmlnLndpZHRoID0gY29sdW1uLmRhdGFzZXQuY29sV2lkdGg7XG4gICAgICBzaWJDb2x1bW5EYXRhLmNvbmZpZy53aWR0aCA9IHNpYmxpbmcuZGF0YXNldC5jb2xXaWR0aDtcbiAgICAgIHJlc2l6ZS5yZXNpemVkID0gZmFsc2U7XG4gICAgICBkYXRhLnNhdmUoKTtcbiAgICB9O1xuXG4gICAgcmVzaXplLnN0YXJ0ID0gKGZ1bmN0aW9uKGV2dCkge1xuICAgICAgaWYgKGV2dC50eXBlID09PSAndG91Y2hzdGFydCcpIHtcbiAgICAgICAgcmVzaXplLnN0YXJ0WCA9IGV2dC50b3VjaGVzWzBdLmNsaWVudFg7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXNpemUuc3RhcnRYID0gZXZ0LmNsaWVudFg7XG4gICAgICB9XG4gICAgICByb3cuY2xhc3NMaXN0LmFkZCgncmVzaXppbmctY29sdW1ucycpO1xuXG4gICAgICAvLyByZW1vdmUgYm9vdHN0cmFwIGNvbHVtbiBjbGFzc2VzIHNpbmNlIHdlIGFyZSBjdXN0b20gc2l6aW5nXG4gICAgICBsZXQgcmVnID0gL1xcYmNvbC1cXHcrLVxcZCsvZztcbiAgICAgIGNvbHVtbi5jbGFzc05hbWUucmVwbGFjZShyZWcsICcnKTtcbiAgICAgIHNpYmxpbmcuY2xhc3NOYW1lLnJlcGxhY2UocmVnLCAnJyk7XG5cbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZVxuICAgICAgcmVzaXplLmNvbFN0YXJ0V2lkdGggPSBjb2x1bW4ub2Zmc2V0V2lkdGggfHwgZG9tLmdldFN0eWxlKGNvbHVtbiwgJ3dpZHRoJyk7XG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgIHJlc2l6ZS5zaWJTdGFydFdpZHRoID0gc2libGluZy5vZmZzZXRXaWR0aCB8fCBkb20uZ2V0U3R5bGUoc2libGluZywgJ3dpZHRoJyk7XG4gICAgICByZXNpemUucm93V2lkdGggPSByb3cub2Zmc2V0V2lkdGggLSByb3dQYWRkaW5nOyAvLyBjb21wZW5zYXRlIGZvciBwYWRkaW5nXG5cbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgcmVzaXplLnN0b3AsIGZhbHNlKTtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCByZXNpemUubW92ZSwgZmFsc2UpO1xuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgcmVzaXplLnN0b3AsIGZhbHNlKTtcbiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCByZXNpemUubW92ZSwgZmFsc2UpO1xuICAgIH0pKGV2dCk7XG4gIH1cblxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9qcy9jb21wb25lbnRzL2NvbHVtbi5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTtBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7Ozs7O0FBSUE7QUFNQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBUEE7QUFTQTtBQUNBO0FBQ0E7QUFGQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVBBO0FBU0E7QUFDQTtBQUNBO0FBakJBO0FBQ0E7QUFtQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQURBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQXhCQTtBQUNBO0FBMEJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBR0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQXJTQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///12\n')},function(module,exports,__webpack_require__){'use strict';eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\nexports.Controls = undefined;\n\nvar _sortablejs = __webpack_require__(/*! sortablejs */ 6);\n\nvar _sortablejs2 = _interopRequireDefault(_sortablejs);\n\nvar _mi18n = __webpack_require__(/*! mi18n */ 4);\n\nvar _mi18n2 = _interopRequireDefault(_mi18n);\n\nvar _data = __webpack_require__(/*! ../common/data */ 2);\n\nvar _helpers = __webpack_require__(/*! ../common/helpers */ 1);\n\nvar _helpers2 = _interopRequireDefault(_helpers);\n\nvar _events = __webpack_require__(/*! ../common/events */ 5);\n\nvar _events2 = _interopRequireDefault(_events);\n\nvar _utils = __webpack_require__(/*! ../common/utils */ 3);\n\nvar _dom = __webpack_require__(/*! ../common/dom */ 0);\n\nvar _dom2 = _interopRequireDefault(_dom);\n\nvar _panels = __webpack_require__(/*! ./panels */ 9);\n\nvar _panels2 = _interopRequireDefault(_panels);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nvar opts = {};\n\nvar Controls = exports.Controls = function () {\n  function Controls(controlOptions, formID) {\n    _classCallCheck(this, Controls);\n\n    var _this = this;\n    this.formID = formID;\n    var _controlOptions$group = controlOptions.groupOrder,\n        groupOrder = _controlOptions$group === undefined ? [] : _controlOptions$group;\n\n    this.groupOrder = (0, _utils.unique)(groupOrder.concat([\'common\', \'html\', \'layout\']));\n    this.cPosition = {};\n    var defaultElements = [{\n      tag: \'div\',\n      config: {\n        label: _mi18n2.default.get(\'column\')\n      },\n      meta: {\n        group: \'layout\',\n        icon: \'columns\',\n        id: \'layout-column\'\n      }\n    }, {\n      tag: \'div\',\n      config: {\n        label: _mi18n2.default.get(\'row\')\n      },\n      meta: {\n        group: \'layout\',\n        icon: \'rows\',\n        id: \'layout-row\'\n      }\n    }, {\n      tag: \'input\',\n      attrs: {\n        type: \'text\',\n        required: false,\n        className: \'\'\n      },\n      config: {\n        disabledAttrs: [\'type\'],\n        label: _mi18n2.default.get(\'input.text\')\n      },\n      meta: {\n        group: \'common\',\n        icon: \'text-input\',\n        id: \'text-input\'\n      },\n      fMap: \'attrs.value\'\n    }, {\n      tag: \'input\',\n      attrs: {\n        type: \'date\',\n        required: false,\n        className: \'\'\n      },\n      config: {\n        disabledAttrs: [\'type\'],\n        label: _mi18n2.default.get(\'input.date\')\n      },\n      meta: {\n        group: \'common\',\n        icon: \'calendar\',\n        id: \'date-input\'\n      }\n    }, {\n      tag: \'button\',\n      attrs: {\n        className: [{ label: _mi18n2.default.get(\'grouped\'), value: \'f-btn-group\' }, { label: _mi18n2.default.get(\'ungrouped\'), value: \'f-field-group\' }]\n      },\n      config: {\n        label: _mi18n2.default.get(\'button\'),\n        hideLabel: true,\n        disabledAttrs: [\'type\']\n      },\n      meta: {\n        group: \'common\',\n        icon: \'button\',\n        id: \'button\'\n      },\n      options: [{\n        label: _mi18n2.default.get(\'button\'),\n        type: [{ label: _mi18n2.default.get(\'button\'), value: \'button\', selected: true }, { label: _mi18n2.default.get(\'reset\'), value: \'reset\' }, { label: _mi18n2.default.get(\'submit\'), value: \'submit\' }],\n        className: [{\n          label: _mi18n2.default.get(\'default\'),\n          value: \'\',\n          selected: true\n        }, {\n          label: _mi18n2.default.get(\'primary\'),\n          value: \'primary\'\n        }, {\n          label: _mi18n2.default.get(\'danger\'),\n          value: \'error\' }, {\n          label: _mi18n2.default.get(\'success\'),\n          value: \'success\' }, {\n          label: _mi18n2.default.get(\'warning\'),\n          value: \'warning\'\n        }]\n      }]\n    }, {\n      tag: \'select\',\n      config: {\n        label: _mi18n2.default.get(\'select\')\n      },\n      attrs: {\n        required: false,\n        className: \'\'\n      },\n      meta: {\n        group: \'common\',\n        icon: \'select\',\n        id: \'select\'\n      },\n      options: [1, 2, 3, 4].map(function (i) {\n        return {\n          label: _mi18n2.default.get(\'labelCount\', {\n            label: _mi18n2.default.get(\'option\'),\n            count: i\n          }),\n          value: \'option-\' + i,\n          selected: false\n        };\n      })\n    }, {\n      tag: \'textarea\',\n      config: {\n        label: _mi18n2.default.get(\'textarea\')\n      },\n\n      meta: {\n        group: \'common\',\n        icon: \'textarea\',\n        id: \'textarea\'\n      },\n      attrs: {\n        required: false\n      }\n    }, {\n      tag: \'input\',\n      attrs: {\n        type: \'checkbox\',\n        required: false\n      },\n      config: {\n        label: _mi18n2.default.get(\'checkboxes\'),\n        disabledAttrs: [\'type\']\n      },\n      meta: {\n        group: \'common\',\n        icon: \'checkbox\',\n        id: \'checkbox\'\n      },\n      options: [{\n        label: _mi18n2.default.get(\'labelCount\', {\n          label: _mi18n2.default.get(\'checkbox\'),\n          count: 1\n        }),\n        value: \'checkbox-1\',\n        selected: true\n      }]\n    }, {\n      tag: \'input\',\n      attrs: {\n        type: \'radio\',\n        required: false\n      },\n      config: {\n        label: _mi18n2.default.get(\'radioGroup\'),\n        disabledAttrs: [\'type\']\n      },\n      meta: {\n        group: \'common\',\n        icon: \'radio-group\',\n        id: \'radio\'\n      },\n      options: [1, 2, 3].map(function (i) {\n        return {\n          label: _mi18n2.default.get(\'labelCount\', { label: _mi18n2.default.get(\'radio\'), count: i }),\n          value: \'radio-\' + i,\n          selected: false\n        };\n      })\n    }, {\n      tag: \'h1\',\n      attrs: {\n        tag: [{ value: \'h1\', label: \'H1\' }, { value: \'h2\', label: \'H2\' }, { value: \'h3\', label: \'H3\' }, { value: \'h4\', label: \'H4\' }],\n        className: \'\'\n      },\n      config: {\n        label: _mi18n2.default.get(\'header\'),\n        editable: true,\n        hideLabel: true\n      },\n      meta: {\n        group: \'html\',\n        icon: \'header\',\n        id: \'header\'\n      },\n      content: _mi18n2.default.get(\'header\')\n    }, {\n      tag: \'p\',\n      attrs: {\n        className: \'\'\n      },\n      config: {\n        label: _mi18n2.default.get(\'paragraph\'),\n        hideLabel: true,\n        editable: true\n      },\n      meta: {\n        group: \'html\',\n        icon: \'paragraph\',\n        id: \'paragraph\'\n      },\n\n      content: \'You can type some text here.\'\n    }, {\n      tag: \'hr\',\n      config: {\n        label: _mi18n2.default.get(\'separator\'),\n        hideLabel: true\n      },\n      meta: {\n        group: \'html\',\n        icon: \'divider\',\n        id: \'divider\'\n      }\n    }, {\n      tag: \'input\',\n      attrs: {\n        type: \'file\',\n        required: false\n      },\n      config: {\n        disabledAttrs: [\'type\'],\n        label: _mi18n2.default.get(\'fileUpload\')\n      },\n      meta: {\n        group: \'common\',\n        icon: \'upload\',\n        id: \'upload\'\n      },\n      fMap: \'attrs.value\'\n    }, {\n      tag: \'input\',\n      attrs: {\n        type: \'number\',\n        required: false,\n        className: \'\'\n      },\n      config: {\n        label: _mi18n2.default.get(\'number\'),\n        disabledAttrs: [\'type\']\n      },\n      meta: {\n        group: \'common\',\n        icon: \'hash\',\n        id: \'number\'\n      },\n      fMap: \'attrs.value\'\n    }, {\n      tag: \'input\',\n      attrs: {\n        type: \'hidden\',\n        value: \'\'\n      },\n      config: {\n        label: _mi18n2.default.get(\'hidden\'),\n        hideLabel: true\n      },\n      meta: {\n        group: \'common\',\n        icon: \'hidden\',\n        id: \'hidden\'\n      },\n      fMap: \'attrs.value\'\n    }];\n\n    this.defaults = {\n      sortable: true,\n      elementOrder: {},\n      groups: [{\n        id: \'layout\',\n        label: _mi18n2.default.get(\'layout\'),\n        elementOrder: [\'row\', \'column\']\n      }, {\n        id: \'common\',\n        label: _mi18n2.default.get(\'commonFields\'),\n        elementOrder: [\'button\', \'checkbox\']\n      }, {\n        id: \'html\',\n        label: _mi18n2.default.get(\'htmlElements\'),\n        elementOrder: [\'header\', \'block-text\']\n      }],\n      disable: {\n        groups: [],\n        elements: []\n      },\n      elements: []\n    };\n\n    opts = _helpers2.default.merge(this.defaults, controlOptions);\n\n    opts.elements = opts.elements.concat(defaultElements);\n\n    this.controlEvents = {\n      focus: function focus(evt) {\n        var currentGroup = (0, _utils.closestFtype)(evt.target);\n        _this.panels.nav.refresh(_helpers2.default.indexOfNode(currentGroup));\n      },\n      click: function click(evt) {\n        return _this.addElement(evt.target.parentElement.id);\n      }\n    };\n\n    this.buildDOM();\n  }\n\n  Controls.prototype.applyControlEvents = function applyControlEvents(evt) {\n    var item = evt.item;\n\n    var control = document.getElementById(item.id);\n    var button = control.querySelector(\'button\');\n    var actions = Object.keys(this.controlEvents);\n    for (var i = actions.length - 1; i >= 0; i--) {\n      var event = actions[i];\n      button.addEventListener(event, this.controlEvents[event]);\n    }\n  };\n\n  Controls.prototype.prepElement = function prepElement(elem) {\n    var _this = this;\n    var dataID = (0, _utils.uuid)();\n    var button = {\n      tag: \'button\',\n      attrs: {\n        type: \'button\'\n      },\n      content: [elem.config.label],\n      action: _this.controlEvents\n    };\n    var elementControl = {\n      tag: \'li\',\n      className: [\'field-control\', elem.meta.group + \'-control\', elem.meta.id + \'-control\'],\n      id: dataID,\n      cPosition: {},\n      content: button\n    };\n\n    if (elem.meta.icon) {\n      button.content.unshift(_dom2.default.icon(elem.meta.icon));\n    }\n\n    _data.registeredFields[dataID] = _data.registeredFields[elem.meta.id] = elem;\n    return elementControl;\n  };\n\n  Controls.prototype.groupElements = function groupElements() {\n    var _this2 = this;\n\n    var _this = this;\n    var groups = opts.groups.slice();\n    var elements = opts.elements.slice();\n    var allGroups = [];\n    var usedElementIds = [];\n\n    groups = _helpers2.default.orderObjectsBy(groups, this.groupOrder, \'id\');\n\n    groups = groups.filter(function (group) {\n      return (0, _utils.match)(group.id, opts.disable.groups);\n    });\n\n    allGroups = _helpers2.default.map(groups, function (i) {\n      var group = {\n        tag: \'ul\',\n        attrs: {\n          className: \'control-group\',\n          id: _this.formID + \'-\' + groups[i].id + \'-control-group\'\n        },\n        fType: \'controlGroup\',\n        config: {\n          label: groups[i].label || \'\'\n        }\n      };\n\n      if (opts.elementOrder[groups[i].id]) {\n        var userOrder = opts.elementOrder[groups[i].id];\n        var newOrder = (0, _utils.unique)(userOrder.concat(groups[i].elementOrder));\n        groups[i].elementOrder = newOrder;\n      }\n      elements = _helpers2.default.orderObjectsBy(elements, groups[i].elementOrder, \'meta.id\');\n\n      group.content = elements.filter(function (field) {\n        var fieldId = field.meta.id || \'\';\n        var filters = [(0, _utils.match)(fieldId, opts.disable.elements), field.meta.group === groups[i].id, !_helpers2.default.inArray(field.meta.id, usedElementIds)];\n\n        var shouldFilter = true;\n        shouldFilter = filters.every(function (val) {\n          return val === true;\n        });\n        if (shouldFilter) {\n          usedElementIds.push(fieldId);\n        }\n\n        return shouldFilter;\n      }).map(function (field) {\n        return _this.prepElement.call(_this2, field);\n      });\n\n      return group;\n    });\n\n    return allGroups;\n  };\n\n  Controls.prototype.formActions = function formActions() {\n    var btnTemplate = {\n      tag: \'button\',\n      attrs: {\n        type: \'button\'\n      }\n    };\n\n    var clearBtn = _helpers2.default.merge(btnTemplate, {\n      content: [_dom2.default.icon(\'bin\'), _mi18n2.default.get(\'clear\')],\n      className: [\'clear-form\'],\n      attrs: {\n        title: _mi18n2.default.get(\'clearAll\')\n      },\n      action: {\n        click: function click(evt) {\n          if (_data.formData.rows.size) {\n            _events2.default.confirmClearAll = new CustomEvent(\'confirmClearAll\', {\n              detail: {\n                confirmationMessage: _mi18n2.default.get(\'confirmClearAll\'),\n                clearAllAction: _dom2.default.clearForm.bind(_dom2.default),\n                btnCoords: _dom2.default.coords(evt.target),\n                rows: _dom2.default.rows,\n                rowCount: _dom2.default.rows.size\n              }\n            });\n\n            document.dispatchEvent(_events2.default.confirmClearAll);\n          } else {\n            alert(\'There are no fields to clear\');\n          }\n        }\n      }\n    });\n\n    var saveBtn = _helpers2.default.merge(btnTemplate, {\n      content: [_dom2.default.icon(\'floppy-disk\'), _mi18n2.default.get(\'save\')],\n      attrs: {\n        title: _mi18n2.default.get(\'save\')\n      },\n      className: [\'save-form\'],\n      action: {\n        click: function click(evt) {\n          _data.data.save();\n        }\n      }\n    });\n    var formActions = {\n      tag: \'div\',\n      className: \'form-actions f-btn-group\',\n\n      content: [clearBtn, saveBtn]\n    };\n\n    return formActions;\n  };\n\n  Controls.prototype.buildDOM = function buildDOM() {\n    if (this.element) {\n      return this.element;\n    }\n    var _this = this;\n    var groupedFields = this.groupElements();\n    var formActions = this.formActions();\n    _this.panels = new _panels2.default({ panels: groupedFields, type: \'controls\' });\n    var groupsWrapClasses = [\'control-groups\', \'panels-wrap\', \'panel-count-\' + groupedFields.length];\n    var groupsWrap = _dom2.default.create({\n      tag: \'div\',\n      className: groupsWrapClasses,\n      content: _this.panels.content\n    });\n\n    var element = _dom2.default.create({\n      tag: \'div\',\n      className: this.formID + \'-controls formeo-controls\',\n      content: [groupsWrap, formActions]\n    });\n    var groups = element.getElementsByClassName(\'control-group\');\n\n    this.element = element;\n    this.groups = groups;\n    this.currentGroup = groups[0];\n\n    this.actions = {\n      filter: function filter(term) {\n        var cpContent = _this.panels.content[1];\n        var filtering = term !== \'\';\n        var filteredTerm = groupsWrap.querySelector(\'.filtered-term\');\n        var fields = cpContent.querySelectorAll(\'.field-control\');\n\n        _helpers2.default.toggleElementsByStr(fields, term);\n\n        if (filtering) {\n          var filteredStr = \'Filtering \\\'\' + term + \'\\\'\';\n\n          element.classList.add(\'filtered\');\n\n          if (filteredTerm) {\n            filteredTerm.textContent = filteredStr;\n          } else {\n            filteredTerm = _dom2.default.create({\n              tag: \'h5\',\n              className: \'filtered-term\',\n              content: filteredStr\n            });\n            groupsWrap.insertBefore(filteredTerm, groupsWrap.firstChild);\n          }\n        } else if (filteredTerm) {\n          element.classList.remove(\'filtered\');\n          filteredTerm.remove();\n        }\n      },\n      addElement: _this.addElement,\n      addGroup: function addGroup(group) {\n        return console.log(group);\n      }\n    };\n\n    var _loop = function _loop(i) {\n      var storeID = \'formeo-controls-\' + groups[i];\n      if (!opts.sortable) {\n        localStorage.removeItem(storeID);\n      }\n      _sortablejs2.default.create(groups[i], {\n        animation: 150,\n        forceFallback: true,\n        fallbackClass: \'control-moving\',\n        fallbackOnBody: true,\n        group: {\n          name: \'controls\',\n          pull: \'clone\',\n          put: false\n        },\n        onRemove: _this.applyControlEvents.bind(_this),\n        sort: opts.sortable,\n        store: {\n          get: function get(sortable) {\n            var order = localStorage.getItem(storeID);\n            return order ? order.split(\'|\') : [];\n          },\n\n          set: function set(sortable) {\n            var order = sortable.toArray();\n            localStorage.setItem(storeID, order.join(\'|\'));\n          }\n        }\n      });\n    };\n\n    for (var i = groups.length - 1; i >= 0; i--) {\n      _loop(i);\n    }\n\n    return element;\n  };\n\n  Controls.prototype.addElement = function addElement(id) {\n    var row = _dom2.default.addRow();\n    var meta = _helpers2.default.get(_data.registeredFields[id], \'meta\');\n    if (meta.group !== \'layout\') {\n      var column = _dom2.default.addColumn(row.id);\n      _dom2.default.addField(column.id, id);\n    } else if (meta.id === \'layout-column\') {\n      _dom2.default.addColumn(row.id);\n    }\n\n    _data.data.saveColumnOrder(row);\n    _dom2.default.columnWidths(row);\n    _data.data.save();\n  };\n\n  return Controls;\n}();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL2NvbXBvbmVudHMvY29udHJvbHMuanM/OWRlNCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgU29ydGFibGUgZnJvbSAnc29ydGFibGVqcyc7XG5pbXBvcnQgaTE4biBmcm9tICdtaTE4bic7XG5pbXBvcnQge2RhdGEsIGZvcm1EYXRhLCByZWdpc3RlcmVkRmllbGRzIGFzIHJGaWVsZHN9IGZyb20gJy4uL2NvbW1vbi9kYXRhJztcbmltcG9ydCBoIGZyb20gJy4uL2NvbW1vbi9oZWxwZXJzJztcbmltcG9ydCBldmVudHMgZnJvbSAnLi4vY29tbW9uL2V2ZW50cyc7XG5pbXBvcnQge21hdGNoLCB1bmlxdWUsIHV1aWQsIGNsb3Nlc3RGdHlwZX0gZnJvbSAnLi4vY29tbW9uL3V0aWxzJztcbmltcG9ydCBkb20gZnJvbSAnLi4vY29tbW9uL2RvbSc7XG5pbXBvcnQgUGFuZWxzIGZyb20gJy4vcGFuZWxzJztcblxubGV0IG9wdHMgPSB7fTtcblxuLyoqXG4gKlxuICovXG5leHBvcnQgY2xhc3MgQ29udHJvbHMge1xuICAvKipcbiAgICogU2V0dXAgZGVmYXVsdHMgYW5kIHJldHVybiBDb250cm9scyBET01cbiAgICogQHBhcmFtICB7T2JqZWN0fSBjb250cm9sT3B0aW9uc1xuICAgKiBAcGFyYW0gIHtTdHJpbmd9IGZvcm1JRFxuICAgKi9cbiAgY29uc3RydWN0b3IoY29udHJvbE9wdGlvbnMsIGZvcm1JRCkge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgdGhpcy5mb3JtSUQgPSBmb3JtSUQ7XG4gICAgbGV0IHtncm91cE9yZGVyID0gW119ID0gY29udHJvbE9wdGlvbnM7XG4gICAgdGhpcy5ncm91cE9yZGVyID0gdW5pcXVlKGdyb3VwT3JkZXIuY29uY2F0KFtcbiAgICAgICdjb21tb24nLFxuICAgICAgJ2h0bWwnLFxuICAgICAgJ2xheW91dCcsXG4gICAgXSkpO1xuICAgIHRoaXMuY1Bvc2l0aW9uID0ge307XG4gICAgY29uc3QgZGVmYXVsdEVsZW1lbnRzID0gW3tcbiAgICAgICAgdGFnOiAnZGl2JyxcbiAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgbGFiZWw6IGkxOG4uZ2V0KCdjb2x1bW4nKVxuICAgICAgICB9LFxuICAgICAgICBtZXRhOiB7XG4gICAgICAgICAgZ3JvdXA6ICdsYXlvdXQnLFxuICAgICAgICAgIGljb246ICdjb2x1bW5zJyxcbiAgICAgICAgICBpZDogJ2xheW91dC1jb2x1bW4nXG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgdGFnOiAnZGl2JyxcbiAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgbGFiZWw6IGkxOG4uZ2V0KCdyb3cnKVxuICAgICAgICB9LFxuICAgICAgICBtZXRhOiB7XG4gICAgICAgICAgZ3JvdXA6ICdsYXlvdXQnLFxuICAgICAgICAgIGljb246ICdyb3dzJyxcbiAgICAgICAgICBpZDogJ2xheW91dC1yb3cnXG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgdGFnOiAnaW5wdXQnLFxuICAgICAgICBhdHRyczoge1xuICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgICAgICAgY2xhc3NOYW1lOiAnJ1xuICAgICAgICB9LFxuICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICBkaXNhYmxlZEF0dHJzOiBbJ3R5cGUnXSxcbiAgICAgICAgICBsYWJlbDogaTE4bi5nZXQoJ2lucHV0LnRleHQnKVxuICAgICAgICB9LFxuICAgICAgICBtZXRhOiB7XG4gICAgICAgICAgZ3JvdXA6ICdjb21tb24nLFxuICAgICAgICAgIGljb246ICd0ZXh0LWlucHV0JyxcbiAgICAgICAgICBpZDogJ3RleHQtaW5wdXQnXG4gICAgICAgIH0sXG4gICAgICAgIGZNYXA6ICdhdHRycy52YWx1ZSdcbiAgICAgIH0sIHtcbiAgICAgICAgdGFnOiAnaW5wdXQnLFxuICAgICAgICBhdHRyczoge1xuICAgICAgICAgIHR5cGU6ICdkYXRlJyxcbiAgICAgICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgICAgICAgY2xhc3NOYW1lOiAnJ1xuICAgICAgICB9LFxuICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICBkaXNhYmxlZEF0dHJzOiBbJ3R5cGUnXSxcbiAgICAgICAgICBsYWJlbDogaTE4bi5nZXQoJ2lucHV0LmRhdGUnKVxuICAgICAgICB9LFxuICAgICAgICBtZXRhOiB7XG4gICAgICAgICAgZ3JvdXA6ICdjb21tb24nLFxuICAgICAgICAgIGljb246ICdjYWxlbmRhcicsXG4gICAgICAgICAgaWQ6ICdkYXRlLWlucHV0J1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIHRhZzogJ2J1dHRvbicsXG4gICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgY2xhc3NOYW1lOiBbXG4gICAgICAgICAgICB7bGFiZWw6IGkxOG4uZ2V0KCdncm91cGVkJyksIHZhbHVlOiAnZi1idG4tZ3JvdXAnfSxcbiAgICAgICAgICAgIHtsYWJlbDogaTE4bi5nZXQoJ3VuZ3JvdXBlZCcpLCB2YWx1ZTogJ2YtZmllbGQtZ3JvdXAnfSxcbiAgICAgICAgICBdXG4gICAgICAgIH0sXG4gICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgIGxhYmVsOiBpMThuLmdldCgnYnV0dG9uJyksXG4gICAgICAgICAgaGlkZUxhYmVsOiB0cnVlLFxuICAgICAgICAgIGRpc2FibGVkQXR0cnM6IFsndHlwZSddXG4gICAgICAgIH0sXG4gICAgICAgIG1ldGE6IHtcbiAgICAgICAgICBncm91cDogJ2NvbW1vbicsXG4gICAgICAgICAgaWNvbjogJ2J1dHRvbicsXG4gICAgICAgICAgaWQ6ICdidXR0b24nXG4gICAgICAgIH0sXG4gICAgICAgIG9wdGlvbnM6IFt7XG4gICAgICAgICAgbGFiZWw6IGkxOG4uZ2V0KCdidXR0b24nKSxcbiAgICAgICAgICB0eXBlOiBbXG4gICAgICAgICAgICB7bGFiZWw6IGkxOG4uZ2V0KCdidXR0b24nKSwgdmFsdWU6ICdidXR0b24nLCBzZWxlY3RlZDogdHJ1ZX0sXG4gICAgICAgICAgICB7bGFiZWw6IGkxOG4uZ2V0KCdyZXNldCcpLCB2YWx1ZTogJ3Jlc2V0J30sXG4gICAgICAgICAgICB7bGFiZWw6IGkxOG4uZ2V0KCdzdWJtaXQnKSwgdmFsdWU6ICdzdWJtaXQnfSxcbiAgICAgICAgICBdLFxuICAgICAgICAgIGNsYXNzTmFtZTogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBsYWJlbDogaTE4bi5nZXQoJ2RlZmF1bHQnKSxcbiAgICAgICAgICAgICAgdmFsdWU6ICcnLFxuICAgICAgICAgICAgICBzZWxlY3RlZDogdHJ1ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgbGFiZWw6IGkxOG4uZ2V0KCdwcmltYXJ5JyksXG4gICAgICAgICAgICAgIHZhbHVlOiAncHJpbWFyeSdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGxhYmVsOiBpMThuLmdldCgnZGFuZ2VyJyksXG4gICAgICAgICAgICAgIHZhbHVlOiAnZXJyb3InfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgbGFiZWw6IGkxOG4uZ2V0KCdzdWNjZXNzJyksXG4gICAgICAgICAgICAgIHZhbHVlOiAnc3VjY2Vzcyd9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBsYWJlbDogaTE4bi5nZXQoJ3dhcm5pbmcnKSxcbiAgICAgICAgICAgICAgdmFsdWU6ICd3YXJuaW5nJ1xuICAgICAgICAgICAgfVxuICAgICAgICAgIF1cbiAgICAgICAgfV1cbiAgICAgIH0sIHtcbiAgICAgICAgdGFnOiAnc2VsZWN0JyxcbiAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgbGFiZWw6IGkxOG4uZ2V0KCdzZWxlY3QnKVxuICAgICAgICB9LFxuICAgICAgICBhdHRyczoge1xuICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgICAgICBjbGFzc05hbWU6ICcnXG4gICAgICAgIH0sXG4gICAgICAgIG1ldGE6IHtcbiAgICAgICAgICBncm91cDogJ2NvbW1vbicsXG4gICAgICAgICAgaWNvbjogJ3NlbGVjdCcsXG4gICAgICAgICAgaWQ6ICdzZWxlY3QnXG4gICAgICAgIH0sXG4gICAgICAgIG9wdGlvbnM6IFsxLCAyLCAzLCA0XS5tYXAoaSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGxhYmVsOiBpMThuLmdldCgnbGFiZWxDb3VudCcsIHtcbiAgICAgICAgICAgICAgbGFiZWw6IGkxOG4uZ2V0KCdvcHRpb24nKSxcbiAgICAgICAgICAgICAgY291bnQ6IGlcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgdmFsdWU6ICdvcHRpb24tJyArIGksXG4gICAgICAgICAgICBzZWxlY3RlZDogZmFsc2VcbiAgICAgICAgICB9O1xuICAgICAgICB9KVxuICAgICAgfSwge1xuICAgICAgICB0YWc6ICd0ZXh0YXJlYScsXG4gICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgIGxhYmVsOiBpMThuLmdldCgndGV4dGFyZWEnKVxuICAgICAgICB9LFxuICAgICAgICAvLyBUaGlzIGlzIHRoZSBiZWdpbm5pbmcgb2YgYWN0aW9ucyBiZWluZyBzdXBwb3J0ZWQgZm9yIHJlbmRlclxuICAgICAgICAvLyBlZGl0b3IgZmllbGQgYWN0aW9ucyBzaG91bGQgYmUgaW4gY29uZmlnLmFjdGlvblxuICAgICAgICAvLyBhY3Rpb246IHtcbiAgICAgICAgLy8gICBtb3VzZWRvd246IGZ1bmN0aW9uKGV2dCkge1xuICAgICAgICAvLyAgICAgbGV0IHt0YXJnZXR9ID0gZXZ0O1xuICAgICAgICAvLyAgICAgbGV0IHN0YXJ0SGVpZ2h0ID0gdGFyZ2V0LnN0eWxlLmhlaWdodDtcbiAgICAgICAgLy8gICAgIGNvbnN0IG9uTW91c2V1cCA9IGV2dCA9PiB7XG4gICAgICAgIC8vICAgICAgIGxldCB7dGFyZ2V0fSA9IGV2dDtcbiAgICAgICAgLy8gICAgICAgbGV0IGVuZEhlaWdodCA9IHRhcmdldC5zdHlsZS5oZWlnaHQ7XG4gICAgICAgIC8vICAgICAgIGlmIChzdGFydEhlaWdodCAhPT0gZW5kSGVpZ2h0KSB7XG4gICAgICAgIC8vICAgICAgICAgLy9lc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgICAgLy8gICAgICAgICBsZXQgZmllbGRJRCA9IGNsb3Nlc3QodGFyZ2V0LCAnLnN0YWdlLWZpZWxkcycpLmlkO1xuICAgICAgICAvLyAgICAgICAgIGNvbnN0IGZpZWxkID0gZC5maWVsZHMuZ2V0KGZpZWxkSUQpLmluc3RhbmNlO1xuICAgICAgICAvLyAgICAgICAgIGZpZWxkLmFkZEF0dHJpYnV0ZSgnc3R5bGUnLCBgaGVpZ2h0OiAke2VuZEhlaWdodH1gKTtcbiAgICAgICAgLy8gICAgICAgfVxuICAgICAgICAvLyAgICAgICB0YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIG9uTW91c2V1cCk7XG4gICAgICAgIC8vICAgICB9O1xuICAgICAgICAvLyAgICAgdGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBvbk1vdXNldXApO1xuICAgICAgICAvLyAgIH1cbiAgICAgICAgLy8gfSxcbiAgICAgICAgbWV0YToge1xuICAgICAgICAgIGdyb3VwOiAnY29tbW9uJyxcbiAgICAgICAgICBpY29uOiAndGV4dGFyZWEnLFxuICAgICAgICAgIGlkOiAndGV4dGFyZWEnXG4gICAgICAgIH0sXG4gICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlXG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgdGFnOiAnaW5wdXQnLFxuICAgICAgICBhdHRyczoge1xuICAgICAgICAgIHR5cGU6ICdjaGVja2JveCcsXG4gICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlXG4gICAgICAgIH0sXG4gICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgIGxhYmVsOiBpMThuLmdldCgnY2hlY2tib3hlcycpLFxuICAgICAgICAgIGRpc2FibGVkQXR0cnM6IFsndHlwZSddXG4gICAgICAgIH0sXG4gICAgICAgIG1ldGE6IHtcbiAgICAgICAgICBncm91cDogJ2NvbW1vbicsXG4gICAgICAgICAgaWNvbjogJ2NoZWNrYm94JyxcbiAgICAgICAgICBpZDogJ2NoZWNrYm94J1xuICAgICAgICB9LFxuICAgICAgICBvcHRpb25zOiBbe1xuICAgICAgICAgIGxhYmVsOiBpMThuLmdldCgnbGFiZWxDb3VudCcsIHtcbiAgICAgICAgICAgIGxhYmVsOiBpMThuLmdldCgnY2hlY2tib3gnKSxcbiAgICAgICAgICAgIGNvdW50OiAxXG4gICAgICAgICAgfSksXG4gICAgICAgICAgdmFsdWU6ICdjaGVja2JveC0xJyxcbiAgICAgICAgICBzZWxlY3RlZDogdHJ1ZVxuICAgICAgICB9XVxuICAgICAgfSwge1xuICAgICAgICB0YWc6ICdpbnB1dCcsXG4gICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgdHlwZTogJ3JhZGlvJyxcbiAgICAgICAgICByZXF1aXJlZDogZmFsc2VcbiAgICAgICAgfSxcbiAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgbGFiZWw6IGkxOG4uZ2V0KCdyYWRpb0dyb3VwJyksXG4gICAgICAgICAgZGlzYWJsZWRBdHRyczogWyd0eXBlJ11cbiAgICAgICAgfSxcbiAgICAgICAgbWV0YToge1xuICAgICAgICAgIGdyb3VwOiAnY29tbW9uJyxcbiAgICAgICAgICBpY29uOiAncmFkaW8tZ3JvdXAnLFxuICAgICAgICAgIGlkOiAncmFkaW8nXG4gICAgICAgIH0sXG4gICAgICAgIG9wdGlvbnM6IFsxLCAyLCAzXS5tYXAoaSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGxhYmVsOiBpMThuLmdldCgnbGFiZWxDb3VudCcsIHtsYWJlbDogaTE4bi5nZXQoJ3JhZGlvJyksIGNvdW50OiBpfSksXG4gICAgICAgICAgICB2YWx1ZTogJ3JhZGlvLScgKyBpLFxuICAgICAgICAgICAgc2VsZWN0ZWQ6IGZhbHNlXG4gICAgICAgICAgfTtcbiAgICAgICAgfSlcbiAgICAgIH0sIHtcbiAgICAgICAgdGFnOiAnaDEnLFxuICAgICAgICBhdHRyczoge1xuICAgICAgICAgIHRhZzogW1xuICAgICAgICAgICAge3ZhbHVlOiAnaDEnLCBsYWJlbDogJ0gxJ30sXG4gICAgICAgICAgICB7dmFsdWU6ICdoMicsIGxhYmVsOiAnSDInfSxcbiAgICAgICAgICAgIHt2YWx1ZTogJ2gzJywgbGFiZWw6ICdIMyd9LFxuICAgICAgICAgICAge3ZhbHVlOiAnaDQnLCBsYWJlbDogJ0g0J31cbiAgICAgICAgICBdLFxuICAgICAgICAgIGNsYXNzTmFtZTogJydcbiAgICAgICAgfSxcbiAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgbGFiZWw6IGkxOG4uZ2V0KCdoZWFkZXInKSxcbiAgICAgICAgICBlZGl0YWJsZTogdHJ1ZSxcbiAgICAgICAgICBoaWRlTGFiZWw6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgbWV0YToge1xuICAgICAgICAgIGdyb3VwOiAnaHRtbCcsXG4gICAgICAgICAgaWNvbjogJ2hlYWRlcicsXG4gICAgICAgICAgaWQ6ICdoZWFkZXInXG4gICAgICAgIH0sXG4gICAgICAgIGNvbnRlbnQ6IGkxOG4uZ2V0KCdoZWFkZXInKVxuICAgICAgfSwge1xuICAgICAgICB0YWc6ICdwJyxcbiAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICBjbGFzc05hbWU6ICcnXG4gICAgICAgIH0sXG4gICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgIGxhYmVsOiBpMThuLmdldCgncGFyYWdyYXBoJyksXG4gICAgICAgICAgaGlkZUxhYmVsOiB0cnVlLFxuICAgICAgICAgIGVkaXRhYmxlOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgICBtZXRhOiB7XG4gICAgICAgICAgZ3JvdXA6ICdodG1sJyxcbiAgICAgICAgICBpY29uOiAncGFyYWdyYXBoJyxcbiAgICAgICAgICBpZDogJ3BhcmFncmFwaCdcbiAgICAgICAgfSxcbiAgICAgICAgLy9lc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgICAgY29udGVudDogJ1lvdSBjYW4gdHlwZSBzb21lIHRleHQgaGVyZS4nXG4gICAgICB9LCB7XG4gICAgICAgIHRhZzogJ2hyJyxcbiAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgbGFiZWw6IGkxOG4uZ2V0KCdzZXBhcmF0b3InKSxcbiAgICAgICAgICBoaWRlTGFiZWw6IHRydWVcbiAgICAgICAgfSxcbiAgICAgICAgbWV0YToge1xuICAgICAgICAgIGdyb3VwOiAnaHRtbCcsXG4gICAgICAgICAgaWNvbjogJ2RpdmlkZXInLFxuICAgICAgICAgIGlkOiAnZGl2aWRlcidcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdGFnOiAnaW5wdXQnLFxuICAgICAgICBhdHRyczoge1xuICAgICAgICAgIHR5cGU6ICdmaWxlJyxcbiAgICAgICAgICByZXF1aXJlZDogZmFsc2VcbiAgICAgICAgfSxcbiAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgZGlzYWJsZWRBdHRyczogWyd0eXBlJ10sXG4gICAgICAgICAgbGFiZWw6IGkxOG4uZ2V0KCdmaWxlVXBsb2FkJylcbiAgICAgICAgfSxcbiAgICAgICAgbWV0YToge1xuICAgICAgICAgIGdyb3VwOiAnY29tbW9uJyxcbiAgICAgICAgICBpY29uOiAndXBsb2FkJyxcbiAgICAgICAgICBpZDogJ3VwbG9hZCdcbiAgICAgICAgfSxcbiAgICAgICAgZk1hcDogJ2F0dHJzLnZhbHVlJ1xuICAgICAgfSwge1xuICAgICAgICB0YWc6ICdpbnB1dCcsXG4gICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgICAgIGNsYXNzTmFtZTogJydcbiAgICAgICAgfSxcbiAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgbGFiZWw6IGkxOG4uZ2V0KCdudW1iZXInKSxcbiAgICAgICAgICBkaXNhYmxlZEF0dHJzOiBbJ3R5cGUnXVxuICAgICAgICB9LFxuICAgICAgICBtZXRhOiB7XG4gICAgICAgICAgZ3JvdXA6ICdjb21tb24nLFxuICAgICAgICAgIGljb246ICdoYXNoJyxcbiAgICAgICAgICBpZDogJ251bWJlcidcbiAgICAgICAgfSxcbiAgICAgICAgZk1hcDogJ2F0dHJzLnZhbHVlJ1xuICAgICAgfSwge1xuICAgICAgICB0YWc6ICdpbnB1dCcsXG4gICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgdHlwZTogJ2hpZGRlbicsXG4gICAgICAgICAgdmFsdWU6ICcnXG4gICAgICAgIH0sXG4gICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgIGxhYmVsOiBpMThuLmdldCgnaGlkZGVuJyksXG4gICAgICAgICAgaGlkZUxhYmVsOiB0cnVlLFxuICAgICAgICB9LFxuICAgICAgICBtZXRhOiB7XG4gICAgICAgICAgZ3JvdXA6ICdjb21tb24nLFxuICAgICAgICAgIGljb246ICdoaWRkZW4nLFxuICAgICAgICAgIGlkOiAnaGlkZGVuJ1xuICAgICAgICB9LFxuICAgICAgICBmTWFwOiAnYXR0cnMudmFsdWUnXG4gICAgICB9XTtcblxuICAgIHRoaXMuZGVmYXVsdHMgPSB7XG4gICAgICBzb3J0YWJsZTogdHJ1ZSxcbiAgICAgIGVsZW1lbnRPcmRlcjoge30sXG4gICAgICBncm91cHM6IFt7XG4gICAgICAgIGlkOiAnbGF5b3V0JyxcbiAgICAgICAgbGFiZWw6IGkxOG4uZ2V0KCdsYXlvdXQnKSxcbiAgICAgICAgZWxlbWVudE9yZGVyOiBbXG4gICAgICAgICAgJ3JvdycsXG4gICAgICAgICAgJ2NvbHVtbidcbiAgICAgICAgXVxuICAgICAgfSwge1xuICAgICAgICBpZDogJ2NvbW1vbicsXG4gICAgICAgIGxhYmVsOiBpMThuLmdldCgnY29tbW9uRmllbGRzJyksXG4gICAgICAgIGVsZW1lbnRPcmRlcjogW1xuICAgICAgICAnYnV0dG9uJyxcbiAgICAgICAgJ2NoZWNrYm94JyxcbiAgICAgICAgXVxuICAgICAgfSwge1xuICAgICAgICBpZDogJ2h0bWwnLFxuICAgICAgICBsYWJlbDogaTE4bi5nZXQoJ2h0bWxFbGVtZW50cycpLFxuICAgICAgICBlbGVtZW50T3JkZXI6IFtcbiAgICAgICAgICAnaGVhZGVyJyxcbiAgICAgICAgICAnYmxvY2stdGV4dCdcbiAgICAgICAgXVxuICAgICAgfV0sXG4gICAgICBkaXNhYmxlOiB7XG4gICAgICAgIGdyb3VwczogW10sXG4gICAgICAgIGVsZW1lbnRzOiBbXVxuICAgICAgfSxcbiAgICAgIGVsZW1lbnRzOiBbXVxuICAgIH07XG5cbiAgICBvcHRzID0gaC5tZXJnZSh0aGlzLmRlZmF1bHRzLCBjb250cm9sT3B0aW9ucyk7XG5cbiAgICBvcHRzLmVsZW1lbnRzID0gb3B0cy5lbGVtZW50cy5jb25jYXQoZGVmYXVsdEVsZW1lbnRzKTtcblxuICAgIHRoaXMuY29udHJvbEV2ZW50cyA9IHtcbiAgICAgIGZvY3VzOiBldnQgPT4ge1xuICAgICAgICAgIGxldCBjdXJyZW50R3JvdXAgPSBjbG9zZXN0RnR5cGUoZXZ0LnRhcmdldCk7XG4gICAgICAgICAgX3RoaXMucGFuZWxzLm5hdi5yZWZyZXNoKGguaW5kZXhPZk5vZGUoY3VycmVudEdyb3VwKSk7XG4gICAgICAgIH0sXG4gICAgICBjbGljazogZXZ0ID0+IF90aGlzLmFkZEVsZW1lbnQoZXZ0LnRhcmdldC5wYXJlbnRFbGVtZW50LmlkKVxuICAgICAgLy8gbW91c2Vkb3duOiBldnQgPT4ge1xuICAgICAgLy8gICBsZXQgcG9zaXRpb24gPSBfdGhpcy5jUG9zaXRpb247XG4gICAgICAvLyAgIHBvc2l0aW9uLnggPSBldnQuY2xpZW50WDtcbiAgICAgIC8vICAgcG9zaXRpb24ueSA9IGV2dC5jbGllbnRZO1xuICAgICAgLy8gfSxcbiAgICAgIC8vIG1vdXNldXA6IGV2dCA9PiB7XG4gICAgICAvLyAgIGxldCBwb3NpdGlvbiA9IF90aGlzLmNQb3NpdGlvbjtcbiAgICAgIC8vICAgaWYgKGNsaWNrZWQoZXZ0LmNsaWVudFgsIGV2dC5jbGllbnRZLCBwb3NpdGlvbiwgZXZ0LmJ1dHRvbikpIHtcbiAgICAgIC8vICAgICBfdGhpcy5hZGRFbGVtZW50KGV2dC50YXJnZXQucGFyZW50RWxlbWVudC5pZCk7XG4gICAgICAvLyAgIH1cbiAgICAgIC8vIH1cbiAgICB9O1xuXG4gICAgdGhpcy5idWlsZERPTSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIERyYWdnaW5nIGZvcm0gdGhlIGNvbnRyb2wgYmFyIGNsZWFycyBlbGVtZW50XG4gICAqIGV2ZW50cyBsZXRzIGFkZCB0aGVtIGJhY2sgYWZ0ZXIgZHJhZy5cbiAgICogQHBhcmFtICB7T2JqZWN0fSBldnRcbiAgICovXG4gIGFwcGx5Q29udHJvbEV2ZW50cyhldnQpIHtcbiAgICBsZXQge2l0ZW19ID0gZXZ0O1xuICAgIGxldCBjb250cm9sID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaXRlbS5pZCk7XG4gICAgbGV0IGJ1dHRvbiA9IGNvbnRyb2wucXVlcnlTZWxlY3RvcignYnV0dG9uJyk7XG4gICAgbGV0IGFjdGlvbnMgPSBPYmplY3Qua2V5cyh0aGlzLmNvbnRyb2xFdmVudHMpO1xuICAgIGZvciAobGV0IGkgPSBhY3Rpb25zLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICBsZXQgZXZlbnQgPSBhY3Rpb25zW2ldO1xuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsIHRoaXMuY29udHJvbEV2ZW50c1tldmVudF0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBHZW5lcmF0ZSBjb250cm9sIGNvbmZpZyBmb3IgVUkgYW5kIGJpbmQgYWN0aW9uc1xuICAgKiBAcGFyYW0gIHtPYmplY3R9IGVsZW1cbiAgICogQHJldHVybiB7T2JqZWN0fSBlbGVtZW50Q29udHJvbFxuICAgKi9cbiAgcHJlcEVsZW1lbnQoZWxlbSkge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgbGV0IGRhdGFJRCA9IHV1aWQoKTtcbiAgICBsZXQgYnV0dG9uID0ge1xuICAgICAgdGFnOiAnYnV0dG9uJyxcbiAgICAgIGF0dHJzOiB7XG4gICAgICAgIHR5cGU6ICdidXR0b24nXG4gICAgICB9LFxuICAgICAgY29udGVudDogW2VsZW0uY29uZmlnLmxhYmVsXSxcbiAgICAgIGFjdGlvbjogX3RoaXMuY29udHJvbEV2ZW50cyxcbiAgICB9O1xuICAgIGxldCBlbGVtZW50Q29udHJvbCA9IHtcbiAgICAgIHRhZzogJ2xpJyxcbiAgICAgIGNsYXNzTmFtZTogW1xuICAgICAgICAnZmllbGQtY29udHJvbCcsXG4gICAgICAgIGAke2VsZW0ubWV0YS5ncm91cH0tY29udHJvbGAsXG4gICAgICAgIGAke2VsZW0ubWV0YS5pZH0tY29udHJvbGAsXG4gICAgICBdLFxuICAgICAgaWQ6IGRhdGFJRCxcbiAgICAgIGNQb3NpdGlvbjoge30sXG4gICAgICBjb250ZW50OiBidXR0b25cbiAgICB9O1xuXG4gICAgaWYgKGVsZW0ubWV0YS5pY29uKSB7XG4gICAgICBidXR0b24uY29udGVudC51bnNoaWZ0KGRvbS5pY29uKGVsZW0ubWV0YS5pY29uKSk7XG4gICAgfVxuXG4gICAgLy8gQWRkIGZpZWxkIHRvIHRoZSByZWdpc3RlciBieSB1dWlkIGFuZCBtZXRhIGlkXG4gICAgckZpZWxkc1tkYXRhSURdID0gckZpZWxkc1tlbGVtLm1ldGEuaWRdID0gZWxlbTtcbiAgICByZXR1cm4gZWxlbWVudENvbnRyb2w7XG4gIH1cblxuICAvKipcbiAgICogR3JvdXAgZWxlbWVudHMgaW50byB0aGVpciByZXNwZWN0aXZlIGNvbnRyb2wgZ3JvdXBcbiAgICogQHJldHVybiB7QXJyYXl9IGFsbEdyb3Vwc1xuICAgKi9cbiAgZ3JvdXBFbGVtZW50cygpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIGxldCBncm91cHMgPSBvcHRzLmdyb3Vwcy5zbGljZSgpO1xuICAgIGxldCBlbGVtZW50cyA9IG9wdHMuZWxlbWVudHMuc2xpY2UoKTtcbiAgICBsZXQgYWxsR3JvdXBzID0gW107XG4gICAgbGV0IHVzZWRFbGVtZW50SWRzID0gW107XG5cbiAgICAvLyBBcHBseSBvcmRlciB0byBHcm91cHNcbiAgICBncm91cHMgPSBoLm9yZGVyT2JqZWN0c0J5KGdyb3VwcywgdGhpcy5ncm91cE9yZGVyLCAnaWQnKTtcblxuICAgIC8vIHJlbW92ZSBkaXNhYmxlZCBncm91cHNcbiAgICBncm91cHMgPSBncm91cHMuZmlsdGVyKGdyb3VwID0+IG1hdGNoKGdyb3VwLmlkLCBvcHRzLmRpc2FibGUuZ3JvdXBzKSk7XG5cbiAgICAvLyBjcmVhdGUgZ3JvdXAgY29uZmlnXG4gICAgYWxsR3JvdXBzID0gaC5tYXAoZ3JvdXBzLCAoaSkgPT4ge1xuICAgICAgbGV0IGdyb3VwID0ge1xuICAgICAgICB0YWc6ICd1bCcsXG4gICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgY2xhc3NOYW1lOiAnY29udHJvbC1ncm91cCcsXG4gICAgICAgICAgaWQ6IF90aGlzLmZvcm1JRCArICctJyArIGdyb3Vwc1tpXS5pZCArICctY29udHJvbC1ncm91cCdcbiAgICAgICAgfSxcbiAgICAgICAgZlR5cGU6ICdjb250cm9sR3JvdXAnLFxuICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICBsYWJlbDogZ3JvdXBzW2ldLmxhYmVsIHx8ICcnXG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIC8vIEFwcGx5IG9yZGVyIHRvIGVsZW1lbnRzXG4gICAgICBpZiAob3B0cy5lbGVtZW50T3JkZXJbZ3JvdXBzW2ldLmlkXSkge1xuICAgICAgICBsZXQgdXNlck9yZGVyID0gb3B0cy5lbGVtZW50T3JkZXJbZ3JvdXBzW2ldLmlkXTtcbiAgICAgICAgbGV0IG5ld09yZGVyID0gdW5pcXVlKHVzZXJPcmRlci5jb25jYXQoZ3JvdXBzW2ldLmVsZW1lbnRPcmRlcikpO1xuICAgICAgICBncm91cHNbaV0uZWxlbWVudE9yZGVyID0gbmV3T3JkZXI7XG4gICAgICB9XG4gICAgICBlbGVtZW50cyA9IGgub3JkZXJPYmplY3RzQnkoZWxlbWVudHMsIGdyb3Vwc1tpXS5lbGVtZW50T3JkZXIsICdtZXRhLmlkJyk7XG5cbiAgICAgIC8qKlxuICAgICAgICogRmlsbCBjb250cm9sIGdyb3VwcyB3aXRoIHRoZWlyIGZpZWxkc1xuICAgICAgICogQHBhcmFtICB7T2JqZWN0fSBmaWVsZCBGaWVsZCBjb25maWd1cmF0aW9uIG9iamVjdC5cbiAgICAgICAqIEByZXR1cm4ge0FycmF5fSAgICAgICAgRmlsdGVyZWQgYXJyYXkgb2YgRmllbGQgY29uZmlnIG9iamVjdHNcbiAgICAgICAqL1xuICAgICAgZ3JvdXAuY29udGVudCA9IGVsZW1lbnRzLmZpbHRlcihmaWVsZCA9PiB7XG4gICAgICAgIGxldCBmaWVsZElkID0gZmllbGQubWV0YS5pZCB8fCAnJztcbiAgICAgICAgbGV0IGZpbHRlcnMgPSBbXG4gICAgICAgICAgbWF0Y2goZmllbGRJZCwgb3B0cy5kaXNhYmxlLmVsZW1lbnRzKSxcbiAgICAgICAgICAoZmllbGQubWV0YS5ncm91cCA9PT0gZ3JvdXBzW2ldLmlkKSxcbiAgICAgICAgICAhaC5pbkFycmF5KGZpZWxkLm1ldGEuaWQsIHVzZWRFbGVtZW50SWRzKVxuICAgICAgICBdO1xuXG4gICAgICAgIGxldCBzaG91bGRGaWx0ZXIgPSB0cnVlO1xuICAgICAgICBzaG91bGRGaWx0ZXIgPSBmaWx0ZXJzLmV2ZXJ5KHZhbCA9PiB2YWwgPT09IHRydWUpO1xuICAgICAgICBpZiAoc2hvdWxkRmlsdGVyKSB7XG4gICAgICAgICAgdXNlZEVsZW1lbnRJZHMucHVzaChmaWVsZElkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzaG91bGRGaWx0ZXI7XG4gICAgICB9KS5tYXAoZmllbGQgPT4gX3RoaXMucHJlcEVsZW1lbnQuY2FsbCh0aGlzLCBmaWVsZCkpO1xuXG4gICAgICByZXR1cm4gZ3JvdXA7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gYWxsR3JvdXBzO1xuICB9XG5cbiAgLyoqXG4gICAqIFtmb3JtQWN0aW9ucyBkZXNjcmlwdGlvbl1cbiAgICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXG4gICAqL1xuICBmb3JtQWN0aW9ucygpIHtcbiAgICBsZXQgYnRuVGVtcGxhdGUgPSB7XG4gICAgICAgIHRhZzogJ2J1dHRvbicsXG4gICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgdHlwZTogJ2J1dHRvbidcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgIGxldCBjbGVhckJ0biA9IGgubWVyZ2UoYnRuVGVtcGxhdGUsIHtcbiAgICAgIGNvbnRlbnQ6IFtkb20uaWNvbignYmluJyksIGkxOG4uZ2V0KCdjbGVhcicpXSxcbiAgICAgIGNsYXNzTmFtZTogWydjbGVhci1mb3JtJ10sXG4gICAgICBhdHRyczoge1xuICAgICAgICB0aXRsZTogaTE4bi5nZXQoJ2NsZWFyQWxsJylcbiAgICAgIH0sXG4gICAgICBhY3Rpb246IHtcbiAgICAgICAgY2xpY2s6IGV2dCA9PiB7XG4gICAgICAgICAgaWYgKGZvcm1EYXRhLnJvd3Muc2l6ZSkge1xuICAgICAgICAgICAgZXZlbnRzLmNvbmZpcm1DbGVhckFsbCA9IG5ldyBDdXN0b21FdmVudCgnY29uZmlybUNsZWFyQWxsJywge1xuICAgICAgICAgICAgICBkZXRhaWw6IHtcbiAgICAgICAgICAgICAgICBjb25maXJtYXRpb25NZXNzYWdlOiBpMThuLmdldCgnY29uZmlybUNsZWFyQWxsJyksXG4gICAgICAgICAgICAgICAgY2xlYXJBbGxBY3Rpb246IGRvbS5jbGVhckZvcm0uYmluZChkb20pLFxuICAgICAgICAgICAgICAgIGJ0bkNvb3JkczogZG9tLmNvb3JkcyhldnQudGFyZ2V0KSxcbiAgICAgICAgICAgICAgICByb3dzOiBkb20ucm93cyxcbiAgICAgICAgICAgICAgICByb3dDb3VudDogZG9tLnJvd3Muc2l6ZVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgZG9jdW1lbnQuZGlzcGF0Y2hFdmVudChldmVudHMuY29uZmlybUNsZWFyQWxsKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWxlcnQoJ1RoZXJlIGFyZSBubyBmaWVsZHMgdG8gY2xlYXInKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICAvLyBsZXQgc2V0dGluZ3NCdG4gPSBoLm1lcmdlKGJ0blRlbXBsYXRlLCB7XG4gICAgLy8gICBjb250ZW50OiBbZG9tLmljb24oJ3NldHRpbmdzJyksIGkxOG4uZ2V0KCdzZXR0aW5ncycpXSxcbiAgICAvLyAgIGF0dHJzOiB7XG4gICAgLy8gICAgIHRpdGxlOiBpMThuLmdldCgnc2V0dGluZ3MnKVxuICAgIC8vICAgfSxcbiAgICAvLyAgIGNsYXNzTmFtZTogWydidG4nLCAnYnRuLXNlY29uZGFyeScsICdlZGl0LXNldHRpbmdzJ10sXG4gICAgLy8gICBhY3Rpb246IHtcbiAgICAvLyAgICAgY2xpY2s6ICgpID0+IHtcbiAgICAvLyAgICAgICBjb25zb2xlLmxvZygnY2xpY2tlZCcpO1xuICAgIC8vICAgICAgIGxldCBzdGFnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKF90aGlzLmZvcm1JRCArICctc3RhZ2UnKTtcbiAgICAvLyAgICAgICBzdGFnZS5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoJ2VkaXRpbmctc3RhZ2UnKTtcbiAgICAvLyAgICAgfVxuICAgIC8vICAgfVxuICAgIC8vIH0pO1xuICAgIGxldCBzYXZlQnRuID0gaC5tZXJnZShidG5UZW1wbGF0ZSwge1xuICAgICAgY29udGVudDogW2RvbS5pY29uKCdmbG9wcHktZGlzaycpLCBpMThuLmdldCgnc2F2ZScpXSxcbiAgICAgIGF0dHJzOiB7XG4gICAgICAgIHRpdGxlOiBpMThuLmdldCgnc2F2ZScpXG4gICAgICB9LFxuICAgICAgY2xhc3NOYW1lOiBbJ3NhdmUtZm9ybSddLFxuICAgICAgYWN0aW9uOiB7XG4gICAgICAgIGNsaWNrOiAoZXZ0KSA9PiB7XG4gICAgICAgICAgLy8gQHRvZG86IGNvbXBsZXRlIGFjdGlvbnMgY29ubmVjdGlvblxuICAgICAgICAgIC8vIGxldCBzYXZlRXZ0ID0ge1xuICAgICAgICAgIC8vICAgYWN0aW9uOiAoKSA9PiB7fSxcbiAgICAgICAgICAvLyAgIGNvb3JkczogZG9tLmNvb3JkcyhldnQudGFyZ2V0KSxcbiAgICAgICAgICAvLyAgIG1lc3NhZ2U6ICcnXG4gICAgICAgICAgLy8gfTtcblxuICAgICAgICAgIC8vIGFjdGlvbnMuY2xpY2suYnRuKHNhdmVFdnQpO1xuICAgICAgICAgIGRhdGEuc2F2ZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgbGV0IGZvcm1BY3Rpb25zID0ge1xuICAgICAgdGFnOiAnZGl2JyxcbiAgICAgIGNsYXNzTmFtZTogJ2Zvcm0tYWN0aW9ucyBmLWJ0bi1ncm91cCcsXG4gICAgICAvLyBjb250ZW50OiBbY2xlYXJCdG4sIHNldHRpbmdzQnRuLCBzYXZlQnRuXVxuICAgICAgY29udGVudDogW2NsZWFyQnRuLCBzYXZlQnRuXVxuICAgIH07XG5cbiAgICByZXR1cm4gZm9ybUFjdGlvbnM7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgbWFya3VwIGZvciB0aGUgZm9ybSBjb250cm9scy9maWVsZHNcbiAgICogQHJldHVybiB7RE9NfVxuICAgKi9cbiAgYnVpbGRET00oKSB7XG4gICAgaWYgKHRoaXMuZWxlbWVudCkge1xuICAgICAgcmV0dXJuIHRoaXMuZWxlbWVudDtcbiAgICB9XG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICBsZXQgZ3JvdXBlZEZpZWxkcyA9IHRoaXMuZ3JvdXBFbGVtZW50cygpO1xuICAgIGxldCBmb3JtQWN0aW9ucyA9IHRoaXMuZm9ybUFjdGlvbnMoKTtcbiAgICBfdGhpcy5wYW5lbHMgPSBuZXcgUGFuZWxzKHtwYW5lbHM6IGdyb3VwZWRGaWVsZHMsIHR5cGU6ICdjb250cm9scyd9KTtcbiAgICBsZXQgZ3JvdXBzV3JhcENsYXNzZXMgPSBbXG4gICAgICAnY29udHJvbC1ncm91cHMnLFxuICAgICAgJ3BhbmVscy13cmFwJyxcbiAgICAgIGBwYW5lbC1jb3VudC0ke2dyb3VwZWRGaWVsZHMubGVuZ3RofWBcbiAgICBdO1xuICAgIGxldCBncm91cHNXcmFwID0gZG9tLmNyZWF0ZSh7XG4gICAgICB0YWc6ICdkaXYnLFxuICAgICAgY2xhc3NOYW1lOiBncm91cHNXcmFwQ2xhc3NlcyxcbiAgICAgIGNvbnRlbnQ6IF90aGlzLnBhbmVscy5jb250ZW50XG4gICAgfSk7XG5cbiAgICBsZXQgZWxlbWVudCA9IGRvbS5jcmVhdGUoe1xuICAgICAgICB0YWc6ICdkaXYnLFxuICAgICAgICBjbGFzc05hbWU6IHRoaXMuZm9ybUlEICsgJy1jb250cm9scyBmb3JtZW8tY29udHJvbHMnLFxuICAgICAgICBjb250ZW50OiBbZ3JvdXBzV3JhcCwgZm9ybUFjdGlvbnNdXG4gICAgICB9KTtcbiAgICBsZXQgZ3JvdXBzID0gZWxlbWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdjb250cm9sLWdyb3VwJyk7XG5cbiAgICB0aGlzLmVsZW1lbnQgPSBlbGVtZW50O1xuICAgIHRoaXMuZ3JvdXBzID0gZ3JvdXBzO1xuICAgIHRoaXMuY3VycmVudEdyb3VwID0gZ3JvdXBzWzBdO1xuXG4gICAgdGhpcy5hY3Rpb25zID0ge1xuICAgICAgZmlsdGVyOiAodGVybSkgPT4ge1xuICAgICAgICBsZXQgY3BDb250ZW50ID0gX3RoaXMucGFuZWxzLmNvbnRlbnRbMV07XG4gICAgICAgIGxldCBmaWx0ZXJpbmcgPSAodGVybSAhPT0gJycpO1xuICAgICAgICBsZXQgZmlsdGVyZWRUZXJtID0gZ3JvdXBzV3JhcC5xdWVyeVNlbGVjdG9yKCcuZmlsdGVyZWQtdGVybScpO1xuICAgICAgICBsZXQgZmllbGRzID0gY3BDb250ZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5maWVsZC1jb250cm9sJyk7XG5cbiAgICAgICAgaC50b2dnbGVFbGVtZW50c0J5U3RyKGZpZWxkcywgdGVybSk7XG5cbiAgICAgICAgaWYgKGZpbHRlcmluZykge1xuICAgICAgICAgIC8vIEB0b2RvIGNoYW5nZSB0byB1c2UgbGFuZ3VhZ2UgZmlsZVxuICAgICAgICAgIGxldCBmaWx0ZXJlZFN0ciA9IGBGaWx0ZXJpbmcgJyR7dGVybX0nYDtcblxuICAgICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZmlsdGVyZWQnKTtcblxuICAgICAgICAgIGlmIChmaWx0ZXJlZFRlcm0pIHtcbiAgICAgICAgICAgIGZpbHRlcmVkVGVybS50ZXh0Q29udGVudCA9IGZpbHRlcmVkU3RyO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmaWx0ZXJlZFRlcm0gPSBkb20uY3JlYXRlKHtcbiAgICAgICAgICAgICAgdGFnOiAnaDUnLFxuICAgICAgICAgICAgICBjbGFzc05hbWU6ICdmaWx0ZXJlZC10ZXJtJyxcbiAgICAgICAgICAgICAgY29udGVudDogZmlsdGVyZWRTdHJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZ3JvdXBzV3JhcC5pbnNlcnRCZWZvcmUoZmlsdGVyZWRUZXJtLCBncm91cHNXcmFwLmZpcnN0Q2hpbGQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChmaWx0ZXJlZFRlcm0pIHtcbiAgICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2ZpbHRlcmVkJyk7XG4gICAgICAgICAgZmlsdGVyZWRUZXJtLnJlbW92ZSgpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgYWRkRWxlbWVudDogX3RoaXMuYWRkRWxlbWVudCxcbiAgICAgIGFkZEdyb3VwOiAoZ3JvdXApID0+IGNvbnNvbGUubG9nKGdyb3VwKVxuICAgIH07XG5cbiAgICAvLyBNYWtlIGNvbnRyb2xzIHNvcnRhYmxlXG4gICAgZm9yIChsZXQgaSA9IGdyb3Vwcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgbGV0IHN0b3JlSUQgPSBgZm9ybWVvLWNvbnRyb2xzLSR7Z3JvdXBzW2ldfWA7XG4gICAgICBpZiAoIW9wdHMuc29ydGFibGUpIHtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oc3RvcmVJRCk7XG4gICAgICB9XG4gICAgICBTb3J0YWJsZS5jcmVhdGUoZ3JvdXBzW2ldLCB7XG4gICAgICAgIGFuaW1hdGlvbjogMTUwLFxuICAgICAgICBmb3JjZUZhbGxiYWNrOiB0cnVlLFxuICAgICAgICBmYWxsYmFja0NsYXNzOiAnY29udHJvbC1tb3ZpbmcnLFxuICAgICAgICBmYWxsYmFja09uQm9keTogdHJ1ZSxcbiAgICAgICAgZ3JvdXA6IHtcbiAgICAgICAgICBuYW1lOiAnY29udHJvbHMnLFxuICAgICAgICAgIHB1bGw6ICdjbG9uZScsXG4gICAgICAgICAgcHV0OiBmYWxzZVxuICAgICAgICB9LFxuICAgICAgICBvblJlbW92ZTogX3RoaXMuYXBwbHlDb250cm9sRXZlbnRzLmJpbmQoX3RoaXMpLFxuICAgICAgICBzb3J0OiBvcHRzLnNvcnRhYmxlLFxuICAgICAgICBzdG9yZToge1xuICAgICAgICAgIC8qKlxuICAgICAgICAgICAqIEdldCB0aGUgb3JkZXIgb2YgZWxlbWVudHMuXG4gICAgICAgICAgICogQHBhcmFtICAge1NvcnRhYmxlfSAgc29ydGFibGVcbiAgICAgICAgICAgKiBAcmV0dXJuIHtBcnJheX1cbiAgICAgICAgICAgKi9cbiAgICAgICAgICBnZXQ6IHNvcnRhYmxlID0+IHtcbiAgICAgICAgICAgIGxldCBvcmRlciA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKHN0b3JlSUQpO1xuICAgICAgICAgICAgcmV0dXJuIG9yZGVyID8gb3JkZXIuc3BsaXQoJ3wnKSA6IFtdO1xuICAgICAgICAgIH0sXG5cbiAgICAgICAgICAvKipcbiAgICAgICAgICAgKiBTYXZlIHRoZSBvcmRlciBvZiBlbGVtZW50cy5cbiAgICAgICAgICAgKiBAcGFyYW0ge1NvcnRhYmxlfSAgc29ydGFibGVcbiAgICAgICAgICAgKi9cbiAgICAgICAgICBzZXQ6IHNvcnRhYmxlID0+IHtcbiAgICAgICAgICAgIGxldCBvcmRlciA9IHNvcnRhYmxlLnRvQXJyYXkoKTtcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHN0b3JlSUQsIG9yZGVyLmpvaW4oJ3wnKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZWxlbWVudDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBlbmQgYW4gZWxlbWVudCB0byB0aGUgc3RhZ2VcbiAgICogQHBhcmFtIHtTdHJpbmd9IGlkIG9mIGVsZW1lbnRzXG4gICAqL1xuICBhZGRFbGVtZW50KGlkKSB7XG4gICAgbGV0IHJvdyA9IGRvbS5hZGRSb3coKTtcbiAgICBsZXQgbWV0YSA9IGguZ2V0KHJGaWVsZHNbaWRdLCAnbWV0YScpO1xuICAgIGlmIChtZXRhLmdyb3VwICE9PSAnbGF5b3V0Jykge1xuICAgICAgbGV0IGNvbHVtbiA9IGRvbS5hZGRDb2x1bW4ocm93LmlkKTtcbiAgICAgIGRvbS5hZGRGaWVsZChjb2x1bW4uaWQsIGlkKTtcbiAgICB9IGVsc2UgaWYgKG1ldGEuaWQgPT09ICdsYXlvdXQtY29sdW1uJykge1xuICAgICAgZG9tLmFkZENvbHVtbihyb3cuaWQpO1xuICAgIH1cblxuICAgIGRhdGEuc2F2ZUNvbHVtbk9yZGVyKHJvdyk7XG4gICAgZG9tLmNvbHVtbldpZHRocyhyb3cpO1xuICAgIGRhdGEuc2F2ZSgpO1xuICB9XG5cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvanMvY29tcG9uZW50cy9jb250cm9scy5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBO0FBQUE7QUFDQTs7O0FBQUE7QUFDQTs7Ozs7OztBQUNBO0FBQ0E7QUFJQTtBQU1BO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFGQTtBQUFBO0FBQ0E7QUFHQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFMQTtBQVdBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUxBO0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFoQkE7QUFrQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBWEE7QUFpQkE7QUFDQTtBQUNBO0FBREE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUtBO0FBRUE7QUFDQTtBQUNBO0FBSEE7QUFNQTtBQUNBO0FBRkE7QUFLQTtBQUNBO0FBRUE7QUFDQTtBQUVBO0FBQ0E7QUFGQTtBQXZCQTtBQWxCQTtBQWdEQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFOQTtBQVFBO0FBdkJBO0FBeUJBO0FBQ0E7QUFDQTtBQURBO0FBQ0E7QUFzQkE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFEQTtBQTlCQTtBQWtDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFOQTtBQWZBO0FBd0JBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQXJCQTtBQXVCQTtBQUNBO0FBQ0E7QUFNQTtBQVBBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQXJCQTtBQXVCQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBQ0E7QUFLQTtBQWhCQTtBQWtCQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQU5BO0FBYUE7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBZkE7QUFpQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFoQkE7QUFrQkE7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBZkE7QUFDQTtBQWlCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBUUE7QUFDQTtBQUNBO0FBSEE7QUFRQTtBQUNBO0FBQ0E7QUFIQTtBQVFBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUE3QkE7QUFDQTtBQStCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFMQTtBQUNBO0FBa0JBO0FBQ0E7QUFDQTtBQU1BO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBTkE7QUFRQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFUQTtBQUNBO0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBREE7QUFQQTtBQUNBO0FBWUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBRkE7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTEE7QUFEQTtBQUNBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWpCQTtBQU5BO0FBQ0E7QUF1Q0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFDQTtBQVNBO0FBQ0E7QUFYQTtBQU5BO0FBb0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQS9CQTtBQUNBO0FBL0JBO0FBa0VBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFsQkE7QUFaQTtBQXRFQTtBQUNBO0FBZ0VBO0FBQUE7QUFzQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///13\n')},function(module,exports,__webpack_require__){'use strict';eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar _mi18n = __webpack_require__(/*! mi18n */ 4);\n\nvar _mi18n2 = _interopRequireDefault(_mi18n);\n\nvar _data = __webpack_require__(/*! ../common/data */ 2);\n\nvar _animation = __webpack_require__(/*! ../common/animation */ 8);\n\nvar _animation2 = _interopRequireDefault(_animation);\n\nvar _helpers = __webpack_require__(/*! ../common/helpers */ 1);\n\nvar _helpers2 = _interopRequireDefault(_helpers);\n\nvar _actions = __webpack_require__(/*! ../common/actions */ 7);\n\nvar _actions2 = _interopRequireDefault(_actions);\n\nvar _dom = __webpack_require__(/*! ../common/dom */ 0);\n\nvar _dom2 = _interopRequireDefault(_dom);\n\nvar _panels = __webpack_require__(/*! ./panels */ 9);\n\nvar _panels2 = _interopRequireDefault(_panels);\n\nvar _utils = __webpack_require__(/*! ../common/utils */ 3);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nvar Field = function () {\n  function Field(dataID) {\n    _classCallCheck(this, Field);\n\n    var _this = this;\n\n    var fieldData = _data.formData.fields.get(dataID) || (0, _utils.clone)(_data.registeredFields[dataID]);\n    _this.fieldID = fieldData.id || (0, _utils.uuid)();\n    _this.metaID = fieldData.meta.id;\n    fieldData.id = _this.fieldID;\n\n    _data.formData.fields.set(_this.fieldID, fieldData);\n    this.fieldData = fieldData;\n    var custom = (0, _utils.clone)(_data.formData.fields.get(_this.fieldID));\n    var fieldPreview = {\n      tag: \'div\',\n      attrs: {\n        className: \'field-preview\'\n      },\n      content: _dom2.default.create(custom, true)\n    };\n    custom.config.attrs = { contenteditable: \'true\' };\n    var field = {\n      tag: \'li\',\n      attrs: {\n        className: \'stage-fields field-type-\' + fieldData.meta.id\n      },\n      id: _this.fieldID,\n      content: [_dom2.default.actionButtons(_this.fieldID, \'field\'), fieldPreview, _this.fieldEdit()],\n      panelNav: _this.panelNav,\n      dataset: {\n        hoverTag: _mi18n2.default.get(\'field\')\n      },\n      fType: \'fields\',\n      action: {\n        click: function click(evt) {\n          if (evt.target.contentEditable === \'true\') {\n            evt.preventDefault();\n          }\n        },\n        mouseenter: function mouseenter(evt) {\n          var field = document.getElementById(_this.fieldID);\n          field.classList.add(\'hovering-field\');\n        },\n        mouseleave: function mouseleave(evt) {\n          var field = document.getElementById(_this.fieldID);\n          field.classList.remove(\'hovering-field\');\n        },\n        input: function input(evt) {\n          var fieldData = _data.formData.fields.get(_this.fieldID);\n          var prop = \'content\';\n          if (evt.target.fMap) {\n            prop = evt.target.fMap;\n          }\n          if (evt.target.contentEditable === \'true\') {\n            _helpers2.default.set(fieldData, prop, evt.target.innerHTML);\n          } else {\n            _helpers2.default.set(fieldData, prop, evt.target.value);\n          }\n          _data.data.save(\'field\', _this.fieldID);\n        }\n      }\n    };\n\n    field = _dom2.default.create(field);\n\n    _dom2.default.fields.set(_this.fieldID, {\n      field: field,\n      instance: _this\n    });\n\n    return field;\n  }\n\n  Field.prototype.updatePreview = function updatePreview() {\n    var _this = this;\n    var fieldData = _helpers2.default.copyObj(_data.formData.fields.get(_this.fieldID));\n    var newPreview = _dom2.default.create(fieldData, true);\n    _dom2.default.empty(_this.preview);\n    _this.preview.appendChild(newPreview);\n\n    return newPreview;\n  };\n\n  Field.prototype.editPanel = function editPanel(panelType) {\n    var _this = this;\n    var fieldData = _data.formData.fields.get(_this.fieldID);\n    var propType = void 0;\n    var panel = void 0;\n    var panelWrap = {\n      tag: \'div\',\n      className: \'f-panel-wrap\',\n      content: []\n    };\n\n    if (fieldData[panelType]) {\n      panel = {\n        tag: \'ul\',\n        attrs: {\n          className: [\'field-edit-group\', \'field-edit-\' + panelType]\n        },\n        editGroup: panelType,\n        isSortable: panelType === \'options\',\n        content: []\n      };\n      propType = _dom2.default.contentType(fieldData[panelType]);\n\n      panelWrap.content.push(panel);\n\n      var panelArray = void 0;\n      if (propType === \'array\') {\n        panelArray = fieldData[panelType];\n      } else {\n        panelArray = Object.keys(fieldData[panelType]);\n      }\n\n      _helpers2.default.forEach(panelArray, function (dataProp, i) {\n        var args = {\n          i: i,\n          dataProp: dataProp,\n          fieldData: fieldData,\n          panelType: panelType,\n          propType: propType\n        };\n        panel.content.push(_this.panelContent(args));\n      });\n    }\n\n    return panelWrap;\n  };\n\n  Field.prototype.panelContent = function panelContent(args) {\n    var _this = this;\n    var panelType = args.panelType,\n        dataProp = args.dataProp;\n\n    var fieldData = _data.formData.fields.get(_this.fieldID);\n    dataProp = typeof dataProp === \'string\' ? dataProp : args.i;\n    var id = (0, _utils.uuid)();\n    var propVal = fieldData[panelType][dataProp];\n    var inputs = {\n      tag: \'div\',\n      className: [\'prop-inputs\'],\n      content: _this.editPanelInputs(dataProp, propVal, panelType, id)\n    };\n    var property = {\n      tag: \'li\',\n      className: [panelType + \'-\' + dataProp + \'-wrap\', \'prop-wrap\'],\n      id: id,\n      content: []\n    };\n    var order = {\n      tag: \'button\',\n      attrs: {\n        type: \'button\',\n        className: \'prop-order prop-control\'\n      },\n      content: _dom2.default.icon(\'move-vertical\')\n    };\n    var remove = {\n      tag: \'button\',\n      attrs: {\n        type: \'button\',\n        className: \'prop-remove prop-control\'\n      },\n      action: {\n        click: function click(evt) {\n          _animation2.default.slideUp(document.getElementById(property.id), 250, function (elem) {\n            var parent = elem.parentElement;\n            var fieldData = _data.formData.fields.get(_this.fieldID);\n            var fieldPanelData = fieldData[panelType];\n            _dom2.default.remove(elem);\n            if (Array.isArray(fieldPanelData)) {\n              fieldPanelData.splice(dataProp, 1);\n            } else {\n              fieldPanelData[dataProp] = undefined;\n            }\n            _data.data.save(panelType, parent);\n            _dom2.default.empty(_this.preview);\n\n            _this.resizePanelWrap();\n          });\n        }\n      },\n      content: _dom2.default.icon(\'remove\')\n    };\n    var controls = {\n      tag: \'div\',\n      className: \'prop-controls\',\n      content: [remove]\n    };\n\n    if (args.propType === \'array\') {\n      inputs.className.push(\'f-input-group\');\n    }\n\n    property.propData = fieldData[panelType][dataProp];\n\n    if (this.isAllowedAttr(dataProp)) {\n      property.content.push(controls, inputs);\n    }\n\n    property.className.push(\'control-count-\' + controls.content.length);\n\n    return property;\n  };\n\n  Field.prototype.editPanelInputs = function editPanelInputs(prop, propVal, panelType, id) {\n    var _this = this;\n    var inputs = [];\n    var fieldData = _data.formData.fields.get(_this.fieldID);\n    var isOption = panelType === \'options\';\n    var processProperty = function processProperty(key, val) {\n      var propType = _dom2.default.contentType(val);\n      var propIsNum = typeof prop === \'number\';\n      var fMap = panelType + \'.\' + key;\n\n      if (propIsNum) {\n        fMap = panelType + \'[\' + prop + \'].\' + key;\n      }\n      var typeAttrs = function typeAttrs(key, val, type) {\n        var placeholder = _mi18n2.default.get(\'placeholder.\' + key) || _helpers2.default.capitalize(key);\n        var attrs = {\n          string: {\n            type: \'text\',\n            value: val,\n            placeholder: placeholder\n          },\n          boolean: {\n            get type() {\n              var boolType = \'checkbox\';\n              if (_this.fieldData.attrs) {\n                var attrType = _this.fieldData.attrs.type;\n                if (attrType === \'radio\' && key === \'selected\') {\n                  boolType = \'radio\';\n                }\n              }\n              return boolType;\n            },\n            value: val\n          },\n          number: {\n            type: \'number\',\n            value: val\n          },\n          array: {\n            className: \'\'\n          }\n        };\n        return attrs[type];\n      };\n      var inputLabel = function inputLabel(key) {\n        var labelKey = panelType + \'.\' + key;\n        return _mi18n2.default.get(labelKey) || _helpers2.default.capitalize(key);\n      };\n      var propertyInputs = {\n        array: function array(key, val) {\n          var select = {\n            fMap: fMap,\n            tag: \'select\',\n            id: prop + \'-\' + id,\n            attrs: typeAttrs(key, val, \'array\'),\n            config: {\n              label: inputLabel(key),\n              hideLabel: isOption\n            },\n            content: val.map(function (v) {\n              return {\n                tag: \'option\',\n                attrs: {\n                  value: v.value,\n                  selected: v.selected\n                },\n                content: v.label\n              };\n            }),\n            action: {\n              change: function change(evt) {\n                var values = [];\n                var propData = fieldData[panelType][prop];\n                var optionData = isOption ? propData[key] : propData;\n                var newValue = optionData.map(function (value) {\n                  var selected = value.selected,\n                      option = _objectWithoutProperties(value, [\'selected\']);\n\n                  values.push(option.value);\n                  return option;\n                });\n\n                var index = values.indexOf(evt.target.value);\n                newValue[index].selected = true;\n                _helpers2.default.set(fieldData, fMap, newValue);\n                _data.data.save();\n                _this.updatePreview();\n              }\n            }\n          };\n          return select;\n        },\n        string: function string(key, val) {\n          var input = {\n            fMap: fMap,\n            tag: \'input\',\n            id: prop + \'-\' + id,\n            attrs: typeAttrs(key, val, \'string\'),\n            action: {\n              change: function change(evt) {\n                _helpers2.default.set(fieldData, fMap, evt.target.value);\n                _this.updatePreview();\n                _data.data.save();\n              }\n            }\n          };\n\n          if (!propIsNum) {\n            input.config = {\n              label: inputLabel(key)\n            };\n          }\n\n          return input;\n        },\n        boolean: function boolean(key, val) {\n          var input = {\n            tag: \'input\',\n            attrs: typeAttrs(key, val, \'boolean\'),\n            fMap: fMap,\n            id: prop + \'-\' + id,\n            name: _this.fieldID + \'-selected\',\n            action: {\n              change: function change(evt) {\n                _helpers2.default.set(fieldData, fMap, evt.target.checked);\n                _this.updatePreview();\n              }\n            }\n          };\n\n          if (val) {\n            input.attrs.checked = val;\n          }\n\n          if (propIsNum) {\n            var addon = {\n              tag: \'span\',\n              className: \'f-addon\',\n              content: _dom2.default.checkbox(input)\n            };\n            input = addon;\n          } else {\n            input.config = {\n              label: inputLabel(key)\n            };\n          }\n\n          return input;\n        },\n        object: function object(objKey, objVal) {\n          var inputs = [];\n\n          for (var objProp in objVal) {\n            if (objVal.hasOwnProperty(objProp)) {\n              inputs.push(processProperty(objProp, objVal[objProp]));\n            }\n          }\n\n          return inputs;\n        }\n      };\n\n      propertyInputs.number = propertyInputs.string;\n\n      return propertyInputs[propType](key, val);\n    };\n\n    inputs.push(processProperty(prop, propVal));\n\n    return inputs;\n  };\n\n  Field.prototype.isAllowedAttr = function isAllowedAttr() {\n    var attr = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : \'type\';\n\n    var _this = this;\n    var allowed = true;\n    var disabledAttrs = _data.registeredFields[_this.metaID].config.disabledAttrs;\n    if (disabledAttrs) {\n      allowed = !_helpers2.default.inArray(attr, disabledAttrs);\n    }\n\n    return allowed;\n  };\n\n  Field.prototype.addAttribute = function addAttribute(attr, val) {\n    if (!this.isAllowedAttr(attr)) {\n      window.alert(\'Attribute "\' + attr + \'": not permitted\');\n    }\n\n    var _this = this;\n    var field = document.getElementById(_this.fieldID);\n    var editGroup = field.querySelector(\'.field-edit-attrs\');\n    var safeAttr = _helpers2.default.hyphenCase(attr);\n    var fieldData = _data.formData.fields.get(_this.fieldID);\n    var labelKey = \'attrs.\' + safeAttr;\n\n    if (!_mi18n2.default.current[labelKey]) {\n      _mi18n2.default.put(labelKey, _helpers2.default.capitalize(attr));\n    }\n\n    if (typeof val === \'string\' && _helpers2.default.inArray(val, [\'true\', \'false\'])) {\n      val = JSON.parse(val);\n    }\n\n    fieldData.attrs[safeAttr] = val;\n\n    var args = {\n      dataObj: fieldData,\n      dataProp: safeAttr,\n      i: Object.keys(fieldData.attrs).length,\n      panelType: \'attrs\'\n    };\n\n    var existingAttr = editGroup.querySelector(\'.attrs-\' + safeAttr + \'-wrap\');\n    var newAttr = _dom2.default.create(_this.panelContent(args));\n    if (existingAttr) {\n      editGroup.replaceChild(newAttr, existingAttr);\n    } else {\n      editGroup.appendChild(newAttr);\n    }\n\n    _data.data.save(args.panelType, editGroup);\n    _this.updatePreview();\n    _this.resizePanelWrap();\n  };\n\n  Field.prototype.addOption = function addOption() {\n    var _this = this;\n    var field = _dom2.default.fields.get(_this.fieldID).field;\n    var fieldData = _data.formData.fields.get(_this.fieldID);\n    var optionData = fieldData[\'options\'];\n    var editGroup = field.querySelector(\'.field-edit-options\');\n    var propData = (0, _utils.cleanObj)(optionData[optionData.length - 1]);\n    fieldData.options.push(propData);\n\n    var args = {\n      i: editGroup.childNodes.length,\n      dataProp: propData,\n      dataObj: fieldData,\n      panelType: \'options\',\n      propType: \'array\'\n    };\n\n    editGroup.appendChild(_dom2.default.create(_this.panelContent(args)));\n    _this.resizePanelWrap();\n\n    _data.data.save();\n    _dom2.default.empty(_this.preview);\n  };\n\n  Field.prototype.panelEditButtons = function panelEditButtons(type) {\n    var _this = this;\n    var addBtn = {\n      tag: \'button\',\n      attrs: {\n        type: \'button\',\n        className: \'add-\' + type\n      },\n      content: _mi18n2.default.get(\'panelEditButtons.\' + type),\n      action: {\n        click: function click(evt) {\n          var addEvt = {\n            btnCoords: _dom2.default.coords(evt.target)\n          };\n\n          if (type === \'attrs\') {\n            addEvt.addAction = _this.addAttribute.bind(_this);\n            addEvt.message = {\n              attr: _mi18n2.default.get(\'action.add.attrs.attr\'),\n              value: _mi18n2.default.get(\'action.add.attrs.value\')\n            };\n          } else if (type === \'options\') {\n            addEvt.addAction = _this.addOption.bind(_this);\n          }\n\n          var eventType = _helpers2.default.capitalize(type);\n          var customEvt = new CustomEvent(\'onAdd\' + eventType, {\n            detail: addEvt\n          });\n\n          _actions2.default.add[type](addEvt);\n\n          document.dispatchEvent(customEvt);\n        }\n      }\n    };\n    var panelEditButtons = {\n      tag: \'div\',\n      attrs: {\n        className: \'panel-action-buttons\'\n      },\n      content: [addBtn]\n    };\n\n    return panelEditButtons;\n  };\n\n  Field.prototype.fieldEdit = function fieldEdit() {\n    var _this = this;\n    var panels = [];\n    var editable = [\'object\', \'array\'];\n    var noPanels = [\'config\', \'meta\', \'action\', \'attrs\'];\n    var fieldData = _data.formData.fields.get(_this.fieldID);\n    var allowedPanels = Object.keys(fieldData).filter(function (elem) {\n      return !_helpers2.default.inArray(elem, noPanels);\n    });\n\n    var fieldEdit = {\n      tag: \'div\',\n      className: [\'field-edit\', \'slide-toggle\', \'panels-wrap\']\n    };\n\n    _helpers2.default.forEach(allowedPanels, function (panelType, i) {\n      var propType = _dom2.default.contentType(fieldData[panelType]);\n      if (_helpers2.default.inArray(propType, editable)) {\n        var panel = {\n          tag: \'div\',\n          attrs: {\n            className: \'f-panel \' + panelType + \'-panel\'\n          },\n          config: {\n            label: _mi18n2.default.get(\'panelLabels.\' + panelType) || \'\'\n          },\n          content: [_this.editPanel(panelType), _this.panelEditButtons(panelType)],\n          action: {}\n        };\n\n        panels.push(panel);\n      }\n    });\n\n    var panelsConfig = {\n      panels: panels,\n      id: _this.fieldID\n    };\n\n    if (panels.length) {\n      var editPanels = _this.panels = new _panels2.default(panelsConfig);\n      fieldEdit.className.push(\'panel-count-\' + panels.length);\n      fieldEdit.content = editPanels.content;\n      _this.panelNav = editPanels.nav;\n      _this.resizePanelWrap = editPanels.actions.resize;\n    } else {\n      setTimeout(function () {\n        var field = _dom2.default.fields.get(_this.fieldID).field;\n        var editToggle = field.querySelector(\'.item-edit-toggle\');\n        var fieldActions = field.querySelector(\'.field-actions\');\n        var actionButtons = fieldActions.getElementsByTagName(\'button\');\n        fieldActions.style.maxWidth = actionButtons.length * 24 + \'px\';\n        _dom2.default.remove(editToggle);\n      }, 0);\n    }\n\n    return fieldEdit;\n  };\n\n  Field.prototype.fieldPreview = function fieldPreview() {\n    var _this = this;\n    var fieldData = (0, _utils.clone)(_data.formData.fields.get(_this.fieldID));\n    var field = _dom2.default.fields.get(_this.fieldID).field;\n    var togglePreviewEdit = function togglePreviewEdit(evt) {\n      var column = field.parentElement;\n      if (evt.target.contentEditable === \'true\') {\n        if (_helpers2.default.inArray(evt.type, [\'focus\', \'blur\'])) {\n          var isActive = document.activeElement === evt.target;\n          column.classList.toggle(\'editing-field-preview\', isActive);\n          _dom2.default.toggleSortable(field.parentElement, evt.type === \'focus\');\n        } else if (_helpers2.default.inArray(evt.type, [\'mousedown\', \'mouseup\'])) {\n          _dom2.default.toggleSortable(field.parentElement, evt.type === \'mousedown\');\n        }\n      }\n    };\n\n    fieldData.id = \'prev-\' + _this.fieldID;\n\n    var fieldPreview = {\n      tag: \'div\',\n      attrs: {\n        className: \'field-preview\'\n      },\n      content: _dom2.default.create(fieldData, true),\n      action: {\n        focus: togglePreviewEdit,\n        blur: togglePreviewEdit,\n        mousedown: togglePreviewEdit,\n        mouseup: togglePreviewEdit,\n        change: function change(evt) {\n          var target = evt.target;\n\n          if (target.fMap) {\n            var _fieldData = _data.formData.fields.get(_this.fieldID);\n            var checked = target.checked,\n                type = target.type,\n                fMap = target.fMap;\n\n            if (_helpers2.default.inArray(type, [\'checkbox\', \'radio\'])) {\n              var options = _fieldData.options;\n\n              if (type === \'radio\') {\n                options.forEach(function (option) {\n                  return option.selected = false;\n                });\n              }\n              _helpers2.default.set(_fieldData, fMap, checked);\n\n              _data.data.save();\n            }\n          }\n        },\n        click: function click(evt) {\n          if (evt.target.contentEditable === \'true\') {\n            evt.preventDefault();\n          }\n        },\n        input: function input(evt) {\n          var fieldData = _data.formData.fields.get(_this.fieldID);\n          var prop = \'content\';\n          if (evt.target.fMap) {\n            prop = evt.target.fMap;\n          }\n          if (evt.target.contentEditable === \'true\') {\n            _helpers2.default.set(fieldData, prop, evt.target.innerHTML);\n          } else {\n            _helpers2.default.set(fieldData, prop, evt.target.value);\n          }\n          _data.data.save(\'field\', _this.fieldID);\n        }\n      }\n    };\n\n    return fieldPreview;\n  };\n\n  return Field;\n}();\n\nexports.default = Field;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTQuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL2NvbXBvbmVudHMvZmllbGQuanM/MGNiYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgaTE4biBmcm9tICdtaTE4bic7XG5pbXBvcnQge2RhdGEsIGZvcm1EYXRhLCByZWdpc3RlcmVkRmllbGRzIGFzIHJGaWVsZHN9IGZyb20gJy4uL2NvbW1vbi9kYXRhJztcbmltcG9ydCBhbmltYXRlIGZyb20gJy4uL2NvbW1vbi9hbmltYXRpb24nO1xuaW1wb3J0IGggZnJvbSAnLi4vY29tbW9uL2hlbHBlcnMnO1xuaW1wb3J0IGFjdGlvbnMgZnJvbSAnLi4vY29tbW9uL2FjdGlvbnMnO1xuaW1wb3J0IGRvbSBmcm9tICcuLi9jb21tb24vZG9tJztcbmltcG9ydCBQYW5lbHMgZnJvbSAnLi9wYW5lbHMnO1xuaW1wb3J0IHt1dWlkLCBjbG9uZSwgY2xlYW5PYmp9IGZyb20gJy4uL2NvbW1vbi91dGlscyc7XG5cbi8qKlxuICogRWxlbWVudC9GaWVsZCBjbGFzcy5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRmllbGQge1xuXG4gIC8qKlxuICAgKiBTZXQgZGVmYXVsdHMgYW5kIGxvYWQgZmllbGREYXRhXG4gICAqIEBwYXJhbSAge1N0cmluZ30gZGF0YUlEIGV4aXN0aW5nIGZpZWxkIElEXG4gICAqIEByZXR1cm4ge09iamVjdH0gZmllbGQgb2JqZWN0XG4gICAqL1xuICBjb25zdHJ1Y3RvcihkYXRhSUQpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuXG4gICAgbGV0IGZpZWxkRGF0YSA9IGZvcm1EYXRhLmZpZWxkcy5nZXQoZGF0YUlEKSB8fCBjbG9uZShyRmllbGRzW2RhdGFJRF0pO1xuICAgIF90aGlzLmZpZWxkSUQgPSBmaWVsZERhdGEuaWQgfHwgdXVpZCgpO1xuICAgIF90aGlzLm1ldGFJRCA9IGZpZWxkRGF0YS5tZXRhLmlkO1xuICAgIGZpZWxkRGF0YS5pZCA9IF90aGlzLmZpZWxkSUQ7XG5cbiAgICBmb3JtRGF0YS5maWVsZHMuc2V0KF90aGlzLmZpZWxkSUQsIGZpZWxkRGF0YSk7XG4gICAgdGhpcy5maWVsZERhdGEgPSBmaWVsZERhdGE7XG4gICAgbGV0IGN1c3RvbSA9IGNsb25lKGZvcm1EYXRhLmZpZWxkcy5nZXQoX3RoaXMuZmllbGRJRCkpO1xuICAgIGxldCBmaWVsZFByZXZpZXcgPSB7XG4gICAgICB0YWc6ICdkaXYnLFxuICAgICAgYXR0cnM6IHtcbiAgICAgICAgY2xhc3NOYW1lOiAnZmllbGQtcHJldmlldydcbiAgICAgIH0sXG4gICAgICBjb250ZW50OiBkb20uY3JlYXRlKGN1c3RvbSwgdHJ1ZSksXG4gICAgfTtcbiAgICBjdXN0b20uY29uZmlnLmF0dHJzPXtjb250ZW50ZWRpdGFibGU6ICd0cnVlJ307XG4gICAgbGV0IGZpZWxkID0ge1xuICAgICAgdGFnOiAnbGknLFxuICAgICAgYXR0cnM6IHtcbiAgICAgICAgY2xhc3NOYW1lOiBgc3RhZ2UtZmllbGRzIGZpZWxkLXR5cGUtJHtmaWVsZERhdGEubWV0YS5pZH1gXG4gICAgICB9LFxuICAgICAgaWQ6IF90aGlzLmZpZWxkSUQsXG4gICAgICBjb250ZW50OiBbXG4gICAgICAgIGRvbS5hY3Rpb25CdXR0b25zKF90aGlzLmZpZWxkSUQsICdmaWVsZCcpLCAvLyBmaWVsZEVkaXQgd2luZG93XG4gICAgICAgIGZpZWxkUHJldmlldyxcbiAgICAgICAgX3RoaXMuZmllbGRFZGl0KCksIC8vIGZpZWxkRWRpdCB3aW5kb3dcbiAgICAgIF0sXG4gICAgICBwYW5lbE5hdjogX3RoaXMucGFuZWxOYXYsXG4gICAgICBkYXRhc2V0OiB7XG4gICAgICAgIGhvdmVyVGFnOiBpMThuLmdldCgnZmllbGQnKVxuICAgICAgfSxcbiAgICAgIGZUeXBlOiAnZmllbGRzJyxcbiAgICAgIGFjdGlvbjoge1xuICAgICAgICBjbGljazogZXZ0ID0+IHtcbiAgICAgICAgICBpZiAoZXZ0LnRhcmdldC5jb250ZW50RWRpdGFibGUgPT09ICd0cnVlJykge1xuICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBtb3VzZWVudGVyOiBldnQgPT4ge1xuICAgICAgICAgIGxldCBmaWVsZCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKF90aGlzLmZpZWxkSUQpO1xuICAgICAgICAgIGZpZWxkLmNsYXNzTGlzdC5hZGQoJ2hvdmVyaW5nLWZpZWxkJyk7XG4gICAgICAgIH0sXG4gICAgICAgIG1vdXNlbGVhdmU6IGV2dCA9PiB7XG4gICAgICAgICAgbGV0IGZpZWxkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoX3RoaXMuZmllbGRJRCk7XG4gICAgICAgICAgZmllbGQuY2xhc3NMaXN0LnJlbW92ZSgnaG92ZXJpbmctZmllbGQnKTtcbiAgICAgICAgfSxcbiAgICAgICAgaW5wdXQ6IGV2dCA9PiB7XG4gICAgICAgICAgbGV0IGZpZWxkRGF0YSA9IGZvcm1EYXRhLmZpZWxkcy5nZXQoX3RoaXMuZmllbGRJRCk7XG4gICAgICAgICAgbGV0IHByb3AgPSAnY29udGVudCc7XG4gICAgICAgICAgaWYgKGV2dC50YXJnZXQuZk1hcCkge1xuICAgICAgICAgICAgcHJvcCA9IGV2dC50YXJnZXQuZk1hcDtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGV2dC50YXJnZXQuY29udGVudEVkaXRhYmxlID09PSAndHJ1ZScpIHtcbiAgICAgICAgICAgIGguc2V0KGZpZWxkRGF0YSwgcHJvcCwgZXZ0LnRhcmdldC5pbm5lckhUTUwpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBoLnNldChmaWVsZERhdGEsIHByb3AsIGV2dC50YXJnZXQudmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBkYXRhLnNhdmUoJ2ZpZWxkJywgX3RoaXMuZmllbGRJRCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZmllbGQgPSBkb20uY3JlYXRlKGZpZWxkKTtcblxuICAgIGRvbS5maWVsZHMuc2V0KF90aGlzLmZpZWxkSUQsIHtcbiAgICAgIGZpZWxkLFxuICAgICAgaW5zdGFuY2U6IF90aGlzXG4gICAgfSk7XG5cbiAgICAvLyBfdGhpcy5wcmV2aWV3ID0gZG9tLmNyZWF0ZShfdGhpcy5maWVsZFByZXZpZXcoKSk7XG4gICAgLy8gZmllbGQuYXBwZW5kQ2hpbGQoX3RoaXMucHJldmlldyk7XG5cbiAgICByZXR1cm4gZmllbGQ7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyBhIGZpZWxkJ3MgcHJldmlld1xuICAgKiBAcmV0dXJuIHtPYmplY3R9IGZyZXNoIHByZXZpZXdcbiAgICovXG4gIHVwZGF0ZVByZXZpZXcoKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICBsZXQgZmllbGREYXRhID0gaC5jb3B5T2JqKGZvcm1EYXRhLmZpZWxkcy5nZXQoX3RoaXMuZmllbGRJRCkpO1xuICAgIGxldCBuZXdQcmV2aWV3ID0gZG9tLmNyZWF0ZShmaWVsZERhdGEsIHRydWUpO1xuICAgIGRvbS5lbXB0eShfdGhpcy5wcmV2aWV3KTtcbiAgICBfdGhpcy5wcmV2aWV3LmFwcGVuZENoaWxkKG5ld1ByZXZpZXcpO1xuXG4gICAgcmV0dXJuIG5ld1ByZXZpZXc7XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhdGVzIHRoZSBlZGl0IHBhbmVsIGZvciBhdHRycywgbWV0YSBhbmQgb3B0aW9ucyBmb3IgYSBmaWVsZHMocylcbiAgICogQHBhcmFtICB7U3RyaW5nfSBwYW5lbFR5cGVcbiAgICogQHBhcmFtICB7T2JqZWN0fSBkYXRhT2JqICAgZmllbGQgY29uZmlnIG9iamVjdFxuICAgKiBAcmV0dXJuIHtPYmplY3R9ICAgICAgICAgICBmb3JtZW8gRE9NIGNvbmZpZyBvYmplY3RcbiAgICovXG4gIGVkaXRQYW5lbChwYW5lbFR5cGUpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIGxldCBmaWVsZERhdGEgPSBmb3JtRGF0YS5maWVsZHMuZ2V0KF90aGlzLmZpZWxkSUQpO1xuICAgIGxldCBwcm9wVHlwZTtcbiAgICBsZXQgcGFuZWw7XG4gICAgbGV0IHBhbmVsV3JhcCA9IHtcbiAgICAgIHRhZzogJ2RpdicsXG4gICAgICBjbGFzc05hbWU6ICdmLXBhbmVsLXdyYXAnLFxuICAgICAgY29udGVudDogW11cbiAgICB9O1xuXG4gICAgaWYgKGZpZWxkRGF0YVtwYW5lbFR5cGVdKSB7XG4gICAgICBwYW5lbCA9IHtcbiAgICAgICAgdGFnOiAndWwnLFxuICAgICAgICBhdHRyczoge1xuICAgICAgICAgIGNsYXNzTmFtZTogW1xuICAgICAgICAgICAgJ2ZpZWxkLWVkaXQtZ3JvdXAnLFxuICAgICAgICAgICAgJ2ZpZWxkLWVkaXQtJyArIHBhbmVsVHlwZVxuICAgICAgICAgIF1cbiAgICAgICAgfSxcbiAgICAgICAgZWRpdEdyb3VwOiBwYW5lbFR5cGUsXG4gICAgICAgIGlzU29ydGFibGU6IChwYW5lbFR5cGUgPT09ICdvcHRpb25zJyksXG4gICAgICAgIGNvbnRlbnQ6IFtdXG4gICAgICB9O1xuICAgICAgcHJvcFR5cGUgPSBkb20uY29udGVudFR5cGUoZmllbGREYXRhW3BhbmVsVHlwZV0pO1xuXG4gICAgICBwYW5lbFdyYXAuY29udGVudC5wdXNoKHBhbmVsKTtcblxuICAgICAgbGV0IHBhbmVsQXJyYXk7XG4gICAgICBpZiAocHJvcFR5cGUgPT09ICdhcnJheScpIHtcbiAgICAgICAgLy8gbGV0IHByb3BzID0gT2JqZWN0LmtleXMoZmllbGREYXRhW3BhbmVsVHlwZV1bMF0pO1xuICAgICAgICAvLyBsZXQgcGFuZWxMYWJlbHMgPSB7XG4gICAgICAgIC8vICAgdGFnOiAnZGl2JyxcbiAgICAgICAgLy8gICBjbGFzc05hbWU6ICdpbnB1dC1ncm91cCcsXG4gICAgICAgIC8vICAgY29udGVudDogcHJvcHMubWFwKChlbGVtKSA9PiB7XG4gICAgICAgIC8vICAgICBsZXQgbGFiZWwgPSB7XG4gICAgICAgIC8vICAgICAgIHRhZzogJ2xhYmVsJyxcbiAgICAgICAgLy8gICAgICAgY2xhc3NOYW1lOiBbJ3Byb3AtbGFiZWwtJyArIGVsZW1dLFxuICAgICAgICAvLyAgICAgICBjb250ZW50OiBoLmNhcGl0YWxpemUoZWxlbSlcbiAgICAgICAgLy8gICAgIH07XG5cbiAgICAgICAgLy8gICAgIGlmICh0eXBlb2YgZmllbGREYXRhW3BhbmVsVHlwZV1bMF1bZWxlbV0gPT09ICdib29sZWFuJykge1xuICAgICAgICAvLyAgICAgICBsYWJlbC50YWcgPSAnc3Bhbic7XG4gICAgICAgIC8vICAgICAgIGxhYmVsLmNsYXNzTmFtZS5wdXNoKCdpbnB1dC1ncm91cC1hZGRvbicpO1xuICAgICAgICAvLyAgICAgfVxuXG4gICAgICAgIC8vICAgICByZXR1cm4gbGFiZWw7XG4gICAgICAgIC8vICAgfSlcbiAgICAgICAgLy8gfTtcbiAgICAgICAgLy8gbGV0IGxhYmVsV3JhcCA9IHtcbiAgICAgICAgLy8gICB0YWc6ICdoZWFkZXInLFxuICAgICAgICAvLyAgIGNvbnRlbnQ6IHBhbmVsTGFiZWxzLFxuICAgICAgICAvLyAgIGNsYXNzTmFtZTogJ3Byb3AtbGFiZWxzJ1xuICAgICAgICAvLyB9O1xuICAgICAgICAvLyByZW1vdmluZyBsYWJlbHMgdW50aWwgZmluZCBhIGJldHRlciB3YXkgdG8gaGFuZGxlIHRoZW0uXG4gICAgICAgIC8vIHBhbmVsV3JhcC5jb250ZW50LnVuc2hpZnQobGFiZWxXcmFwKTtcbiAgICAgICAgcGFuZWxBcnJheSA9IGZpZWxkRGF0YVtwYW5lbFR5cGVdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFuZWxBcnJheSA9IE9iamVjdC5rZXlzKGZpZWxkRGF0YVtwYW5lbFR5cGVdKTtcbiAgICAgIH1cblxuICAgICAgaC5mb3JFYWNoKHBhbmVsQXJyYXksIChkYXRhUHJvcCwgaSkgPT4ge1xuICAgICAgICBsZXQgYXJncyA9IHtcbiAgICAgICAgICBpLFxuICAgICAgICAgIGRhdGFQcm9wLFxuICAgICAgICAgIGZpZWxkRGF0YSxcbiAgICAgICAgICBwYW5lbFR5cGUsXG4gICAgICAgICAgcHJvcFR5cGVcbiAgICAgICAgfTtcbiAgICAgICAgcGFuZWwuY29udGVudC5wdXNoKF90aGlzLnBhbmVsQ29udGVudChhcmdzKSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gcGFuZWxXcmFwO1xuICB9XG5cbiAgLyoqXG4gICAqIEZpZWxkIHBhbmVsIGNvbnRlbnRzLCBgYXR0cnNgLCBgb3B0aW9uc2AsIGBjb25maWdgXG4gICAqIEBwYXJhbSAge09iamVjdH0gYXJnc1xuICAgKiBAcmV0dXJuIHtPYmplY3R9IERPTSBlbGVtZW50XG4gICAqL1xuICBwYW5lbENvbnRlbnQoYXJncykge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgbGV0IHtwYW5lbFR5cGUsIGRhdGFQcm9wfSA9IGFyZ3M7XG4gICAgbGV0IGZpZWxkRGF0YSA9IGZvcm1EYXRhLmZpZWxkcy5nZXQoX3RoaXMuZmllbGRJRCk7XG4gICAgZGF0YVByb3AgPSAodHlwZW9mIGRhdGFQcm9wID09PSAnc3RyaW5nJykgPyBkYXRhUHJvcCA6IGFyZ3MuaTtcbiAgICBsZXQgaWQgPSB1dWlkKCk7XG4gICAgbGV0IHByb3BWYWwgPSBmaWVsZERhdGFbcGFuZWxUeXBlXVtkYXRhUHJvcF07XG4gICAgbGV0IGlucHV0cyA9IHtcbiAgICAgIHRhZzogJ2RpdicsXG4gICAgICBjbGFzc05hbWU6IFsncHJvcC1pbnB1dHMnXSxcbiAgICAgIGNvbnRlbnQ6IF90aGlzLmVkaXRQYW5lbElucHV0cyhkYXRhUHJvcCwgcHJvcFZhbCwgcGFuZWxUeXBlLCBpZClcbiAgICB9O1xuICAgIGxldCBwcm9wZXJ0eSA9IHtcbiAgICAgIHRhZzogJ2xpJyxcbiAgICAgIGNsYXNzTmFtZTogW2Ake3BhbmVsVHlwZX0tJHtkYXRhUHJvcH0td3JhcGAsICdwcm9wLXdyYXAnXSxcbiAgICAgIGlkOiBpZCxcbiAgICAgIGNvbnRlbnQ6IFtdXG4gICAgfTtcbiAgICBsZXQgb3JkZXIgPSB7XG4gICAgICB0YWc6ICdidXR0b24nLFxuICAgICAgYXR0cnM6IHtcbiAgICAgICAgdHlwZTogJ2J1dHRvbicsXG4gICAgICAgIGNsYXNzTmFtZTogJ3Byb3Atb3JkZXIgcHJvcC1jb250cm9sJyxcbiAgICAgIH0sXG4gICAgICBjb250ZW50OiBkb20uaWNvbignbW92ZS12ZXJ0aWNhbCcpXG4gICAgfTtcbiAgICBsZXQgcmVtb3ZlID0ge1xuICAgICAgdGFnOiAnYnV0dG9uJyxcbiAgICAgIGF0dHJzOiB7XG4gICAgICAgIHR5cGU6ICdidXR0b24nLFxuICAgICAgICBjbGFzc05hbWU6ICdwcm9wLXJlbW92ZSBwcm9wLWNvbnRyb2wnLFxuICAgICAgfSxcbiAgICAgIGFjdGlvbjoge1xuICAgICAgICBjbGljazogKGV2dCkgPT4ge1xuICAgICAgICAgIGFuaW1hdGUuc2xpZGVVcChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChwcm9wZXJ0eS5pZCksIDI1MCwgZWxlbSA9PiB7XG4gICAgICAgICAgICBsZXQgcGFyZW50ID0gZWxlbS5wYXJlbnRFbGVtZW50O1xuICAgICAgICAgICAgbGV0IGZpZWxkRGF0YSA9IGZvcm1EYXRhLmZpZWxkcy5nZXQoX3RoaXMuZmllbGRJRCk7XG4gICAgICAgICAgICBsZXQgZmllbGRQYW5lbERhdGEgPSBmaWVsZERhdGFbcGFuZWxUeXBlXTtcbiAgICAgICAgICAgIGRvbS5yZW1vdmUoZWxlbSk7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShmaWVsZFBhbmVsRGF0YSkpIHtcbiAgICAgICAgICAgICAgZmllbGRQYW5lbERhdGEuc3BsaWNlKGRhdGFQcm9wLCAxKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGZpZWxkUGFuZWxEYXRhW2RhdGFQcm9wXSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRhdGEuc2F2ZShwYW5lbFR5cGUsIHBhcmVudCk7XG4gICAgICAgICAgICBkb20uZW1wdHkoX3RoaXMucHJldmlldyk7XG4gICAgICAgICAgICAvLyBsZXQgbmV3UHJldmlldyA9IGRvbS5jcmVhdGUoZmllbGREYXRhLCB0cnVlKTtcbiAgICAgICAgICAgIC8vIF90aGlzLnByZXZpZXcuYXBwZW5kQ2hpbGQobmV3UHJldmlldyk7XG4gICAgICAgICAgICBfdGhpcy5yZXNpemVQYW5lbFdyYXAoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGNvbnRlbnQ6IGRvbS5pY29uKCdyZW1vdmUnKVxuICAgIH07XG4gICAgbGV0IGNvbnRyb2xzID0ge1xuICAgICAgdGFnOiAnZGl2JyxcbiAgICAgIGNsYXNzTmFtZTogJ3Byb3AtY29udHJvbHMnLFxuICAgICAgY29udGVudDogW3JlbW92ZV1cbiAgICB9O1xuXG4gICAgaWYgKGFyZ3MucHJvcFR5cGUgPT09ICdhcnJheScpIHtcbiAgICAgIGlucHV0cy5jbGFzc05hbWUucHVzaCgnZi1pbnB1dC1ncm91cCcpO1xuICAgIH1cblxuICAgIHByb3BlcnR5LnByb3BEYXRhID0gZmllbGREYXRhW3BhbmVsVHlwZV1bZGF0YVByb3BdO1xuXG4gICAgLy8gQ2hlY2tzIGlmIHRoZSBwcm9wZXJ0eSBpcyBhbGxvd2VkXG4gICAgaWYgKHRoaXMuaXNBbGxvd2VkQXR0cihkYXRhUHJvcCkpIHtcbiAgICAgIHByb3BlcnR5LmNvbnRlbnQucHVzaChjb250cm9scywgaW5wdXRzKTtcbiAgICB9XG5cbiAgICBwcm9wZXJ0eS5jbGFzc05hbWUucHVzaCgnY29udHJvbC1jb3VudC0nICsgY29udHJvbHMuY29udGVudC5sZW5ndGgpO1xuXG4gICAgcmV0dXJuIHByb3BlcnR5O1xuICB9XG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlIHRoZSBpbnB1dHMgZm9yIGFuIGVkaXQgcGFuZWxcbiAgICogQHBhcmFtICB7U3RyaW5nfSBwcm9wICAgICAgcHJvcGVydHkgbmFtZVxuICAgKiBAcGFyYW0gIHtTdHJpbmd8QXJyYXl9IHByb3BWYWwgICBwcm9wZXJ0eSB2YWx1ZVxuICAgKiBAcGFyYW0gIHtTdHJpbmd9IHBhbmVsVHlwZSBhdHRycywgb3B0aW9ucywgY29uZmlnXG4gICAqIEBwYXJhbSAge1N0cmluZ30gaWQgICAgICAgIFtkZXNjcmlwdGlvbl1cbiAgICogQHJldHVybiB7QXJyYXl9IGVsZW1lbnQgY29uZmlnIGFycmF5XG4gICAqL1xuICBlZGl0UGFuZWxJbnB1dHMocHJvcCwgcHJvcFZhbCwgcGFuZWxUeXBlLCBpZCkge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgbGV0IGlucHV0cyA9IFtdO1xuICAgIGxldCBmaWVsZERhdGEgPSBmb3JtRGF0YS5maWVsZHMuZ2V0KF90aGlzLmZpZWxkSUQpO1xuICAgIGNvbnN0IGlzT3B0aW9uID0gKHBhbmVsVHlwZSA9PT0gJ29wdGlvbnMnKTtcbiAgICBsZXQgcHJvY2Vzc1Byb3BlcnR5ID0gKGtleSwgdmFsKSA9PiB7XG4gICAgICAgIGxldCBwcm9wVHlwZSA9IGRvbS5jb250ZW50VHlwZSh2YWwpO1xuICAgICAgICBsZXQgcHJvcElzTnVtID0gKHR5cGVvZiBwcm9wID09PSAnbnVtYmVyJyk7XG4gICAgICAgIGxldCBmTWFwID0gcGFuZWxUeXBlICsgJy4nICsga2V5O1xuXG4gICAgICAgIGlmIChwcm9wSXNOdW0pIHtcbiAgICAgICAgICBmTWFwID0gYCR7cGFuZWxUeXBlfVske3Byb3B9XS4ke2tleX1gO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHR5cGVBdHRycyA9IChrZXksIHZhbCwgdHlwZSkgPT4ge1xuICAgICAgICAgIGxldCBwbGFjZWhvbGRlciA9IGkxOG4uZ2V0KGBwbGFjZWhvbGRlci4ke2tleX1gKSB8fCBoLmNhcGl0YWxpemUoa2V5KTtcbiAgICAgICAgICBsZXQgYXR0cnMgPSB7XG4gICAgICAgICAgICBzdHJpbmc6IHtcbiAgICAgICAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICAgICAgICB2YWx1ZTogdmFsLFxuICAgICAgICAgICAgICBwbGFjZWhvbGRlclxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGJvb2xlYW46IHtcbiAgICAgICAgICAgICAgZ2V0IHR5cGUoKSB7XG4gICAgICAgICAgICAgICAgbGV0IGJvb2xUeXBlID0gJ2NoZWNrYm94JztcbiAgICAgICAgICAgICAgICBpZiAoX3RoaXMuZmllbGREYXRhLmF0dHJzKSB7XG4gICAgICAgICAgICAgICAgICBsZXQgYXR0clR5cGUgPSBfdGhpcy5maWVsZERhdGEuYXR0cnMudHlwZTtcbiAgICAgICAgICAgICAgICAgIGlmIChhdHRyVHlwZSA9PT0gJ3JhZGlvJyAmJiBrZXkgPT09ICdzZWxlY3RlZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgYm9vbFR5cGUgPSAncmFkaW8nO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYm9vbFR5cGU7XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHZhbHVlOiB2YWxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBudW1iZXI6IHtcbiAgICAgICAgICAgICAgdHlwZTogJ251bWJlcicsXG4gICAgICAgICAgICAgIHZhbHVlOiB2YWxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhcnJheToge1xuICAgICAgICAgICAgICBjbGFzc05hbWU6ICcnLFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgICAgcmV0dXJuIGF0dHJzW3R5cGVdO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBpbnB1dExhYmVsID0ga2V5ID0+IHtcbiAgICAgICAgICAgIGxldCBsYWJlbEtleSA9IHBhbmVsVHlwZSArICcuJyArIGtleTtcbiAgICAgICAgICAgIHJldHVybiBpMThuLmdldChsYWJlbEtleSkgfHwgaC5jYXBpdGFsaXplKGtleSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcHJvcGVydHlJbnB1dHMgPSB7XG4gICAgICAgICAgYXJyYXk6IChrZXksIHZhbCkgPT4ge1xuICAgICAgICAgICAgbGV0IHNlbGVjdCA9IHtcbiAgICAgICAgICAgICAgZk1hcCxcbiAgICAgICAgICAgICAgdGFnOiAnc2VsZWN0JyxcbiAgICAgICAgICAgICAgaWQ6IGAke3Byb3B9LSR7aWR9YCxcbiAgICAgICAgICAgICAgYXR0cnM6IHR5cGVBdHRycyhrZXksIHZhbCwgJ2FycmF5JyksXG4gICAgICAgICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgICAgICAgIGxhYmVsOiBpbnB1dExhYmVsKGtleSksXG4gICAgICAgICAgICAgICAgaGlkZUxhYmVsOiBpc09wdGlvblxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBjb250ZW50OiB2YWwubWFwKHYgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICB0YWc6ICdvcHRpb24nLFxuICAgICAgICAgICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHYudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkOiB2LnNlbGVjdGVkXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgY29udGVudDogdi5sYWJlbFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICBhY3Rpb246IHtcbiAgICAgICAgICAgICAgICBjaGFuZ2U6IGV2dCA9PiB7XG4gICAgICAgICAgICAgICAgICBsZXQgdmFsdWVzID0gW107XG4gICAgICAgICAgICAgICAgICBsZXQgcHJvcERhdGEgPSBmaWVsZERhdGFbcGFuZWxUeXBlXVtwcm9wXTtcbiAgICAgICAgICAgICAgICAgIGxldCBvcHRpb25EYXRhID0gaXNPcHRpb24gPyBwcm9wRGF0YVtrZXldIDogcHJvcERhdGE7XG4gICAgICAgICAgICAgICAgICBsZXQgbmV3VmFsdWUgPSBvcHRpb25EYXRhLm1hcCh2YWx1ZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIC8vZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICAgICAgICAgICAgICAgIGxldCB7c2VsZWN0ZWQsIC4uLm9wdGlvbn0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVzLnB1c2gob3B0aW9uLnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9wdGlvbjtcbiAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICBsZXQgaW5kZXggPSB2YWx1ZXMuaW5kZXhPZihldnQudGFyZ2V0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgIG5ld1ZhbHVlW2luZGV4XS5zZWxlY3RlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICBoLnNldChmaWVsZERhdGEsIGZNYXAsIG5ld1ZhbHVlKTtcbiAgICAgICAgICAgICAgICAgIGRhdGEuc2F2ZSgpO1xuICAgICAgICAgICAgICAgICAgX3RoaXMudXBkYXRlUHJldmlldygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gc2VsZWN0O1xuICAgICAgICAgIH0sXG4gICAgICAgICAgc3RyaW5nOiAoa2V5LCB2YWwpID0+IHtcbiAgICAgICAgICAgIGxldCBpbnB1dCA9IHtcbiAgICAgICAgICAgICAgZk1hcCxcbiAgICAgICAgICAgICAgdGFnOiAnaW5wdXQnLFxuICAgICAgICAgICAgICBpZDogYCR7cHJvcH0tJHtpZH1gLFxuICAgICAgICAgICAgICBhdHRyczogdHlwZUF0dHJzKGtleSwgdmFsLCAnc3RyaW5nJyksXG4gICAgICAgICAgICAgIGFjdGlvbjoge1xuICAgICAgICAgICAgICAgIGNoYW5nZTogZXZ0ID0+IHtcbiAgICAgICAgICAgICAgICAgIGguc2V0KGZpZWxkRGF0YSwgZk1hcCwgZXZ0LnRhcmdldC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICBfdGhpcy51cGRhdGVQcmV2aWV3KCk7XG4gICAgICAgICAgICAgICAgICBkYXRhLnNhdmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpZiAoIXByb3BJc051bSkge1xuICAgICAgICAgICAgICBpbnB1dC5jb25maWcgPSB7XG4gICAgICAgICAgICAgICAgbGFiZWw6IGlucHV0TGFiZWwoa2V5KVxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gaW5wdXQ7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBib29sZWFuOiAoa2V5LCB2YWwpID0+IHtcbiAgICAgICAgICAgIGxldCBpbnB1dCA9IHtcbiAgICAgICAgICAgICAgdGFnOiAnaW5wdXQnLFxuICAgICAgICAgICAgICBhdHRyczogdHlwZUF0dHJzKGtleSwgdmFsLCAnYm9vbGVhbicpLFxuICAgICAgICAgICAgICBmTWFwLFxuICAgICAgICAgICAgICBpZDogcHJvcCArICctJyArIGlkLFxuICAgICAgICAgICAgICBuYW1lOiBfdGhpcy5maWVsZElEICsgJy1zZWxlY3RlZCcsXG4gICAgICAgICAgICAgIGFjdGlvbjoge1xuICAgICAgICAgICAgICAgIGNoYW5nZTogZXZ0ID0+IHtcbiAgICAgICAgICAgICAgICAgIGguc2V0KGZpZWxkRGF0YSwgZk1hcCwgZXZ0LnRhcmdldC5jaGVja2VkKTtcbiAgICAgICAgICAgICAgICAgIF90aGlzLnVwZGF0ZVByZXZpZXcoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGlmICh2YWwpIHtcbiAgICAgICAgICAgICAgaW5wdXQuYXR0cnMuY2hlY2tlZCA9IHZhbDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHByb3BJc051bSkge1xuICAgICAgICAgICAgICBsZXQgYWRkb24gPSB7XG4gICAgICAgICAgICAgICAgdGFnOiAnc3BhbicsXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnZi1hZGRvbicsXG4gICAgICAgICAgICAgICAgY29udGVudDogZG9tLmNoZWNrYm94KGlucHV0KVxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICBpbnB1dCA9IGFkZG9uO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaW5wdXQuY29uZmlnID0ge1xuICAgICAgICAgICAgICAgIGxhYmVsOiBpbnB1dExhYmVsKGtleSlcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICByZXR1cm4gaW5wdXQ7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBvYmplY3Q6IChvYmpLZXksIG9ialZhbCkgPT4ge1xuICAgICAgICAgICAgbGV0IGlucHV0cyA9IFtdO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBvYmpQcm9wIGluIG9ialZhbCkge1xuICAgICAgICAgICAgICBpZiAob2JqVmFsLmhhc093blByb3BlcnR5KG9ialByb3ApKSB7XG4gICAgICAgICAgICAgICAgaW5wdXRzLnB1c2gocHJvY2Vzc1Byb3BlcnR5KG9ialByb3AsIG9ialZhbFtvYmpQcm9wXSkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBpbnB1dHM7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHByb3BlcnR5SW5wdXRzLm51bWJlciA9IHByb3BlcnR5SW5wdXRzLnN0cmluZztcblxuICAgICAgICByZXR1cm4gcHJvcGVydHlJbnB1dHNbcHJvcFR5cGVdKGtleSwgdmFsKTtcbiAgICAgIH07XG5cbiAgICBpbnB1dHMucHVzaChwcm9jZXNzUHJvcGVydHkocHJvcCwgcHJvcFZhbCkpO1xuXG4gICAgcmV0dXJuIGlucHV0cztcbiAgfVxuXG5cbiAgLyoqXG4gICAqIENoZWNrcyBpZiBhdHRyaWJ1dGUgaXMgYWxsb3dlZCB0byBiZSBlZGl0ZWRcbiAgICogQHBhcmFtICB7U3RyaW5nfSAgYXR0clxuICAgKiBAcmV0dXJuIHtCb29sZWFufSAgICAgIFtkZXNjcmlwdGlvbl1cbiAgICovXG4gIGlzQWxsb3dlZEF0dHIoYXR0ciA9ICd0eXBlJykge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgbGV0IGFsbG93ZWQgPSB0cnVlO1xuICAgIGxldCBkaXNhYmxlZEF0dHJzID0gckZpZWxkc1tfdGhpcy5tZXRhSURdLmNvbmZpZy5kaXNhYmxlZEF0dHJzO1xuICAgIGlmIChkaXNhYmxlZEF0dHJzKSB7XG4gICAgICBhbGxvd2VkID0gIWguaW5BcnJheShhdHRyLCBkaXNhYmxlZEF0dHJzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYWxsb3dlZDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYSBuZXcgYXR0cmlidXRlIHRvIHRoZSBhdHRycyBwYW5lbHNcbiAgICogQHBhcmFtIHtTdHJpbmd9IGF0dHJcbiAgICogQHBhcmFtIHtTdHJpbmd8QXJyYXl9IHZhbFxuICAgKi9cbiAgYWRkQXR0cmlidXRlKGF0dHIsIHZhbCkge1xuICAgIGlmICghdGhpcy5pc0FsbG93ZWRBdHRyKGF0dHIpKSB7XG4gICAgICB3aW5kb3cuYWxlcnQoYEF0dHJpYnV0ZSBcIiR7YXR0cn1cIjogbm90IHBlcm1pdHRlZGApO1xuICAgIH1cblxuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgbGV0IGZpZWxkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoX3RoaXMuZmllbGRJRCk7XG4gICAgbGV0IGVkaXRHcm91cCA9IGZpZWxkLnF1ZXJ5U2VsZWN0b3IoJy5maWVsZC1lZGl0LWF0dHJzJyk7XG4gICAgbGV0IHNhZmVBdHRyID0gaC5oeXBoZW5DYXNlKGF0dHIpO1xuICAgIGxldCBmaWVsZERhdGEgPSBmb3JtRGF0YS5maWVsZHMuZ2V0KF90aGlzLmZpZWxkSUQpO1xuICAgIGNvbnN0IGxhYmVsS2V5ID0gYGF0dHJzLiR7c2FmZUF0dHJ9YDtcblxuICAgIGlmICghaTE4bi5jdXJyZW50W2xhYmVsS2V5XSkge1xuICAgICAgaTE4bi5wdXQobGFiZWxLZXksIGguY2FwaXRhbGl6ZShhdHRyKSk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnICYmIGguaW5BcnJheSh2YWwsIFsndHJ1ZScsICdmYWxzZSddKSkge1xuICAgICAgdmFsID0gSlNPTi5wYXJzZSh2YWwpO1xuICAgIH1cblxuICAgIGZpZWxkRGF0YS5hdHRyc1tzYWZlQXR0cl0gPSB2YWw7XG5cbiAgICBsZXQgYXJncyA9IHtcbiAgICAgIGRhdGFPYmo6IGZpZWxkRGF0YSxcbiAgICAgIGRhdGFQcm9wOiBzYWZlQXR0cixcbiAgICAgIGk6IE9iamVjdC5rZXlzKGZpZWxkRGF0YS5hdHRycykubGVuZ3RoLFxuICAgICAgcGFuZWxUeXBlOiAnYXR0cnMnXG4gICAgfTtcblxuICAgIGxldCBleGlzdGluZ0F0dHIgPSBlZGl0R3JvdXAucXVlcnlTZWxlY3RvcihgLmF0dHJzLSR7c2FmZUF0dHJ9LXdyYXBgKTtcbiAgICBsZXQgbmV3QXR0ciA9IGRvbS5jcmVhdGUoX3RoaXMucGFuZWxDb250ZW50KGFyZ3MpKTtcbiAgICBpZiAoZXhpc3RpbmdBdHRyKSB7XG4gICAgICBlZGl0R3JvdXAucmVwbGFjZUNoaWxkKG5ld0F0dHIsIGV4aXN0aW5nQXR0cik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVkaXRHcm91cC5hcHBlbmRDaGlsZChuZXdBdHRyKTtcbiAgICB9XG5cbiAgICBkYXRhLnNhdmUoYXJncy5wYW5lbFR5cGUsIGVkaXRHcm91cCk7XG4gICAgX3RoaXMudXBkYXRlUHJldmlldygpO1xuICAgIF90aGlzLnJlc2l6ZVBhbmVsV3JhcCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEFkZCBvcHRpb24gdG8gb3B0aW9ucyBwYW5lbFxuICAgKi9cbiAgYWRkT3B0aW9uKCkge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgbGV0IGZpZWxkID0gZG9tLmZpZWxkcy5nZXQoX3RoaXMuZmllbGRJRCkuZmllbGQ7XG4gICAgbGV0IGZpZWxkRGF0YSA9IGZvcm1EYXRhLmZpZWxkcy5nZXQoX3RoaXMuZmllbGRJRCk7XG4gICAgbGV0IG9wdGlvbkRhdGEgPSBmaWVsZERhdGFbJ29wdGlvbnMnXTtcbiAgICBsZXQgZWRpdEdyb3VwID0gZmllbGQucXVlcnlTZWxlY3RvcignLmZpZWxkLWVkaXQtb3B0aW9ucycpO1xuICAgIGxldCBwcm9wRGF0YSA9IGNsZWFuT2JqKG9wdGlvbkRhdGFbb3B0aW9uRGF0YS5sZW5ndGgtMV0pO1xuICAgIGZpZWxkRGF0YS5vcHRpb25zLnB1c2gocHJvcERhdGEpO1xuXG4gICAgbGV0IGFyZ3MgPSB7XG4gICAgICBpOiBlZGl0R3JvdXAuY2hpbGROb2Rlcy5sZW5ndGgsXG4gICAgICBkYXRhUHJvcDogcHJvcERhdGEsXG4gICAgICBkYXRhT2JqOiBmaWVsZERhdGEsXG4gICAgICBwYW5lbFR5cGU6ICdvcHRpb25zJyxcbiAgICAgIHByb3BUeXBlOiAnYXJyYXknXG4gICAgfTtcblxuICAgIGVkaXRHcm91cC5hcHBlbmRDaGlsZChkb20uY3JlYXRlKF90aGlzLnBhbmVsQ29udGVudChhcmdzKSkpO1xuICAgIF90aGlzLnJlc2l6ZVBhbmVsV3JhcCgpO1xuXG4gICAgLy8gU2F2ZSBGaWVsZHMgQXR0cnNcbiAgICBkYXRhLnNhdmUoKTtcbiAgICBkb20uZW1wdHkoX3RoaXMucHJldmlldyk7XG4gICAgLy8gbGV0IG5ld1ByZXZpZXcgPSBkb20uY3JlYXRlKGZvcm1EYXRhLmZpZWxkcy5nZXQoX3RoaXMuZmllbGRJRCksIHRydWUpO1xuICAgIC8vIF90aGlzLnByZXZpZXcuYXBwZW5kQ2hpbGQobmV3UHJldmlldyk7XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhdGUgZWRpdCBidXR0b25zIGZvciBpbnRlcmFjdGluZyB3aXRoIGF0dHJzIGFuZCBvcHRpb25zIHBhbmVsXG4gICAqIEBwYXJhbSAge1N0cmluZ30gdHlwZVxuICAgKiBAcmV0dXJuIHtPYmplY3R9IHBhbmVsIGVkaXQgYnV0dG9ucyBjb25maWdcbiAgICovXG4gIHBhbmVsRWRpdEJ1dHRvbnModHlwZSkge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgbGV0IGFkZEJ0biA9IHtcbiAgICAgICAgdGFnOiAnYnV0dG9uJyxcbiAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICB0eXBlOiAnYnV0dG9uJyxcbiAgICAgICAgICBjbGFzc05hbWU6IGBhZGQtJHt0eXBlfWBcbiAgICAgICAgfSxcbiAgICAgICAgY29udGVudDogaTE4bi5nZXQoYHBhbmVsRWRpdEJ1dHRvbnMuJHt0eXBlfWApLFxuICAgICAgICBhY3Rpb246IHtcbiAgICAgICAgICBjbGljazogKGV2dCkgPT4ge1xuICAgICAgICAgICAgbGV0IGFkZEV2dCA9IHtcbiAgICAgICAgICAgICAgYnRuQ29vcmRzOiBkb20uY29vcmRzKGV2dC50YXJnZXQpXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gJ2F0dHJzJykge1xuICAgICAgICAgICAgICBhZGRFdnQuYWRkQWN0aW9uID0gX3RoaXMuYWRkQXR0cmlidXRlLmJpbmQoX3RoaXMpO1xuICAgICAgICAgICAgICBhZGRFdnQubWVzc2FnZSA9IHtcbiAgICAgICAgICAgICAgICBhdHRyOiBpMThuLmdldCgnYWN0aW9uLmFkZC5hdHRycy5hdHRyJyksXG4gICAgICAgICAgICAgICAgdmFsdWU6IGkxOG4uZ2V0KCdhY3Rpb24uYWRkLmF0dHJzLnZhbHVlJylcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ29wdGlvbnMnKSB7XG4gICAgICAgICAgICAgIGFkZEV2dC5hZGRBY3Rpb24gPSBfdGhpcy5hZGRPcHRpb24uYmluZChfdGhpcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBldmVudFR5cGUgPSBoLmNhcGl0YWxpemUodHlwZSk7XG4gICAgICAgICAgICBsZXQgY3VzdG9tRXZ0ID0gbmV3IEN1c3RvbUV2ZW50KGBvbkFkZCR7ZXZlbnRUeXBlfWAsIHtcbiAgICAgICAgICAgICAgZGV0YWlsOiBhZGRFdnRcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBSdW4gQWN0aW9uIEhvb2tcbiAgICAgICAgICAgIGFjdGlvbnMuYWRkW3R5cGVdKGFkZEV2dCk7XG5cbiAgICAgICAgICAgIC8vIEZpcmUgRXZlbnRcbiAgICAgICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoY3VzdG9tRXZ0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgbGV0IHBhbmVsRWRpdEJ1dHRvbnMgPSB7XG4gICAgICAgIHRhZzogJ2RpdicsXG4gICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgY2xhc3NOYW1lOiAncGFuZWwtYWN0aW9uLWJ1dHRvbnMnXG4gICAgICAgIH0sXG4gICAgICAgIGNvbnRlbnQ6IFthZGRCdG5dXG4gICAgICB9O1xuXG4gICAgcmV0dXJuIHBhbmVsRWRpdEJ1dHRvbnM7XG4gIH1cblxuICAvKipcbiAgICogR2VuZXJhdGUgdGhlIG1hcmt1cCBmb3IgZmllbGQgZWRpdCBtb2RlXG4gICAqIEByZXR1cm4ge09iamVjdH0gZmllbGRFZGl0IGVsZW1lbnQgY29uZmlnXG4gICAqL1xuICBmaWVsZEVkaXQoKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICBsZXQgcGFuZWxzID0gW107XG4gICAgbGV0IGVkaXRhYmxlID0gWydvYmplY3QnLCAnYXJyYXknXTtcbiAgICBsZXQgbm9QYW5lbHMgPSBbJ2NvbmZpZycsICdtZXRhJywgJ2FjdGlvbicsICdhdHRycyddO1xuICAgIGxldCBmaWVsZERhdGEgPSBmb3JtRGF0YS5maWVsZHMuZ2V0KF90aGlzLmZpZWxkSUQpO1xuICAgIGxldCBhbGxvd2VkUGFuZWxzID0gT2JqZWN0LmtleXMoZmllbGREYXRhKS5maWx0ZXIoZWxlbSA9PiB7XG4gICAgICAgIHJldHVybiAhaC5pbkFycmF5KGVsZW0sIG5vUGFuZWxzKTtcbiAgICAgIH0pO1xuXG4gICAgbGV0IGZpZWxkRWRpdCA9IHtcbiAgICAgIHRhZzogJ2RpdicsXG4gICAgICBjbGFzc05hbWU6IFsnZmllbGQtZWRpdCcsICdzbGlkZS10b2dnbGUnLCAncGFuZWxzLXdyYXAnXVxuICAgIH07XG5cbiAgICBoLmZvckVhY2goYWxsb3dlZFBhbmVscywgKHBhbmVsVHlwZSwgaSkgPT4ge1xuICAgICAgbGV0IHByb3BUeXBlID0gZG9tLmNvbnRlbnRUeXBlKGZpZWxkRGF0YVtwYW5lbFR5cGVdKTtcbiAgICAgIGlmIChoLmluQXJyYXkocHJvcFR5cGUsIGVkaXRhYmxlKSkge1xuICAgICAgICBsZXQgcGFuZWwgPSB7XG4gICAgICAgICAgdGFnOiAnZGl2JyxcbiAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgY2xhc3NOYW1lOiBgZi1wYW5lbCAke3BhbmVsVHlwZX0tcGFuZWxgXG4gICAgICAgICAgfSxcbiAgICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICAgIGxhYmVsOiBpMThuLmdldChgcGFuZWxMYWJlbHMuJHtwYW5lbFR5cGV9YCkgfHwgJydcbiAgICAgICAgICB9LFxuICAgICAgICAgIGNvbnRlbnQ6IFtcbiAgICAgICAgICAgIF90aGlzLmVkaXRQYW5lbChwYW5lbFR5cGUpLFxuICAgICAgICAgICAgX3RoaXMucGFuZWxFZGl0QnV0dG9ucyhwYW5lbFR5cGUpXG4gICAgICAgICAgXSxcbiAgICAgICAgICBhY3Rpb246IHtcbiAgICAgICAgICAgIC8vIGNoYW5nZTogZXZ0ID0+IHtcbiAgICAgICAgICAgIC8vIGxldCBmaWVsZERhdGEgPSBmb3JtRGF0YS5maWVsZHMuZ2V0KF90aGlzLmZpZWxkSUQpO1xuICAgICAgICAgICAgLy8gICBpZiAoZXZ0LnRhcmdldC5mTWFwKSB7XG4gICAgICAgICAgICAvLyAgICAgbGV0IHZhbHVlID0gZXZ0LnRhcmdldC52YWx1ZTtcbiAgICAgICAgICAgIC8vICAgICBsZXQgdGFyZ2V0VHlwZSA9IGV2dC50YXJnZXQudHlwZTtcbiAgICAgICAgICAgIC8vICAgICBpZiAodGFyZ2V0VHlwZSA9PT0gJ2NoZWNrYm94JyB8fCB0YXJnZXRUeXBlID09PSAncmFkaW8nKSB7XG4gICAgICAgICAgICAvLyAgICAgICBsZXQgb3B0aW9ucyA9IGZpZWxkRGF0YS5vcHRpb25zO1xuICAgICAgICAgICAgLy8gICAgICAgdmFsdWUgPSBldnQudGFyZ2V0LmNoZWNrZWQ7XG5cbiAgICAgICAgICAgIC8vICAgICAgIC8vIHVuY2hlY2sgb3B0aW9ucyBpZiByYWRpb1xuICAgICAgICAgICAgLy8gICAgICAgaWYgKGV2dC50YXJnZXQudHlwZSA9PT0gJ3JhZGlvJykge1xuICAgICAgICAgICAgLy8gICAgICAgICBvcHRpb25zLmZvckVhY2gob3B0aW9uID0+IG9wdGlvbi5zZWxlY3RlZCA9IGZhbHNlKTtcbiAgICAgICAgICAgIC8vICAgICAgIH1cbiAgICAgICAgICAgIC8vICAgICB9XG5cbiAgICAgICAgICAgIC8vICAgICBoLnNldChmaWVsZERhdGEsIGV2dC50YXJnZXQuZk1hcCwgdmFsdWUpO1xuICAgICAgICAgICAgLy8gICAgIGRhdGEuc2F2ZShwYW5lbFR5cGUsIF90aGlzLmZpZWxkSUQpO1xuICAgICAgICAgICAgLy8gICAgIC8vIHRocm90dGxlIHRoaXMgZm9yIHN1cmVcbiAgICAgICAgICAgIC8vICAgICBfdGhpcy51cGRhdGVQcmV2aWV3KCk7XG4gICAgICAgICAgICAvLyAgIH1cbiAgICAgICAgICAgIC8vIH1cbiAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgcGFuZWxzLnB1c2gocGFuZWwpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgbGV0IHBhbmVsc0NvbmZpZyA9IHtcbiAgICAgIHBhbmVscyxcbiAgICAgIGlkOiBfdGhpcy5maWVsZElEXG4gICAgfTtcblxuICAgIGlmIChwYW5lbHMubGVuZ3RoKSB7XG4gICAgICBsZXQgZWRpdFBhbmVscyA9IF90aGlzLnBhbmVscyA9IG5ldyBQYW5lbHMocGFuZWxzQ29uZmlnKTtcbiAgICAgIGZpZWxkRWRpdC5jbGFzc05hbWUucHVzaCgncGFuZWwtY291bnQtJyArIHBhbmVscy5sZW5ndGgpO1xuICAgICAgZmllbGRFZGl0LmNvbnRlbnQgPSBlZGl0UGFuZWxzLmNvbnRlbnQ7XG4gICAgICBfdGhpcy5wYW5lbE5hdiA9IGVkaXRQYW5lbHMubmF2O1xuICAgICAgX3RoaXMucmVzaXplUGFuZWxXcmFwID0gZWRpdFBhbmVscy5hY3Rpb25zLnJlc2l6ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGxldCBmaWVsZCA9IGRvbS5maWVsZHMuZ2V0KF90aGlzLmZpZWxkSUQpLmZpZWxkO1xuICAgICAgICBsZXQgZWRpdFRvZ2dsZSA9IGZpZWxkLnF1ZXJ5U2VsZWN0b3IoJy5pdGVtLWVkaXQtdG9nZ2xlJyk7XG4gICAgICAgIGxldCBmaWVsZEFjdGlvbnMgPSBmaWVsZC5xdWVyeVNlbGVjdG9yKCcuZmllbGQtYWN0aW9ucycpO1xuICAgICAgICBsZXQgYWN0aW9uQnV0dG9ucyA9IGZpZWxkQWN0aW9ucy5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYnV0dG9uJyk7XG4gICAgICAgIGZpZWxkQWN0aW9ucy5zdHlsZS5tYXhXaWR0aCA9IGAke2FjdGlvbkJ1dHRvbnMubGVuZ3RoICogMjR9cHhgO1xuICAgICAgICBkb20ucmVtb3ZlKGVkaXRUb2dnbGUpO1xuICAgICAgfSwgMCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGZpZWxkRWRpdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZW5lcmF0ZSBmaWVsZCBwcmV2aWV3IGNvbmZpZ1xuICAgKiBAcmV0dXJuIHtPYmplY3R9IGZpZWxkUHJldmlld1xuICAgKi9cbiAgZmllbGRQcmV2aWV3KCkge1xuICAgIGxldCBfdGhpcyA9IHRoaXM7XG4gICAgbGV0IGZpZWxkRGF0YSA9IGNsb25lKGZvcm1EYXRhLmZpZWxkcy5nZXQoX3RoaXMuZmllbGRJRCkpO1xuICAgIGNvbnN0IGZpZWxkID0gZG9tLmZpZWxkcy5nZXQoX3RoaXMuZmllbGRJRCkuZmllbGQ7XG4gICAgY29uc3QgdG9nZ2xlUHJldmlld0VkaXQgPSBldnQgPT4ge1xuICAgICAgY29uc3QgY29sdW1uID0gZmllbGQucGFyZW50RWxlbWVudDtcbiAgICAgIGlmIChldnQudGFyZ2V0LmNvbnRlbnRFZGl0YWJsZSA9PT0gJ3RydWUnKSB7XG4gICAgICAgIGlmIChoLmluQXJyYXkoZXZ0LnR5cGUsIFsnZm9jdXMnLCAnYmx1ciddKSkge1xuICAgICAgICAgIGxldCBpc0FjdGl2ZSA9IGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQgPT09IGV2dC50YXJnZXQ7XG4gICAgICAgICAgY29sdW1uLmNsYXNzTGlzdC50b2dnbGUoJ2VkaXRpbmctZmllbGQtcHJldmlldycsIGlzQWN0aXZlKTtcbiAgICAgICAgICBkb20udG9nZ2xlU29ydGFibGUoZmllbGQucGFyZW50RWxlbWVudCwgKGV2dC50eXBlID09PSAnZm9jdXMnKSk7XG4gICAgICAgIH0gZWxzZSBpZihoLmluQXJyYXkoZXZ0LnR5cGUsIFsnbW91c2Vkb3duJywgJ21vdXNldXAnXSkpIHtcbiAgICAgICAgICBkb20udG9nZ2xlU29ydGFibGUoZmllbGQucGFyZW50RWxlbWVudCwgKGV2dC50eXBlID09PSAnbW91c2Vkb3duJykpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIGZpZWxkRGF0YS5pZCA9ICdwcmV2LScgKyBfdGhpcy5maWVsZElEO1xuXG4gICAgbGV0IGZpZWxkUHJldmlldyA9IHtcbiAgICAgIHRhZzogJ2RpdicsXG4gICAgICBhdHRyczoge1xuICAgICAgICBjbGFzc05hbWU6ICdmaWVsZC1wcmV2aWV3J1xuICAgICAgfSxcbiAgICAgIGNvbnRlbnQ6IGRvbS5jcmVhdGUoZmllbGREYXRhLCB0cnVlKSxcbiAgICAgIGFjdGlvbjoge1xuICAgICAgICBmb2N1czogdG9nZ2xlUHJldmlld0VkaXQsXG4gICAgICAgIGJsdXI6IHRvZ2dsZVByZXZpZXdFZGl0LFxuICAgICAgICBtb3VzZWRvd246IHRvZ2dsZVByZXZpZXdFZGl0LFxuICAgICAgICBtb3VzZXVwOiB0b2dnbGVQcmV2aWV3RWRpdCxcbiAgICAgICAgY2hhbmdlOiBldnQgPT4ge1xuICAgICAgICAgIGxldCB7dGFyZ2V0fSA9IGV2dDtcbiAgICAgICAgICBpZiAodGFyZ2V0LmZNYXApIHtcbiAgICAgICAgICAgIGxldCBmaWVsZERhdGEgPSBmb3JtRGF0YS5maWVsZHMuZ2V0KF90aGlzLmZpZWxkSUQpO1xuICAgICAgICAgICAgbGV0IHtjaGVja2VkLCB0eXBlLCBmTWFwfSA9IHRhcmdldDtcbiAgICAgICAgICAgIGlmIChoLmluQXJyYXkodHlwZSwgWydjaGVja2JveCcsICdyYWRpbyddKSkge1xuICAgICAgICAgICAgICBsZXQgb3B0aW9ucyA9IGZpZWxkRGF0YS5vcHRpb25zO1xuXG4gICAgICAgICAgICAgIC8vIHVuY2hlY2sgb3B0aW9ucyBpZiByYWRpb1xuICAgICAgICAgICAgICBpZiAodHlwZSA9PT0gJ3JhZGlvJykge1xuICAgICAgICAgICAgICAgIG9wdGlvbnMuZm9yRWFjaChvcHRpb24gPT4gb3B0aW9uLnNlbGVjdGVkID0gZmFsc2UpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGguc2V0KGZpZWxkRGF0YSwgZk1hcCwgY2hlY2tlZCk7XG5cbiAgICAgICAgICAgICAgZGF0YS5zYXZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBjbGljazogZXZ0ID0+IHtcbiAgICAgICAgICBpZiAoZXZ0LnRhcmdldC5jb250ZW50RWRpdGFibGUgPT09ICd0cnVlJykge1xuICAgICAgICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBpbnB1dDogZXZ0ID0+IHtcbiAgICAgICAgICBsZXQgZmllbGREYXRhID0gZm9ybURhdGEuZmllbGRzLmdldChfdGhpcy5maWVsZElEKTtcbiAgICAgICAgICBsZXQgcHJvcCA9ICdjb250ZW50JztcbiAgICAgICAgICBpZiAoZXZ0LnRhcmdldC5mTWFwKSB7XG4gICAgICAgICAgICBwcm9wID0gZXZ0LnRhcmdldC5mTWFwO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZXZ0LnRhcmdldC5jb250ZW50RWRpdGFibGUgPT09ICd0cnVlJykge1xuICAgICAgICAgICAgaC5zZXQoZmllbGREYXRhLCBwcm9wLCBldnQudGFyZ2V0LmlubmVySFRNTCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGguc2V0KGZpZWxkRGF0YSwgcHJvcCwgZXZ0LnRhcmdldC52YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRhdGEuc2F2ZSgnZmllbGQnLCBfdGhpcy5maWVsZElEKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICByZXR1cm4gZmllbGRQcmV2aWV3O1xuICB9XG5cbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvanMvY29tcG9uZW50cy9maWVsZC5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7QUFDQTs7O0FBQUE7QUFDQTtBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7Ozs7Ozs7QUFJQTtBQU9BO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBTEE7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQTFCQTtBQWhCQTtBQUNBO0FBNkNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBTUE7QUFDQTtBQUNBO0FBVkE7QUFZQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUEyQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTEE7QUFPQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFEQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQU5BO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBbEJBO0FBb0JBO0FBMUJBO0FBNEJBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVhBO0FBYUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBREE7QUF2QkE7QUEyQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFOQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFqQkE7QUFuQkE7QUF1Q0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUxBO0FBTEE7QUFDQTtBQWFBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU5BO0FBQ0E7QUFhQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUEvR0E7QUFDQTtBQWlIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTEE7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFHQTtBQUNBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUNBO0FBSUE7QUFDQTtBQUVBO0FBQ0E7QUExQkE7QUFQQTtBQW9DQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFMQTtBQUNBO0FBT0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFEQTtBQUdBO0FBSUE7QUFaQTtBQUNBO0FBb0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBeENBO0FBTkE7QUFDQTtBQWlEQTtBQUNBO0FBQ0E7Ozs7QUFqdkJBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///14\n')},function(module,exports,__webpack_require__){'use strict';eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _mi18n = __webpack_require__(/*! mi18n */ 4);\n\nvar _mi18n2 = _interopRequireDefault(_mi18n);\n\nvar _sortablejs = __webpack_require__(/*! sortablejs */ 6);\n\nvar _sortablejs2 = _interopRequireDefault(_sortablejs);\n\nvar _dom = __webpack_require__(/*! ../common/dom */ 0);\n\nvar _dom2 = _interopRequireDefault(_dom);\n\nvar _helpers = __webpack_require__(/*! ../common/helpers */ 1);\n\nvar _helpers2 = _interopRequireDefault(_helpers);\n\nvar _data = __webpack_require__(/*! ../common/data */ 2);\n\nvar _utils = __webpack_require__(/*! ../common/utils */ 3);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nvar Row = function () {\n  function Row(dataID) {\n    _classCallCheck(this, Row);\n\n    var _this = this;\n    var defaults = void 0;\n    var row = void 0;\n\n    var rowID = _this.rowID = dataID || (0, _utils.uuid)();\n\n    defaults = {\n      columns: [],\n      id: _this.rowID,\n      config: {\n        fieldset: false,\n        legend: \'\',\n        inputGroup: false },\n      attrs: {\n        className: \'f-row\'\n      }\n    };\n\n    var rowData = _data.formData.rows.get(rowID);\n\n    _data.formData.rows.set(rowID, _helpers2.default.merge(defaults, rowData));\n\n    row = {\n      tag: \'li\',\n      className: \'stage-rows empty-rows\',\n      dataset: {\n        hoverTag: _mi18n2.default.get(\'row\'),\n        editingHoverTag: _mi18n2.default.get(\'editing.row\')\n      },\n      id: rowID,\n      content: [_dom2.default.actionButtons(rowID, \'row\'), _this.editWindow],\n      fType: \'rows\'\n    };\n\n    row = _dom2.default.create(row);\n\n    var sortable = _sortablejs2.default.create(row, {\n      animation: 150,\n      fallbackClass: \'column-moving\',\n      forceFallback: true,\n      group: { name: \'rows\', pull: true, put: [\'rows\', \'controls\', \'columns\'] },\n      sort: true,\n      onRemove: _this.onRemove,\n      onEnd: _this.onEnd,\n      onAdd: _this.onAdd,\n      onSort: _this.onSort,\n      draggable: \'.stage-columns\',\n      filter: \'.resize-x-handle\'\n    });\n\n    _dom2.default.rows.set(rowID, { row: row, sortable: sortable });\n\n    return row;\n  }\n\n  Row.prototype.onSort = function onSort(evt) {\n    _data.data.saveColumnOrder(evt.target);\n    _data.data.save();\n  };\n\n  Row.prototype.onRemove = function onRemove(evt) {\n    _dom2.default.columnWidths(evt.from);\n    _data.data.saveColumnOrder(evt.target);\n    _dom2.default.emptyClass(evt.from);\n  };\n\n  Row.prototype.onEnd = function onEnd(evt) {\n    if (evt.from.classList.contains(\'empty-rows\')) {\n      _dom2.default.removeEmpty(evt.from);\n    }\n\n    _data.data.save();\n  };\n\n  Row.prototype.onAdd = function onAdd(evt) {\n    var from = evt.from,\n        item = evt.item,\n        to = evt.to;\n\n    var fromRow = from.fType === \'rows\';\n    var fromColumn = from.fType === \'columns\';\n    var fromControls = from.fType === \'controlGroup\';\n    var column = void 0;\n\n    if (fromRow) {\n      column = item;\n    } else if (fromColumn || fromControls) {\n      var meta = _helpers2.default.get(_data.registeredFields[item.id], \'meta\');\n      if (meta.group !== \'layout\') {\n        column = _dom2.default.addColumn(to.id);\n        _dom2.default.addField(column.id, item.id);\n      } else if (meta.id === \'layout-column\') {\n        _dom2.default.addColumn(to.id);\n      }\n    }\n\n    if (fromColumn || fromControls) {\n      _dom2.default.remove(item);\n    }\n\n    _data.data.saveColumnOrder(to);\n\n    _dom2.default.columnWidths(to);\n    _dom2.default.emptyClass(to);\n    _data.data.save();\n  };\n\n  _createClass(Row, [{\n    key: \'editWindow\',\n    get: function get() {\n      var _this = this;\n      var rowData = _data.formData.rows.get(_this.rowID);\n\n      var editWindow = {\n        tag: \'div\',\n        className: \'row-edit group-config\'\n      };\n      var fieldsetLabel = {\n        tag: \'label\',\n        content: _mi18n2.default.get(\'row.settings.fieldsetWrap\')\n      };\n      var fieldsetInput = {\n        tag: \'input\',\n        id: _this.rowID + \'-fieldset\',\n        attrs: {\n          type: \'checkbox\',\n          checked: rowData.config.fieldset,\n          ariaLabel: _mi18n2.default.get(\'row.settings.fieldsetWrap.aria\')\n        },\n        action: {\n          click: function click(e) {\n            rowData.config.fieldset = e.target.checked;\n            _data.data.save();\n          }\n        }\n      };\n\n      var inputGroupInput = {\n        tag: \'input\',\n        id: _this.rowID + \'-inputGroup\',\n        attrs: {\n          type: \'checkbox\',\n          checked: rowData.config.inputGroup,\n          ariaLabel: _mi18n2.default.get(\'row.settings.inputGroup.aria\')\n        },\n        action: {\n          click: function click(e) {\n            rowData.config.inputGroup = e.target.checked;\n            _data.data.save();\n          }\n        },\n        config: {\n          label: _mi18n2.default.get(\'row.makeInputGroup\'),\n          description: _mi18n2.default.get(\'row.makeInputGroupDesc\')\n        }\n      };\n\n      var inputAddon = {\n        tag: \'span\',\n        className: \'input-group-addon\',\n        content: fieldsetInput\n      };\n      var legendInput = {\n        tag: \'input\',\n        attrs: {\n          type: \'text\',\n          ariaLabel: \'Legend for fieldset\',\n          value: rowData.config.legend,\n          placeholder: \'Legend\'\n        },\n        action: {\n          input: function input(e) {\n            rowData.config.legend = e.target.value;\n            _data.data.save();\n          }\n        },\n        className: \'\'\n      };\n      var fieldsetInputGroup = {\n        tag: \'div\',\n        className: \'input-group\',\n        content: [inputAddon, legendInput]\n      };\n\n      var fieldSetControls = [fieldsetLabel, fieldsetInputGroup];\n      fieldSetControls = _dom2.default.formGroup(fieldSetControls);\n      var columnSettingsLabel = Object.assign({}, fieldsetLabel, {\n        content: \'Define column widths\'\n      });\n      var columnSettingsPresetLabel = Object.assign({}, fieldsetLabel, {\n        content: \'Layout Preset\', className: \'col-sm-4 form-control-label\'\n      });\n      var columnSettingsPresetSelect = {\n        tag: \'div\',\n        className: \'col-sm-8\',\n        content: _dom2.default.columnPresetControl(_this.rowID)\n      };\n      var formGroupContent = [columnSettingsPresetLabel, columnSettingsPresetSelect];\n      var columnSettingsPreset = _dom2.default.formGroup(formGroupContent, \'row\');\n\n      editWindow.content = [inputGroupInput, _dom2.default.create(\'hr\'), fieldSetControls, _dom2.default.create(\'hr\'), columnSettingsLabel, columnSettingsPreset];\n\n      return editWindow;\n    }\n  }]);\n\n  return Row;\n}();\n\nexports.default = Row;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTUuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL2NvbXBvbmVudHMvcm93LmpzP2VkMjYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGkxOG4gZnJvbSAnbWkxOG4nO1xuaW1wb3J0IFNvcnRhYmxlIGZyb20gJ3NvcnRhYmxlanMnO1xuaW1wb3J0IGRvbSBmcm9tICcuLi9jb21tb24vZG9tJztcbmltcG9ydCBoIGZyb20gJy4uL2NvbW1vbi9oZWxwZXJzJztcbmltcG9ydCB7ZGF0YSwgZm9ybURhdGEsIHJlZ2lzdGVyZWRGaWVsZHMgYXMgckZpZWxkc30gZnJvbSAnLi4vY29tbW9uL2RhdGEnO1xuaW1wb3J0IHt1dWlkfSBmcm9tICcuLi9jb21tb24vdXRpbHMnO1xuXG4vKipcbiAqIEVkaXRvciBSb3dcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUm93IHtcblxuICAvKipcbiAgICogU2V0IGRlZmF1bHQgYW5kIGdlbmVyYXRlIGRvbSBmb3Igcm93IGluIGVkaXRvclxuICAgKiBAcGFyYW0gIHtTdHJpbmd9IGRhdGFJRFxuICAgKiBAcmV0dXJuIHtPYmplY3R9XG4gICAqL1xuICBjb25zdHJ1Y3RvcihkYXRhSUQpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIGxldCBkZWZhdWx0cztcbiAgICBsZXQgcm93O1xuXG4gICAgbGV0IHJvd0lEID0gX3RoaXMucm93SUQgPSBkYXRhSUQgfHwgdXVpZCgpO1xuXG4gICAgZGVmYXVsdHMgPSB7XG4gICAgICAgIGNvbHVtbnM6IFtdLFxuICAgICAgICBpZDogX3RoaXMucm93SUQsXG4gICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgIGZpZWxkc2V0OiBmYWxzZSwgLy8gd3JhcCBjb250ZW50cyBvZiByb3cgaW4gZmllbGRzZXRcbiAgICAgICAgICBsZWdlbmQ6ICcnLCAvLyBMZWdlbmQgZm9yIGZpZWxkc2V0XG4gICAgICAgICAgaW5wdXRHcm91cDogZmFsc2UgLy8gaXMgcmVwZWF0YWJsZSBpbnB1dC1ncm91cD9cbiAgICAgICAgfSxcbiAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICBjbGFzc05hbWU6ICdmLXJvdydcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgIGxldCByb3dEYXRhID0gZm9ybURhdGEucm93cy5nZXQocm93SUQpO1xuXG4gICAgZm9ybURhdGEucm93cy5zZXQocm93SUQsIGgubWVyZ2UoZGVmYXVsdHMsIHJvd0RhdGEpKTtcblxuICAgIHJvdyA9IHtcbiAgICAgIHRhZzogJ2xpJyxcbiAgICAgIGNsYXNzTmFtZTogJ3N0YWdlLXJvd3MgZW1wdHktcm93cycsXG4gICAgICBkYXRhc2V0OiB7XG4gICAgICAgIGhvdmVyVGFnOiBpMThuLmdldCgncm93JyksXG4gICAgICAgIGVkaXRpbmdIb3ZlclRhZzogaTE4bi5nZXQoJ2VkaXRpbmcucm93JylcbiAgICAgIH0sXG4gICAgICBpZDogcm93SUQsXG4gICAgICBjb250ZW50OiBbZG9tLmFjdGlvbkJ1dHRvbnMocm93SUQsICdyb3cnKSwgX3RoaXMuZWRpdFdpbmRvd10sXG4gICAgICBmVHlwZTogJ3Jvd3MnXG4gICAgfTtcblxuICAgIHJvdyA9IGRvbS5jcmVhdGUocm93KTtcblxuICAgIGNvbnN0IHNvcnRhYmxlID0gU29ydGFibGUuY3JlYXRlKHJvdywge1xuICAgICAgYW5pbWF0aW9uOiAxNTAsXG4gICAgICBmYWxsYmFja0NsYXNzOiAnY29sdW1uLW1vdmluZycsXG4gICAgICBmb3JjZUZhbGxiYWNrOiB0cnVlLFxuICAgICAgZ3JvdXA6IHtuYW1lOiAncm93cycsIHB1bGw6IHRydWUsIHB1dDogWydyb3dzJywgJ2NvbnRyb2xzJywgJ2NvbHVtbnMnXX0sXG4gICAgICBzb3J0OiB0cnVlLFxuICAgICAgb25SZW1vdmU6IF90aGlzLm9uUmVtb3ZlLFxuICAgICAgb25FbmQ6IF90aGlzLm9uRW5kLFxuICAgICAgb25BZGQ6IF90aGlzLm9uQWRkLFxuICAgICAgb25Tb3J0OiBfdGhpcy5vblNvcnQsXG4gICAgICBkcmFnZ2FibGU6ICcuc3RhZ2UtY29sdW1ucycsXG4gICAgICBmaWx0ZXI6ICcucmVzaXplLXgtaGFuZGxlJ1xuICAgIH0pO1xuXG4gICAgZG9tLnJvd3Muc2V0KHJvd0lELCB7cm93LCBzb3J0YWJsZX0pO1xuXG4gICAgcmV0dXJuIHJvdztcbiAgfVxuXG4gIC8qKlxuICAgKiBbZWRpdFdpbmRvdyBkZXNjcmlwdGlvbl1cbiAgICogQHJldHVybiB7W3R5cGVdfSBbZGVzY3JpcHRpb25dXG4gICAqL1xuICBnZXQgZWRpdFdpbmRvdygpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIGxldCByb3dEYXRhID0gZm9ybURhdGEucm93cy5nZXQoX3RoaXMucm93SUQpO1xuXG4gICAgbGV0IGVkaXRXaW5kb3cgPSB7XG4gICAgICB0YWc6ICdkaXYnLFxuICAgICAgY2xhc3NOYW1lOiAncm93LWVkaXQgZ3JvdXAtY29uZmlnJ1xuICAgIH07XG4gICAgbGV0IGZpZWxkc2V0TGFiZWwgPSB7XG4gICAgICB0YWc6ICdsYWJlbCcsXG4gICAgICBjb250ZW50OiBpMThuLmdldCgncm93LnNldHRpbmdzLmZpZWxkc2V0V3JhcCcpXG4gICAgfTtcbiAgICBsZXQgZmllbGRzZXRJbnB1dCA9IHtcbiAgICAgIHRhZzogJ2lucHV0JyxcbiAgICAgIGlkOiBfdGhpcy5yb3dJRCArICctZmllbGRzZXQnLFxuICAgICAgYXR0cnM6IHtcbiAgICAgICAgdHlwZTogJ2NoZWNrYm94JyxcbiAgICAgICAgY2hlY2tlZDogcm93RGF0YS5jb25maWcuZmllbGRzZXQsXG4gICAgICAgIGFyaWFMYWJlbDogaTE4bi5nZXQoJ3Jvdy5zZXR0aW5ncy5maWVsZHNldFdyYXAuYXJpYScpXG4gICAgICB9LFxuICAgICAgYWN0aW9uOiB7XG4gICAgICAgIGNsaWNrOiBlID0+IHtcbiAgICAgICAgICByb3dEYXRhLmNvbmZpZy5maWVsZHNldCA9IGUudGFyZ2V0LmNoZWNrZWQ7XG4gICAgICAgICAgZGF0YS5zYXZlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgbGV0IGlucHV0R3JvdXBJbnB1dCA9IHtcbiAgICAgIHRhZzogJ2lucHV0JyxcbiAgICAgIGlkOiBfdGhpcy5yb3dJRCArICctaW5wdXRHcm91cCcsXG4gICAgICBhdHRyczoge1xuICAgICAgICB0eXBlOiAnY2hlY2tib3gnLFxuICAgICAgICBjaGVja2VkOiByb3dEYXRhLmNvbmZpZy5pbnB1dEdyb3VwLFxuICAgICAgICBhcmlhTGFiZWw6IGkxOG4uZ2V0KCdyb3cuc2V0dGluZ3MuaW5wdXRHcm91cC5hcmlhJylcbiAgICAgIH0sXG4gICAgICBhY3Rpb246IHtcbiAgICAgICAgY2xpY2s6IGUgPT4ge1xuICAgICAgICAgIHJvd0RhdGEuY29uZmlnLmlucHV0R3JvdXAgPSBlLnRhcmdldC5jaGVja2VkO1xuICAgICAgICAgIGRhdGEuc2F2ZSgpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY29uZmlnOiB7XG4gICAgICAgIGxhYmVsOiBpMThuLmdldCgncm93Lm1ha2VJbnB1dEdyb3VwJyksXG4gICAgICAgIGRlc2NyaXB0aW9uOiBpMThuLmdldCgncm93Lm1ha2VJbnB1dEdyb3VwRGVzYycpXG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIGxldCBmaWVsZHNldEFkZG9uID0gT2JqZWN0LmFzc2lnbih7fSwgZmllbGRzZXRMYWJlbCwge1xuICAgICAgLy8gY29udGVudDogW2ZpZWxkc2V0SW5wdXQsICcgRmllbGRzZXQnXVxuICAgIC8vIH0pO1xuICAgIGxldCBpbnB1dEFkZG9uID0ge1xuICAgICAgdGFnOiAnc3BhbicsXG4gICAgICBjbGFzc05hbWU6ICdpbnB1dC1ncm91cC1hZGRvbicsXG4gICAgICBjb250ZW50OiBmaWVsZHNldElucHV0XG4gICAgfTtcbiAgICBsZXQgbGVnZW5kSW5wdXQgPSB7XG4gICAgICB0YWc6ICdpbnB1dCcsXG4gICAgICBhdHRyczoge1xuICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgIGFyaWFMYWJlbDogJ0xlZ2VuZCBmb3IgZmllbGRzZXQnLFxuICAgICAgICB2YWx1ZTogcm93RGF0YS5jb25maWcubGVnZW5kLFxuICAgICAgICBwbGFjZWhvbGRlcjogJ0xlZ2VuZCdcbiAgICAgIH0sXG4gICAgICBhY3Rpb246IHtcbiAgICAgICAgaW5wdXQ6IGUgPT4ge1xuICAgICAgICAgIHJvd0RhdGEuY29uZmlnLmxlZ2VuZCA9IGUudGFyZ2V0LnZhbHVlO1xuICAgICAgICAgIGRhdGEuc2F2ZSgpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgY2xhc3NOYW1lOiAnJ1xuICAgIH07XG4gICAgbGV0IGZpZWxkc2V0SW5wdXRHcm91cCA9IHtcbiAgICAgIHRhZzogJ2RpdicsXG4gICAgICBjbGFzc05hbWU6ICdpbnB1dC1ncm91cCcsXG4gICAgICBjb250ZW50OiBbaW5wdXRBZGRvbiwgbGVnZW5kSW5wdXRdXG4gICAgfTtcblxuICAgIGxldCBmaWVsZFNldENvbnRyb2xzID0gW1xuICAgICAgZmllbGRzZXRMYWJlbCxcbiAgICAgIGZpZWxkc2V0SW5wdXRHcm91cFxuICAgIF07XG4gICAgZmllbGRTZXRDb250cm9scyA9IGRvbS5mb3JtR3JvdXAoZmllbGRTZXRDb250cm9scyk7XG4gICAgbGV0IGNvbHVtblNldHRpbmdzTGFiZWwgPSBPYmplY3QuYXNzaWduKHt9LCBmaWVsZHNldExhYmVsLCB7XG4gICAgICBjb250ZW50OiAnRGVmaW5lIGNvbHVtbiB3aWR0aHMnXG4gICAgfSk7XG4gICAgbGV0IGNvbHVtblNldHRpbmdzUHJlc2V0TGFiZWwgPSBPYmplY3QuYXNzaWduKHt9LCBmaWVsZHNldExhYmVsLCB7XG4gICAgICBjb250ZW50OiAnTGF5b3V0IFByZXNldCcsIGNsYXNzTmFtZTogJ2NvbC1zbS00IGZvcm0tY29udHJvbC1sYWJlbCdcbiAgICB9KTtcbiAgICBsZXQgY29sdW1uU2V0dGluZ3NQcmVzZXRTZWxlY3QgPSB7XG4gICAgICB0YWc6ICdkaXYnLFxuICAgICAgY2xhc3NOYW1lOiAnY29sLXNtLTgnLFxuICAgICAgY29udGVudDogZG9tLmNvbHVtblByZXNldENvbnRyb2woX3RoaXMucm93SUQpXG4gICAgfTtcbiAgICBsZXQgZm9ybUdyb3VwQ29udGVudCA9IFtcbiAgICAgIGNvbHVtblNldHRpbmdzUHJlc2V0TGFiZWwsXG4gICAgICBjb2x1bW5TZXR0aW5nc1ByZXNldFNlbGVjdFxuICAgIF07XG4gICAgbGV0IGNvbHVtblNldHRpbmdzUHJlc2V0ID0gZG9tLmZvcm1Hcm91cChmb3JtR3JvdXBDb250ZW50LCAncm93Jyk7XG5cbiAgICBlZGl0V2luZG93LmNvbnRlbnQgPSBbXG4gICAgICBpbnB1dEdyb3VwSW5wdXQsXG4gICAgICBkb20uY3JlYXRlKCdocicpLFxuICAgICAgZmllbGRTZXRDb250cm9scyxcbiAgICAgIGRvbS5jcmVhdGUoJ2hyJyksXG4gICAgICBjb2x1bW5TZXR0aW5nc0xhYmVsLFxuICAgICAgY29sdW1uU2V0dGluZ3NQcmVzZXRcbiAgICBdO1xuXG4gICAgcmV0dXJuIGVkaXRXaW5kb3c7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIGNvbHVtbiBvcmRlciBhbmQgc2F2ZVxuICAgKiBAcGFyYW0gIHtPYmplY3R9IGV2dFxuICAgKi9cbiAgb25Tb3J0KGV2dCkge1xuICAgIGRhdGEuc2F2ZUNvbHVtbk9yZGVyKGV2dC50YXJnZXQpO1xuICAgIGRhdGEuc2F2ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZXIgZm9yIHJlbW92aW5nIGNvbnRlbnQgZnJvbSBhIHJvd1xuICAgKiBAcGFyYW0gIHtPYmplY3R9IGV2dFxuICAgKi9cbiAgb25SZW1vdmUoZXZ0KSB7XG4gICAgZG9tLmNvbHVtbldpZHRocyhldnQuZnJvbSk7XG4gICAgZGF0YS5zYXZlQ29sdW1uT3JkZXIoZXZ0LnRhcmdldCk7XG4gICAgZG9tLmVtcHR5Q2xhc3MoZXZ0LmZyb20pO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZXIgZm9yIHJlbW92aW5nIGNvbnRlbnQgZnJvbSBhIHJvd1xuICAgKiBAcGFyYW0gIHtPYmplY3R9IGV2dFxuICAgKi9cbiAgb25FbmQoZXZ0KSB7XG4gICAgaWYoZXZ0LmZyb20uY2xhc3NMaXN0LmNvbnRhaW5zKCdlbXB0eS1yb3dzJykpIHtcbiAgICAgIGRvbS5yZW1vdmVFbXB0eShldnQuZnJvbSk7XG4gICAgfVxuXG4gICAgZGF0YS5zYXZlKCk7XG4gIH1cblxuICAvKipcbiAgICogSGFuZGxlciBmb3IgYWRkaW5nIGNvbnRlbnQgdG8gYSByb3dcbiAgICogQHBhcmFtICB7T2JqZWN0fSBldnRcbiAgICovXG4gIG9uQWRkKGV2dCkge1xuICAgIGxldCB7ZnJvbSwgaXRlbSwgdG99ID0gZXZ0O1xuICAgIGxldCBmcm9tUm93ID0gZnJvbS5mVHlwZSA9PT0gJ3Jvd3MnO1xuICAgIGxldCBmcm9tQ29sdW1uID0gZnJvbS5mVHlwZSA9PT0gJ2NvbHVtbnMnO1xuICAgIGxldCBmcm9tQ29udHJvbHMgPSBmcm9tLmZUeXBlID09PSAnY29udHJvbEdyb3VwJztcbiAgICBsZXQgY29sdW1uO1xuXG4gICAgaWYgKGZyb21Sb3cpIHtcbiAgICAgIGNvbHVtbiA9IGl0ZW07XG4gICAgfSBlbHNlIGlmKGZyb21Db2x1bW4gfHwgZnJvbUNvbnRyb2xzKSB7XG4gICAgICBsZXQgbWV0YSA9IGguZ2V0KHJGaWVsZHNbaXRlbS5pZF0sICdtZXRhJyk7XG4gICAgICBpZiAobWV0YS5ncm91cCAhPT0gJ2xheW91dCcpIHtcbiAgICAgICAgY29sdW1uID0gZG9tLmFkZENvbHVtbih0by5pZCk7XG4gICAgICAgIGRvbS5hZGRGaWVsZChjb2x1bW4uaWQsIGl0ZW0uaWQpO1xuICAgICAgfSBlbHNlIGlmIChtZXRhLmlkID09PSAnbGF5b3V0LWNvbHVtbicpIHtcbiAgICAgICAgZG9tLmFkZENvbHVtbih0by5pZCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGZyb21Db2x1bW4gfHwgZnJvbUNvbnRyb2xzKSB7XG4gICAgICBkb20ucmVtb3ZlKGl0ZW0pO1xuICAgIH1cblxuICAgIGRhdGEuc2F2ZUNvbHVtbk9yZGVyKHRvKTtcblxuICAgIGRvbS5jb2x1bW5XaWR0aHModG8pO1xuICAgIGRvbS5lbXB0eUNsYXNzKHRvKTtcbiAgICBkYXRhLnNhdmUoKTtcbiAgfVxuXG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL2pzL2NvbXBvbmVudHMvcm93LmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7QUFBQTtBQUNBOzs7OztBQUlBO0FBT0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBREE7QUFSQTtBQUNBO0FBWUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQVRBO0FBQ0E7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBWEE7QUFDQTtBQWFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF5SEE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQWhMQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBUkE7QUFDQTtBQWVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQUNBO0FBQ0E7QUFGQTtBQWRBO0FBQ0E7QUFzQkE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQWRBO0FBZ0JBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFDQTtBQUtBO0FBSUE7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQVFBO0FBQ0E7Ozs7OztBQWxMQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///15\n')},function(module,exports,__webpack_require__){'use strict';eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _sortablejs = __webpack_require__(/*! sortablejs */ 6);\n\nvar _sortablejs2 = _interopRequireDefault(_sortablejs);\n\nvar _mi18n = __webpack_require__(/*! mi18n */ 4);\n\nvar _mi18n2 = _interopRequireDefault(_mi18n);\n\nvar _data = __webpack_require__(/*! ../common/data */ 2);\n\nvar _helpers = __webpack_require__(/*! ../common/helpers */ 1);\n\nvar _helpers2 = _interopRequireDefault(_helpers);\n\nvar _dom = __webpack_require__(/*! ../common/dom */ 0);\n\nvar _dom2 = _interopRequireDefault(_dom);\n\nvar _utils = __webpack_require__(/*! ../common/utils */ 3);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nvar stageOpts = {};\n\nvar Stage = function () {\n  function Stage(formeoOptions, stageID) {\n    _classCallCheck(this, Stage);\n\n    this.stageID = stageID || (0, _utils.uuid)();\n    var defaultOptions = {\n      formSettings: [{\n        tag: \'input\',\n        id: \'form-title\',\n        attrs: {\n          className: \'form-title\',\n          placeholder: _mi18n2.default.get(\'Untitled Form\'),\n          value: _mi18n2.default.get(\'Untitled Form\'),\n          type: \'text\'\n        },\n        config: {\n          label: _mi18n2.default.get(\'Form Title\')\n        }\n      }, {\n        tag: \'input\',\n        id: \'form-novalidate\',\n        attrs: {\n          className: \'form-novalidate\',\n          value: false,\n          type: \'checkbox\'\n        },\n        config: {\n          label: _mi18n2.default.get(\'Form novalidate\')\n        }\n      }, {\n        tag: \'input\',\n        id: \'form-tags\',\n        attrs: {\n          className: \'form-tags\',\n          type: \'text\'\n        },\n        config: {\n          label: _mi18n2.default.get(\'Tags\')\n        }\n      }]\n    };\n\n    stageOpts = Object.assign(stageOpts, defaultOptions, formeoOptions);\n\n    if (!_data.formData.stages.get(this.stageID)) {\n      var defaultStageData = {\n        id: this.stageID,\n        settings: {},\n        rows: []\n      };\n      _data.formData.stages.set(this.stageID, defaultStageData);\n    }\n\n    var stageWrap = this.loadStage();\n\n    return stageWrap;\n  }\n\n  Stage.prototype.loadStage = function loadStage() {\n    var _this = this;\n    var stageWrap = this.dom;\n    var sortable = _sortablejs2.default.create(stageWrap.firstChild, {\n      animation: 150,\n      fallbackClass: \'row-moving\',\n      forceFallback: true,\n      fallbackTolerance: 0,\n      group: { name: \'stages\', pull: true, put: [\'controls\', \'rows\', \'columns\'] },\n\n      onAdd: _this.onAdd.bind(_this),\n      onRemove: _this.onRemove.bind(_this),\n\n      sort: true,\n      onStart: function onStart(evt) {\n        _dom2.default.activeStage = _this.stage;\n      },\n      onUpdate: function onUpdate(evt) {\n        _data.data.saveRowOrder();\n        _data.data.save();\n      },\n      onSort: _this.onSort,\n      draggable: \'.stage-rows\',\n      handle: \'.item-handle\'\n    });\n    _dom2.default.stages.set(this.stageID, {\n      stage: this.stage,\n      sortable: sortable\n    });\n    _dom2.default.activeStage = this.stage;\n    if (_data.formData.stages.get(this.stageID).rows.length) {\n      _dom2.default.loadRows(this.stage);\n    }\n\n    return stageWrap;\n  };\n\n  Stage.prototype.elementConfigs = function elementConfigs() {\n    var _this = this;\n    var config = {\n      stage: {\n        tag: \'ul\',\n        attrs: {\n          className: [\'stage\', \'empty-stages\'],\n          id: _this.stageID\n        },\n        fType: \'stages\'\n      },\n      settings: {\n        tag: \'div\',\n        attrs: {\n          className: \'formeo-settings\',\n          id: _this.stageID + \'-settings\'\n        },\n        fType: \'settings\'\n      }\n    };\n\n    config.settings.content = stageOpts.formSettings.slice();\n\n    return config;\n  };\n\n  Stage.prototype.onSort = function onSort(evt) {\n    _data.data.save();\n  };\n\n  Stage.prototype.onAdd = function onAdd(evt) {\n    var _this = this;\n    _dom2.default.activeStage = _this.stage;\n    var from = evt.from,\n        item = evt.item,\n        to = evt.to;\n\n    var newIndex = _helpers2.default.indexOfNode(item, to);\n    var row = from.fType === \'stages\' ? item : _dom2.default.addRow();\n    var fromColumn = from.fType === \'columns\';\n    var fromRow = from.fType === \'rows\';\n    var column = void 0;\n\n    if (from.fType === \'controlGroup\') {\n      var meta = _data.registeredFields[item.id].meta;\n      if (meta.group !== \'layout\') {\n        column = _dom2.default.addColumn(row.id);\n        _dom2.default.addField(column.id, item.id);\n      } else if (meta.id === \'layout-column\') {\n        _dom2.default.addColumn(row.id);\n      }\n      _dom2.default.remove(item);\n    } else if (fromColumn) {\n      var _column = _dom2.default.addColumn(row.id);\n      _column.appendChild(item);\n      _data.data.saveFieldOrder(_column);\n      _dom2.default.emptyClass(_column);\n    } else if (fromRow) {\n      row.appendChild(item);\n      _data.data.saveColumnOrder(row);\n      _dom2.default.emptyClass(row);\n    }\n\n    to.insertBefore(row, to.children[newIndex]);\n    _dom2.default.columnWidths(row);\n    _data.data.saveRowOrder(to);\n\n    return _data.data.save();\n  };\n\n  Stage.prototype.onRemove = function onRemove(evt) {\n    return _data.data.save();\n  };\n\n  _createClass(Stage, [{\n    key: \'dom\',\n    get: function get() {\n      if (this.stage) {\n        return this.stage;\n      }\n      var config = this.elementConfigs();\n\n      var stageWrap = _dom2.default.create({\n        tag: \'div\',\n        attrs: {\n          className: \'stage-wrap\'\n        },\n        content: [config.stage, config.settings]\n      });\n      this.stage = stageWrap.firstChild;\n\n      return stageWrap;\n    }\n  }]);\n\n  return Stage;\n}();\n\nexports.default = Stage;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2pzL2NvbXBvbmVudHMvc3RhZ2UuanM/ZTgzZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgU29ydGFibGUgZnJvbSAnc29ydGFibGVqcyc7XG5pbXBvcnQgaTE4biBmcm9tICdtaTE4bic7XG5pbXBvcnQge2RhdGEsIGZvcm1EYXRhLCByZWdpc3RlcmVkRmllbGRzIGFzIHJGaWVsZHN9IGZyb20gJy4uL2NvbW1vbi9kYXRhJztcbmltcG9ydCBoIGZyb20gJy4uL2NvbW1vbi9oZWxwZXJzJztcbmltcG9ydCBkb20gZnJvbSAnLi4vY29tbW9uL2RvbSc7XG5pbXBvcnQge3V1aWR9IGZyb20gJy4uL2NvbW1vbi91dGlscyc7XG5cbmxldCBzdGFnZU9wdHMgPSB7fTtcblxuLyoqXG4gKiBTdGFnZSBpcyB3aGVyZSBmaWVsZHMgYW5kIGVsZW1lbnRzIGFyZSBkcmFnZ2VkIHRvLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTdGFnZSB7XG4gIC8qKlxuICAgKiBQcm9jZXNzIG9wdGlvbnMgYW5kIGxvYWQgZXhpc3RpbmcgZmllbGRzIGZyb20gZGF0YSB0byB0aGUgc3RhZ2VcbiAgICogQHBhcmFtICB7T2JqZWN0fSBmb3JtZW9PcHRpb25zXG4gICAqIEBwYXJhbSAge1N0cmluZ30gc3RhZ2VJRCB1dWlkXG4gICAqIEByZXR1cm4ge09iamVjdH0gRE9NIGVsZW1lbnRcbiAgICovXG4gIGNvbnN0cnVjdG9yKGZvcm1lb09wdGlvbnMsIHN0YWdlSUQpIHtcbiAgICAvLyBmb3JtRGF0YSA9IGRhdGEuZ2V0KCk7XG4gICAgdGhpcy5zdGFnZUlEID0gc3RhZ2VJRCB8fCB1dWlkKCk7XG4gICAgbGV0IGRlZmF1bHRPcHRpb25zID0ge1xuICAgICAgZm9ybVNldHRpbmdzOiBbe1xuICAgICAgICB0YWc6ICdpbnB1dCcsXG4gICAgICAgIGlkOiAnZm9ybS10aXRsZScsXG4gICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgY2xhc3NOYW1lOiAnZm9ybS10aXRsZScsXG4gICAgICAgICAgcGxhY2Vob2xkZXI6IGkxOG4uZ2V0KCdVbnRpdGxlZCBGb3JtJyksXG4gICAgICAgICAgdmFsdWU6IGkxOG4uZ2V0KCdVbnRpdGxlZCBGb3JtJyksXG4gICAgICAgICAgdHlwZTogJ3RleHQnXG4gICAgICAgIH0sXG4gICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgIGxhYmVsOiBpMThuLmdldCgnRm9ybSBUaXRsZScpXG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgdGFnOiAnaW5wdXQnLFxuICAgICAgICBpZDogJ2Zvcm0tbm92YWxpZGF0ZScsXG4gICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgY2xhc3NOYW1lOiAnZm9ybS1ub3ZhbGlkYXRlJyxcbiAgICAgICAgICB2YWx1ZTogZmFsc2UsXG4gICAgICAgICAgdHlwZTogJ2NoZWNrYm94J1xuICAgICAgICB9LFxuICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICBsYWJlbDogaTE4bi5nZXQoJ0Zvcm0gbm92YWxpZGF0ZScpXG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgdGFnOiAnaW5wdXQnLFxuICAgICAgICBpZDogJ2Zvcm0tdGFncycsXG4gICAgICAgIGF0dHJzOiB7XG4gICAgICAgICAgY2xhc3NOYW1lOiAnZm9ybS10YWdzJyxcbiAgICAgICAgICB0eXBlOiAndGV4dCdcbiAgICAgICAgfSxcbiAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgbGFiZWw6IGkxOG4uZ2V0KCdUYWdzJylcbiAgICAgICAgfVxuICAgICAgfV1cbiAgICB9O1xuXG4gICAgc3RhZ2VPcHRzID0gT2JqZWN0LmFzc2lnbihzdGFnZU9wdHMsIGRlZmF1bHRPcHRpb25zLCBmb3JtZW9PcHRpb25zKTtcblxuICAgIGlmICghZm9ybURhdGEuc3RhZ2VzLmdldCh0aGlzLnN0YWdlSUQpKSB7XG4gICAgICBsZXQgZGVmYXVsdFN0YWdlRGF0YSA9IHtcbiAgICAgICAgICBpZDogdGhpcy5zdGFnZUlELFxuICAgICAgICAgIHNldHRpbmdzOiB7fSxcbiAgICAgICAgICByb3dzOiBbXVxuICAgICAgICB9O1xuICAgICAgZm9ybURhdGEuc3RhZ2VzLnNldCh0aGlzLnN0YWdlSUQsIGRlZmF1bHRTdGFnZURhdGEpO1xuICAgIH1cblxuICAgIGNvbnN0IHN0YWdlV3JhcCA9IHRoaXMubG9hZFN0YWdlKCk7XG5cbiAgICByZXR1cm4gc3RhZ2VXcmFwO1xuICB9XG5cbiAgLyoqXG4gICAqIFByZXAgc3RhZ2UgdG8gcmVjZWl2ZSByb3dzXG4gICAqIEByZXR1cm4ge09iamVjdH0gRE9NIGVsZW1lbnRcbiAgICovXG4gIGxvYWRTdGFnZSgpIHtcbiAgICBjb25zdCBfdGhpcyA9IHRoaXM7XG4gICAgbGV0IHN0YWdlV3JhcCA9IHRoaXMuZG9tO1xuICAgIGNvbnN0IHNvcnRhYmxlID0gU29ydGFibGUuY3JlYXRlKHN0YWdlV3JhcC5maXJzdENoaWxkLCB7XG4gICAgICBhbmltYXRpb246IDE1MCxcbiAgICAgIGZhbGxiYWNrQ2xhc3M6ICdyb3ctbW92aW5nJyxcbiAgICAgIGZvcmNlRmFsbGJhY2s6IHRydWUsXG4gICAgICBmYWxsYmFja1RvbGVyYW5jZTogMCxcbiAgICAgIGdyb3VwOiB7bmFtZTogJ3N0YWdlcycsIHB1bGw6IHRydWUsIHB1dDogW1xuICAgICAgICAnY29udHJvbHMnLFxuICAgICAgICAncm93cycsXG4gICAgICAgICdjb2x1bW5zJ1xuICAgICAgXX0sXG4gICAgICAvLyBFbGVtZW50IGlzIGRyb3BwZWQgaW50byB0aGUgbGlzdCBmcm9tIGFub3RoZXIgbGlzdFxuICAgICAgb25BZGQ6IF90aGlzLm9uQWRkLmJpbmQoX3RoaXMpLFxuICAgICAgb25SZW1vdmU6IF90aGlzLm9uUmVtb3ZlLmJpbmQoX3RoaXMpLFxuICAgICAgLy8gb25Ecm9wOiBfdGhpcy5vbkFkZC5iaW5kKF90aGlzKSxcbiAgICAgIHNvcnQ6IHRydWUsXG4gICAgICBvblN0YXJ0OiBldnQgPT4ge1xuICAgICAgICBkb20uYWN0aXZlU3RhZ2UgPSBfdGhpcy5zdGFnZTtcbiAgICAgIH0sXG4gICAgICBvblVwZGF0ZTogZXZ0ID0+IHtcbiAgICAgICAgZGF0YS5zYXZlUm93T3JkZXIoKTtcbiAgICAgICAgZGF0YS5zYXZlKCk7XG4gICAgICB9LFxuICAgICAgb25Tb3J0OiBfdGhpcy5vblNvcnQsXG4gICAgICBkcmFnZ2FibGU6ICcuc3RhZ2Utcm93cycsXG4gICAgICBoYW5kbGU6ICcuaXRlbS1oYW5kbGUnXG4gICAgfSk7XG4gICAgZG9tLnN0YWdlcy5zZXQodGhpcy5zdGFnZUlELCB7XG4gICAgICBzdGFnZTogdGhpcy5zdGFnZSxcbiAgICAgIHNvcnRhYmxlXG4gICAgfSk7XG4gICAgZG9tLmFjdGl2ZVN0YWdlID0gdGhpcy5zdGFnZTtcbiAgICBpZiAoZm9ybURhdGEuc3RhZ2VzLmdldCh0aGlzLnN0YWdlSUQpLnJvd3MubGVuZ3RoKSB7XG4gICAgICBkb20ubG9hZFJvd3ModGhpcy5zdGFnZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0YWdlV3JhcDtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIEdlbmVyYXRlIHRoZSBlbGVtZW50cyB0aGF0IG1ha2UgdXAgdGhlIFN0YWdlXG4gICAqIEByZXR1cm4ge09iamVjdH0gc3RhZ2UgZWxlbWVudHMsIHNldHRpbmdzLCBzdGFnZSB1bFxuICAgKi9cbiAgZWxlbWVudENvbmZpZ3MoKSB7XG4gICAgbGV0IF90aGlzID0gdGhpcztcbiAgICBsZXQgY29uZmlnID0ge1xuICAgICAgICBzdGFnZToge1xuICAgICAgICAgIHRhZzogJ3VsJyxcbiAgICAgICAgICBhdHRyczoge1xuICAgICAgICAgICAgY2xhc3NOYW1lOiBbXG4gICAgICAgICAgICAgICdzdGFnZScsXG4gICAgICAgICAgICAgICdlbXB0eS1zdGFnZXMnXG4gICAgICAgICAgICBdLFxuICAgICAgICAgICAgaWQ6IF90aGlzLnN0YWdlSURcbiAgICAgICAgICB9LFxuICAgICAgICAgIGZUeXBlOiAnc3RhZ2VzJ1xuICAgICAgICB9LFxuICAgICAgICBzZXR0aW5nczoge1xuICAgICAgICAgIHRhZzogJ2RpdicsXG4gICAgICAgICAgYXR0cnM6IHtcbiAgICAgICAgICAgIGNsYXNzTmFtZTogJ2Zvcm1lby1zZXR0aW5ncycsXG4gICAgICAgICAgICBpZDogYCR7X3RoaXMuc3RhZ2VJRH0tc2V0dGluZ3NgXG4gICAgICAgICAgfSxcbiAgICAgICAgICBmVHlwZTogJ3NldHRpbmdzJ1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgY29uZmlnLnNldHRpbmdzLmNvbnRlbnQgPSBzdGFnZU9wdHMuZm9ybVNldHRpbmdzLnNsaWNlKCk7XG5cbiAgICByZXR1cm4gY29uZmlnO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGxiYWNrIGZvciB3aGVuIGEgcm93IGlzIHNvcnRlZFxuICAgKiBAcGFyYW0gIHtPYmplY3R9IGV2dFxuICAgKi9cbiAgb25Tb3J0KGV2dCkge1xuICAgIGRhdGEuc2F2ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIE1ldGhvZCBmb3IgaGFuZGxpbmcgc3RhZ2UgZHJvcFxuICAgKiBAcGFyYW0gIHtPYmplY3R9IGV2dFxuICAgKiBAcmV0dXJuIHtPYmplY3R9IGZvcm1EYXRhXG4gICAqL1xuICBvbkFkZChldnQpIHtcbiAgICBsZXQgX3RoaXMgPSB0aGlzO1xuICAgIGRvbS5hY3RpdmVTdGFnZSA9IF90aGlzLnN0YWdlO1xuICAgIGxldCB7ZnJvbSwgaXRlbSwgdG99ID0gZXZ0O1xuICAgIGxldCBuZXdJbmRleCA9IGguaW5kZXhPZk5vZGUoaXRlbSwgdG8pO1xuICAgIGxldCByb3cgPSBmcm9tLmZUeXBlID09PSAnc3RhZ2VzJyA/IGl0ZW0gOiBkb20uYWRkUm93KCk7XG4gICAgbGV0IGZyb21Db2x1bW4gPSBmcm9tLmZUeXBlID09PSAnY29sdW1ucyc7XG4gICAgbGV0IGZyb21Sb3cgPSBmcm9tLmZUeXBlID09PSAncm93cyc7XG4gICAgbGV0IGNvbHVtbjtcblxuICAgIGlmIChmcm9tLmZUeXBlID09PSAnY29udHJvbEdyb3VwJykge1xuICAgICAgbGV0IG1ldGEgPSByRmllbGRzW2l0ZW0uaWRdLm1ldGE7XG4gICAgICBpZiAobWV0YS5ncm91cCAhPT0gJ2xheW91dCcpIHtcbiAgICAgICAgY29sdW1uID0gZG9tLmFkZENvbHVtbihyb3cuaWQpO1xuICAgICAgICBkb20uYWRkRmllbGQoY29sdW1uLmlkLCBpdGVtLmlkKTtcbiAgICAgIH0gZWxzZSBpZiAobWV0YS5pZCA9PT0gJ2xheW91dC1jb2x1bW4nKSB7XG4gICAgICAgIGRvbS5hZGRDb2x1bW4ocm93LmlkKTtcbiAgICAgIH1cbiAgICAgIGRvbS5yZW1vdmUoaXRlbSk7XG4gICAgfSBlbHNlIGlmIChmcm9tQ29sdW1uKSB7XG4gICAgICBsZXQgY29sdW1uID0gZG9tLmFkZENvbHVtbihyb3cuaWQpO1xuICAgICAgY29sdW1uLmFwcGVuZENoaWxkKGl0ZW0pO1xuICAgICAgZGF0YS5zYXZlRmllbGRPcmRlcihjb2x1bW4pO1xuICAgICAgZG9tLmVtcHR5Q2xhc3MoY29sdW1uKTtcbiAgICB9IGVsc2UgaWYoZnJvbVJvdykge1xuICAgICAgcm93LmFwcGVuZENoaWxkKGl0ZW0pO1xuICAgICAgZGF0YS5zYXZlQ29sdW1uT3JkZXIocm93KTtcbiAgICAgIGRvbS5lbXB0eUNsYXNzKHJvdyk7XG4gICAgfVxuXG4gICAgdG8uaW5zZXJ0QmVmb3JlKHJvdywgdG8uY2hpbGRyZW5bbmV3SW5kZXhdKTtcbiAgICBkb20uY29sdW1uV2lkdGhzKHJvdyk7XG4gICAgZGF0YS5zYXZlUm93T3JkZXIodG8pO1xuXG4gICAgcmV0dXJuIGRhdGEuc2F2ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZSByZW1vdmFsIG9mIGEgcm93IGZyb20gc3RhZ2VcbiAgICogQHBhcmFtICB7T2JqZWN0fSBldnRcbiAgICogQHJldHVybiB7T2JqZWN0fSBmb3JtRGF0YVxuICAgKi9cbiAgb25SZW1vdmUoZXZ0KSB7XG4gICAgcmV0dXJuIGRhdGEuc2F2ZSgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIG1hcmt1cCBmb3IgdGhlIHN0YWdlXG4gICAqXG4gICAqIEByZXR1cm4ge0RPTX1cbiAgICovXG4gIGdldCBkb20oKSB7XG4gICAgaWYgKHRoaXMuc3RhZ2UpIHtcbiAgICAgIHJldHVybiB0aGlzLnN0YWdlO1xuICAgIH1cbiAgICBjb25zdCBjb25maWcgPSB0aGlzLmVsZW1lbnRDb25maWdzKCk7XG5cbiAgICBsZXQgc3RhZ2VXcmFwID0gZG9tLmNyZWF0ZSh7XG4gICAgICB0YWc6ICdkaXYnLFxuICAgICAgYXR0cnM6IHtcbiAgICAgICAgY2xhc3NOYW1lOiAnc3RhZ2Utd3JhcCdcbiAgICAgIH0sXG4gICAgICBjb250ZW50OiBbXG4gICAgICAgIGNvbmZpZy5zdGFnZSwgLy8gc3RhZ2UgaXRlbXNcbiAgICAgICAgY29uZmlnLnNldHRpbmdzXG4gICAgICBdXG4gICAgfSk7XG4gICAgdGhpcy5zdGFnZSA9IHN0YWdlV3JhcC5maXJzdENoaWxkO1xuXG4gICAgcmV0dXJuIHN0YWdlV3JhcDtcbiAgfVxufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9qcy9jb21wb25lbnRzL3N0YWdlLmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7OztBQUFBO0FBQ0E7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7QUFBQTtBQUNBOzs7OztBQUNBO0FBQ0E7QUFJQTtBQU9BO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQUNBO0FBREE7QUFUQTtBQWFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQURBO0FBUkE7QUFZQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBREE7QUFQQTtBQXhCQTtBQUNBO0FBb0NBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBeEJBO0FBMEJBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7QUFMQTtBQU9BO0FBVEE7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQU5BO0FBWkE7QUFDQTtBQXFCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFNQTtBQUNBO0FBQ0E7QUFGQTtBQUFBO0FBQUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU1BO0FBQ0E7QUFDQTtBQUNBOzs7QUFNQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQURBO0FBR0E7QUFMQTtBQVVBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7QUFqT0EiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///16\n')},function(module,exports,__webpack_require__){eval('exports = module.exports = __webpack_require__(/*! ../../~/css-loader/lib/css-base.js */ 18)();\n// imports\n\n\n// module\nexports.push([module.i, "@keyframes PLACEHOLDER{0%{height:1px}to{height:15px}}@keyframes DRAG_GHOST{0%{box-shadow:0 0 0 0 #999}to{box-shadow:0 0 30px 0 #999}}@keyframes EDIT_PULSE{0%,to{border-color:#66afe9}50%{border-color:#bfdef6}}.formeo .f-input-group,.formeo.formeo-editor .stage-rows{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:start;justify-content:flex-start;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-ms-flex-line-pack:stretch;align-content:stretch;-ms-flex-align:stretch;align-items:stretch}.formeo .f-addon,.formeo input,.formeo select,.formeo textarea{font-size:100%;font-family:inherit;height:2.1em;line-height:1.5;margin:0;border:1px solid #ccc;border-radius:3px;background-color:#fff;width:100%;padding:.3em .6em;box-sizing:border-box}.formeo .f-addon:focus,.formeo input:focus,.formeo select:focus,.formeo textarea:focus{border:1px solid #66afe9;outline:none}.formeo.formeo-editor .field-edit-group,.formeo.formeo-editor .formeo-controls ul,.formeo.formeo-editor .panels-wrap ul,.formeo.formeo-editor .stage-columns,.formeo.formeo-editor .stage-wrap .stage{margin:0;padding:0;list-style:none}.formeo input[type=checkbox],.formeo input[type=radio]{opacity:0;width:0;position:absolute;display:inline-block;height:auto}.formeo input[type=checkbox]+.checkable,.formeo input[type=radio]+.checkable{padding-left:1.5em;cursor:pointer;position:relative}.formeo input[type=checkbox]+.checkable:after,.formeo input[type=checkbox]+.checkable:before,.formeo input[type=radio]+.checkable:after,.formeo input[type=radio]+.checkable:before{content:\\"\\";position:absolute;display:inline-block;left:0;top:50%;transform:translateY(-50%);font-size:1em;line-height:1em;color:transparent;font-family:sans;text-align:center;width:1em;height:1em;border-radius:2px}.formeo input[type=checkbox]+.checkable:before,.formeo input[type=radio]+.checkable:before{background:#fff;border:1px solid #666}.formeo input[type=checkbox]:focus+.checkable:before,.formeo input[type=radio]:focus+.checkable:before{border:1px solid #66afe9}.formeo input[type=checkbox]+.checkable:after,.formeo input[type=radio]+.checkable:after{content:\\"\\\\2714\\";background:none;visibility:hidden;opacity:0;font-size:1.15em;color:#000}.formeo input[type=checkbox]:checked+.checkable:after,.formeo input[type=radio]:checked+.checkable:after{color:#666;background:none;visibility:visible;opacity:1}.formeo.formeo-editor .stage-columns:before,.formeo.formeo-editor .stage-fields:before,.formeo.formeo-editor .stage-rows:before{font-size:12px;position:absolute;top:0;width:0;padding:0;height:22px;line-height:24px;text-align:center;overflow:hidden;z-index:100;transition-property:width;transition-duration:.15s;content:attr(data-hover-tag);background-color:#fff}.field-control,.formeo.formeo-editor .formeo-controls .field-control{cursor:move;list-style:none;margin:-1px 0 0;border:1px solid #ccc;text-align:left;background:#fff;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.control-moving.field-control,.formeo.formeo-editor .formeo-controls .control-moving.field-control{border-radius:6px;animation:DRAG_GHOST .5s forwards}.field-control:before,.formeo.formeo-editor .formeo-controls .field-control:before{margin-right:10px;font-size:16px}.field-control:hover,.formeo.formeo-editor .formeo-controls .field-control:hover{background-color:#f2f2f2}.field-control button,.formeo.formeo-editor .formeo-controls .field-control button{box-sizing:border-box;font-size:1em;line-height:1.8em;display:block;height:100%;width:100%;background:transparent;border:0 none;text-align:left;padding:10px;border-radius:0}.field-control button:focus,.formeo.formeo-editor .formeo-controls .field-control button:focus{outline:0 none;background-color:#f2f2f2;box-shadow:inset 0 0 0 1px #66afe9;border-radius:0!important}.field-control button:active,.formeo.formeo-editor .formeo-controls .field-control button:active{transform:none}.field-control button:hover,.formeo.formeo-editor .formeo-controls .field-control button:hover{filter:none}.field-control .glyphicon,.field-control svg,.formeo.formeo-editor .formeo-controls .field-control .glyphicon,.formeo.formeo-editor .formeo-controls .field-control svg{float:left;margin-right:10px}.field-control .glyphicon,.formeo.formeo-editor .formeo-controls .field-control .glyphicon{display:inline-block;text-align:center;width:24px;height:24px;line-height:20px}.formeo.formeo-editor .formeo-controls [dir=rtl] .field-control button,[dir=rtl] .field-control button,[dir=rtl] .formeo.formeo-editor .formeo-controls .field-control button{text-align:right!important}.formeo.formeo-editor .formeo-controls [dir=rtl] .field-control svg,[dir=rtl] .field-control svg,[dir=rtl] .formeo.formeo-editor .formeo-controls .field-control svg{float:right!important;margin:0 0 0 10px!important}.formeo button{border-radius:3px;border:1px solid #666;color:#333;background-color:#fff;padding:.5em 1em}.formeo button:active{transform:scale(.97)}.formeo button:hover{filter:brightness(.9)}.svg-icon{display:inline-block;width:24px;height:24px;pointer-events:none}.icon-remove:hover{fill:#d9534f}button[class*=-remove]:hover{background-color:#d9534f!important}button[class*=-remove]:hover .svg-icon{fill:#fff}button[class*=-clone]:hover{background-color:#93c54b!important}button[class*=-clone]:hover .svg-icon{fill:#fff}.item-edit-toggle:hover{background-color:#325d88!important}.item-edit-toggle:hover .svg-icon{fill:#fff}.formeo *{box-sizing:inherit}.formeo .pill-buttons>button{border-radius:50px}.formeo hr{margin-top:1rem;margin-bottom:1rem;border:0;border-top:1px solid #ccc}.formeo .f-field-group{-ms-flex-wrap:wrap;flex-wrap:wrap}.formeo .f-field-group label+.badge{margin-left:10px}.formeo .f-field-group>label{display:inline-block;margin-bottom:10px}.formeo .f-field-group button{margin-right:5px}.formeo input[type=date]{max-width:280px;display:block}.formeo input[type=radio]+.checkable:before{border-radius:2em}.formeo input[type=radio]:checked+.checkable:after{content:\\"\\";background:#666;transform:scale(.5) translateY(-100%);border-radius:50%}.formeo textarea{height:auto}.formeo button{line-height:1.5em}.formeo button.error,.formeo button.primary,.formeo button.success,.formeo button.warning{color:#fff}.formeo button.primary{background-color:#325d88;border-color:#244463}.formeo button.success{background-color:#93c54b;border-color:#79a736}.formeo button.warning{background-color:#f47c3c;border-color:#ef5c0e}.formeo button.error{background-color:#d9534f;border-color:#c9302c}.formeo button[disabled]{background-color:#ccc;color:#fff}.formeo button:focus{border:1px solid #66afe9}.formeo button:focus,.formeo button:hover{outline:0 none}.formeo .f-addon{width:auto}.formeo .f-addon label{margin:1px 0 0 3px}.formeo .f-addon:last-child{margin-left:-1px}.formeo .f-btn-group{display:-ms-inline-flexbox;display:inline-flex;vertical-align:middle}.formeo .f-btn-group>button{-ms-flex:0 1 auto;flex:0 1 auto}.formeo .f-btn-group>button:not(:first-child):not(:last-child):not(.dropdown-toggle){border-radius:0}.formeo .f-btn-group>button:last-child:not(:first-child):not(.dropdown-toggle){border-bottom-left-radius:0;border-top-left-radius:0}.formeo .f-btn-group>button:first-child{margin-left:0}.formeo .f-btn-group>button:first-child:not(:last-child):not(.dropdown-toggle){border-bottom-right-radius:0;border-top-right-radius:0}.formeo .f-btn-group .f-btn-group+.f-btn-group,.formeo .f-btn-group .f-btn-group+button,.formeo .f-btn-group .f-btn-group-vertical .f-btn-group+.f-btn-group,.formeo .f-btn-group .f-btn-group-vertical .f-btn-group+button,.formeo .f-btn-group .f-btn-group-vertical button+.f-btn-group,.formeo .f-btn-group .f-btn-group-vertical button+button,.formeo .f-btn-group button+.f-btn-group,.formeo .f-btn-group button+button{margin-left:-1px}.formeo .f-checkbox,.formeo .f-radio{margin-bottom:5px}.formeo .f-input-group{display:-ms-inline-flexbox;display:inline-flex;vertical-align:bottom}.formeo .f-input-group input+input,.formeo .f-input-group input+select,.formeo .f-input-group select+select{margin-left:-1px}.formeo .f-input-group select{-webkit-appearance:none;background-image:url(\\"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0ZWQgYnkgSWNvTW9vbi5pbyAtLT4KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSIyNCIgaGVpZ2h0PSIzMiIgdmlld0JveD0iMCAwIDI0IDMyIj4KPHBhdGggZmlsbD0iIzQ0NCIgZD0iTTAgMTJsMTEuOTkyIDExLjk5MiAxMS45OTItMTEuOTkyaC0yMy45ODR6Ij48L3BhdGg+Cjwvc3ZnPgo=\\");background-position:right 10px top 2px;background-repeat:no-repeat;background-size:16px}.formeo .f-input-group .f-addon,.formeo .f-input-group input,.formeo .f-input-group select{-ms-flex:0 1 auto;flex:0 1 auto;border-radius:0}.formeo .f-input-group .f-addon:last-child,.formeo .f-input-group input:last-child,.formeo .f-input-group select:last-child{border-right-width:1px;border-radius:0 3px 3px 0}.formeo .f-input-group .f-addon:first-child,.formeo .f-input-group input:first-child,.formeo .f-input-group select:first-child{border-radius:3px 0 0 3px;border-left-width:1px}.formeo .f-input-group .f-addon:focus+input,.formeo .f-input-group .f-addon:focus+select,.formeo .f-input-group input:focus+input,.formeo .f-input-group input:focus+select,.formeo .f-input-group select:focus+input,.formeo .f-input-group select:focus+select{border-left:1px solid #66afe9}.formeo .text-primary{color:#325d88}.formeo .text-success{color:#93c54b}.formeo .text-warning{color:#f47c3c}.formeo .text-error{color:#d9534f}.formeo:after{content:\\"\\";display:table;clear:both}.formeo.formeo-editor .group-actions{min-width:24px;width:24px;height:24px;overflow:hidden;position:absolute;top:0;line-height:0;z-index:1}.formeo.formeo-editor .group-actions button{width:24px;height:24px;padding:6px;border:0 none;line-height:0;overflow:hidden;background-color:#fff}.formeo.formeo-editor .group-actions button:focus{border:0 none;outline:0 none;box-shadow:none}.formeo.formeo-editor .group-actions .svg-icon{width:12px;height:12px}.formeo.formeo-editor .group-actions .icon-handle{opacity:.5}.last-field .formeo.formeo-editor .group-actions button:last-child{border-radius:0}.formeo.formeo-editor .column-editing-field .column-actions,.formeo.formeo-editor .group-actions .icon-copy,.formeo.formeo-editor .group-actions .icon-menu,.formeo.formeo-editor .group-actions .icon-move,.formeo.formeo-editor .group-actions .icon-move-vertical{display:none}.formeo.formeo-editor .stage-fields.editing-field .field-actions,.formeo.formeo-editor .stage-fields.hovering-field .field-actions{box-shadow:-1px 1px 1px #ccc;border-color:#93c54b;border-width:1px 1px 0 0;border-style:solid}.formeo.formeo-editor .hovering-column .field-actions,.formeo.formeo-editor .hovering-row .field-actions{display:none}.formeo.formeo-editor .hovering-column .row-actions,.formeo.formeo-editor .hovering-row .row-actions{z-index:10}.formeo.formeo-editor .field-actions{right:0;text-align:right;transition:width .15s;border-bottom-left-radius:3px;border-bottom-right-radius:0;will-change:width}.formeo.formeo-editor .field-actions button{border-radius:0;position:absolute}.formeo.formeo-editor .field-actions button:first-of-type{right:0}.formeo.formeo-editor .field-actions button:nth-of-type(2){right:24px}.formeo.formeo-editor .field-actions button:nth-of-type(3){right:48px}.formeo.formeo-editor .field-actions button:nth-of-type(4){right:72px}.formeo.formeo-editor .field-actions button:nth-of-type(5){right:96px}.formeo.formeo-editor .field-actions button:nth-of-type(6){right:120px}.formeo.formeo-editor .field-actions button:first-child{right:0}.formeo.formeo-editor .group-config{display:none;padding:.5rem}.formeo.formeo-editor .editing-row .column-actions{display:none}.formeo.formeo-editor .column-actions{width:24px;height:24px;padding:0;right:50%;transform:translateX(12px);z-index:1;transition:width .15s}.formeo.formeo-editor .column-actions .action-btn-wrap{position:relative;white-space:nowrap}.formeo.formeo-editor .column-actions button{position:absolute;background-color:transparent;border-radius:0}.formeo.formeo-editor .column-actions button:first-of-type{right:0}.formeo.formeo-editor .column-actions button:nth-of-type(2){right:24px}.formeo.formeo-editor .column-actions button:nth-of-type(3){right:48px}.formeo.formeo-editor .column-actions button:nth-of-type(4){right:72px}.formeo.formeo-editor .column-actions button:nth-of-type(5){right:96px}.formeo.formeo-editor .column-actions button:nth-of-type(6){right:120px}.formeo.formeo-editor .column-actions button:first-child{border-bottom-right-radius:0;right:0}.hovering-column .formeo.formeo-editor .column-actions button:first-child{border-bottom-right-radius:0;border-bottom-left-radius:0}.hovering-column .formeo.formeo-editor .column-actions button:last-child{border-bottom-left-radius:3px}.formeo.formeo-editor .editing-column .column-actions,.formeo.formeo-editor .hovering-column .column-actions{transform:translateX(50%);width:auto;border-bottom-right-radius:0;border-bottom-left-radius:3px}.formeo.formeo-editor .editing-column .column-actions button:first-child,.formeo.formeo-editor .hovering-column .column-actions button:first-child{border-bottom-right-radius:3px;right:0}.formeo.formeo-editor .editing-column .column-actions button:last-child,.formeo.formeo-editor .hovering-column .column-actions button:last-child{border-bottom-left-radius:3px}.formeo.formeo-editor .row-actions{width:24px;height:24px;left:-23px;text-align:right;border-top-left-radius:6px;border-bottom-left-radius:6px;transition:height .15s ease-in-out;white-space:normal;border:1px solid #ccc;border-right:1px solid #fff}.formeo.formeo-editor .row-actions .item-handle .icon-handle{transform:rotate(90deg)}.formeo.formeo-editor .row-actions button{border-radius:0}.formeo.formeo-editor .editing-row .row-actions,.formeo.formeo-editor .hovering-row .row-actions{border:1px solid #325d88}.formeo.formeo-editor .editing-row .row-actions button:first-child,.formeo.formeo-editor .hovering-row .row-actions button:first-child{border-bottom-left-radius:0}.formeo.formeo-editor [class*=hovering-]>.group-actions .svg-icon.icon-copy,.formeo.formeo-editor [class*=hovering-]>.group-actions .svg-icon.icon-menu,.formeo.formeo-editor [class*=hovering-]>.group-actions .svg-icon.icon-move,.formeo.formeo-editor [class*=hovering-]>.group-actions .svg-icon.icon-move-vertical{display:inline-block!important}.formeo.formeo-editor [class*=hovering-]>.group-actions .svg-icon.icon-handle{display:none!important}.formeo.formeo-editor .stage-rows{transition:background-color 125ms ease-in-out;position:relative;clear:both;margin-left:0;margin-bottom:6px;background-color:#fff;padding:5px;min-height:34px;box-shadow:inset 0 0 0 1px #ccc}.formeo.formeo-editor .stage-rows:after{content:\\"\\";display:table}.formeo.formeo-editor .stage-rows:before{border-bottom-right-radius:6px;border:1px solid #325d88;border-width:1px 0;left:0}.formeo.formeo-editor .stage-rows:after{clear:both}.formeo.formeo-editor .stage-rows.control-ghost{padding:10px}.formeo.formeo-editor .stage-rows:first-child{border-top-right-radius:5px;border-top-left-radius:0}.formeo.formeo-editor .stage-rows:last-child{border-bottom-right-radius:5px;border-bottom-left-radius:5px}.formeo.formeo-editor .stage-rows.hovering-row:first-child{border-top-left-radius:0}.formeo.formeo-editor .stage-rows.hovering-row:before{width:100px}.formeo.formeo-editor .stage-rows.hovering-row .stage-columns{opacity:.5}.formeo.formeo-editor .stage-rows.editing-row,.formeo.formeo-editor .stage-rows.editing-row .row-edit{display:block}.formeo.formeo-editor .stage-rows.resizing-columns .stage-columns{transition:none}.formeo.formeo-editor .stage-rows.editing-row.hovering-row .stage-columns{opacity:1}.formeo.formeo-editor .stage-rows.editing-row{box-shadow:inset 0 0 0 1px #325d88}.formeo.formeo-editor .stage-rows.editing-row:before{border-width:1px 0 0;width:80px!important;content:attr(data-editing-hover-tag)}.formeo.formeo-editor .stage-rows.hovering-row{box-shadow:inset 0 0 0 1px #325d88}.formeo.formeo-editor .stage-rows.hovering-row.editing-row:before{border-right-width:0}.formeo.formeo-editor .stage-rows.hovering-row:before{box-shadow:1px 1px 1px #ccc;border-right-width:1px;width:80px!important}.formeo.formeo-editor .stage-rows.row-moving{box-shadow:inset 0 0 0 1px #325d88,0 0 30px 0 #999}.formeo.formeo-editor .stage-rows.empty-rows:after{left:0;transform:translate(10px,-50%)}.formeo.formeo-editor .stage-rows .layout-row-control{display:none}.formeo.formeo-editor .row-edit{padding-top:2rem}.formeo.formeo-editor .input-group-addon label{margin-bottom:0}.formeo.formeo-editor .stage-columns{transition:background-color 125ms ease-in-out,box-shadow 125ms,width .25s;position:relative;background-color:#fff;max-width:none;-ms-flex-direction:column;flex-direction:column;-ms-flex:auto;flex:auto;will-change:width}.formeo.formeo-editor .stage-columns[class*=col-]{padding:0}.formeo.formeo-editor .stage-columns:first-of-type{border-top-right-radius:5px}.formeo.formeo-editor .stage-columns:last-of-type{border-bottom-right-radius:5px;border-bottom-left-radius:5px}.formeo.formeo-editor .stage-columns:last-of-type .resize-x-handle{display:none!important}.formeo.formeo-editor .stage-columns .resize-x-handle{display:none;position:absolute;right:-8px;top:0;bottom:0;width:16px;z-index:2;cursor:ew-resize}.formeo.formeo-editor .stage-columns .resize-x-handle:before{width:0;right:6px;border:1px dashed #29abe0;border-width:0 2px;display:block;top:0;position:absolute;height:100%;content:\\"\\"}.formeo.formeo-editor .stage-columns .resize-x-handle svg{fill:#29abe0;position:absolute;right:1px;width:14px}.formeo.formeo-editor .stage-columns .resize-x-handle svg.icon-triangle-down{top:-14px}.formeo.formeo-editor .stage-columns .resize-x-handle svg.icon-triangle-up{bottom:-14px}.formeo.formeo-editor .stage-columns:before{transition-property:height;transition-duration:.15s;padding:0 10px;left:50%;top:1px;transform:translate(-50%,-100%);width:auto;height:0;border-top-left-radius:5px;border-top-right-radius:5px}.formeo.formeo-editor .stage-columns.hovering-column:first-child{border-top-left-radius:0}.formeo.formeo-editor .stage-columns.hovering-column .stage-fields{opacity:.5}.formeo.formeo-editor .stage-columns.hovering-column:after{opacity:0}.formeo.formeo-editor .stage-columns.editing-column,.formeo.formeo-editor .stage-columns.hovering-column{box-shadow:inset 0 0 0 1px #29abe0}.formeo.formeo-editor .stage-columns.editing-column:before,.formeo.formeo-editor .stage-columns.hovering-column:before{height:23px;border-right:1px solid #29abe0;border-left:1px solid #29abe0;border-top:1px solid #29abe0}.formeo.formeo-editor .stage-columns.column-moving{box-shadow:inset 0 0 0 1px #29abe0,0 0 30px 0 #999}.formeo.formeo-editor .stage-columns.editing-column{overflow:hidden}.formeo.formeo-editor .stage-columns.editing-column .column-edit{display:block}.formeo.formeo-editor .editing-row .empty-columns,.formeo.formeo-editor .editing-row .stage-columns{display:table-cell;border-radius:5px;height:60px;background-color:#e6e6e6}.formeo.formeo-editor .editing-row .empty-columns.empty-columns,.formeo.formeo-editor .editing-row .stage-columns.empty-columns{min-height:0}.formeo.formeo-editor .editing-row .empty-columns .stage-fields,.formeo.formeo-editor .editing-row .stage-columns .stage-fields{display:none}.formeo.formeo-editor .editing-row .empty-columns .resize-x-handle,.formeo.formeo-editor .editing-row .stage-columns .resize-x-handle{display:block}.formeo.formeo-editor .editing-row .empty-columns:after,.formeo.formeo-editor .editing-row .stage-columns:after{color:#333!important;line-height:1em;opacity:1;font-size:1.1em;content:attr(data-col-width)!important;display:block;width:100%;text-align:center;position:absolute;left:50%;margin-top:0;top:50%;transform:translate(-50%,-50%)}.formeo.formeo-editor .editing-field-preview .column-actions{display:none}.formeo.formeo-editor .stage-fields{min-height:26px;position:relative;padding:5px;transition:background-color 125ms ease-in-out}.formeo.formeo-editor .stage-fields.field-type-checkbox .field-edit{display:block!important}.formeo.formeo-editor .stage-fields.field-type-checkbox .field-edit .prop-inputs input:nth-child(2),.formeo.formeo-editor .stage-fields.field-type-checkbox .field-preview .f-field-group>div,.formeo.formeo-editor .stage-fields.field-type-checkbox .field-preview .panel-labels{display:none}.formeo.formeo-editor .stage-fields.first-field,.formeo.formeo-editor .stage-fields.first-field .field-actions{border-top-right-radius:3px}.formeo.formeo-editor .stage-fields.last-field{border-bottom-right-radius:3px;border-bottom-left-radius:3px}.formeo.formeo-editor .stage-fields [contenteditable]{padding:1px 1px 0;transition:border-color .25s;border-bottom:1px dashed #ccc;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}.formeo.formeo-editor .stage-fields [contenteditable]:focus{border:1px solid #66afe9;outline:none;padding:0}.formeo.formeo-editor .stage-fields .form-check{margin-left:1.25em}.formeo.formeo-editor .stage-fields .form-check-input:only-child{position:absolute}.formeo.formeo-editor .stage-fields:before{display:none;position:absolute;top:0;padding:0 10px;right:0;transform:translateX(-72px);border-bottom-right-radius:0;border-bottom-left-radius:6px}.formeo.formeo-editor .stage-fields.editing-field,.formeo.formeo-editor .stage-fields.hovering-field{box-shadow:inset 0 0 0 1px #93c54b}.formeo.formeo-editor .stage-fields.editing-field:before,.formeo.formeo-editor .stage-fields.hovering-field:before{line-height:23px!important;border-left:1px solid #93c54b;border-bottom:1px solid #93c54b}.formeo.formeo-editor .stage-fields.field-moving{box-shadow:inset 0 0 0 1px #93c54b,0 0 30px 0 #999;background-color:#fff}.formeo.formeo-editor .stage-fields.editing-field{background-color:#e6e6e6;z-index:1}.formeo.formeo-editor .stage-fields.field-type-hidden{border:1px dashed #ccc}.formeo.formeo-editor .editing-field-preview .field-actions{display:none}.formeo.formeo-editor .field-preview p{white-space:normal}.formeo.formeo-editor .field-edit{display:none;overflow:hidden}.formeo.formeo-editor .field-edit label{font-size:.85em}.formeo.formeo-editor .field-edit .panel-nav{display:none;margin-bottom:0;padding:0;overflow:hidden}.formeo.formeo-editor .field-edit.field-edit-options{list-style:decimal}.formeo.formeo-editor .field-edit .prop-controls{width:28px;height:28px;text-align:right;position:absolute;right:0;bottom:0;overflow:hidden;white-space:nowrap}.formeo.formeo-editor .field-edit .prop-controls .svg-icon{width:14px;height:14px;left:50%;position:absolute;top:50%;transform:translate(-50%,-50%)}.formeo.formeo-editor .field-edit .prop-controls:hover .prop-control:first-child{border-radius:0 3px 3px 0}.formeo.formeo-editor .field-edit .prop-controls:hover .prop-control:last-child{display:inline-block}.formeo.formeo-editor .field-edit .prop-control{width:28px;height:28px;right:0;bottom:0;position:absolute;padding:0}.formeo.formeo-editor .field-edit .prop-control:first-of-type{right:0}.formeo.formeo-editor .field-edit .prop-control:nth-of-type(2){right:28px}.formeo.formeo-editor .field-edit .prop-control:nth-of-type(3){right:56px}.formeo.formeo-editor .field-edit .prop-control:nth-of-type(4){right:84px}.formeo.formeo-editor .field-edit .prop-control:first-child{right:0}:not(.control-count-1) .formeo.formeo-editor .field-edit .prop-control:last-child{border-radius:3px 0 0 3px;margin-right:-1px;display:none}:not(.control-count-1) .formeo.formeo-editor .field-edit .prop-control:first-child{border-radius:3px}.formeo.formeo-editor .field-edit .prop-control:hover:first-child{border-radius:0 3px 3px 0}.formeo.formeo-editor .field-edit .prop-control:hover:first-child:last-child{border-radius:3px}.formeo.formeo-editor .field-edit .prop-control:hover:last-child{display:inline-block}.formeo.formeo-editor .field-edit .prop-control:last-child:first-child{display:inline-block;border-radius:3px;margin-right:0}.formeo.formeo-editor .field-edit .prop-wrap{position:relative;padding-right:31px;margin-bottom:10px;min-height:28px}.formeo.formeo-editor .field-edit .prop-wrap:last-child{margin-bottom:0}.formeo.formeo-editor .field-edit .field-edit-group{padding:10px}.formeo.formeo-editor .field-edit .prop-controls,.formeo.formeo-editor .field-edit .prop-inputs{transition:width .15s;will-change:width}.formeo.formeo-editor .field-edit .prop-controls .f-addon,.formeo.formeo-editor .field-edit .prop-controls input,.formeo.formeo-editor .field-edit .prop-controls select,.formeo.formeo-editor .field-edit .prop-controls textarea,.formeo.formeo-editor .field-edit .prop-inputs .f-addon,.formeo.formeo-editor .field-edit .prop-inputs input,.formeo.formeo-editor .field-edit .prop-inputs select,.formeo.formeo-editor .field-edit .prop-inputs textarea{font-size:.825em}.formeo.formeo-editor .field-edit .prop-inputs,.formeo.formeo-editor .field-edit .prop-inputs .f-field-group{width:100%;display:-ms-inline-flexbox;display:inline-flex;vertical-align:bottom}.formeo.formeo-editor .field-edit .prop-inputs .f-field-group{margin-bottom:0}.formeo.formeo-editor .field-edit .prop-inputs .f-checkbox{margin-top:7px;margin-bottom:0}.formeo.formeo-editor .field-edit .prop-inputs label{display:block}.formeo.formeo-editor .field-edit .control-count-2 .prop-controls:hover{width:56px}.formeo.formeo-editor .field-edit .control-count-2 .prop-controls:hover+.prop-inputs{width:calc(100% - 28px)}.formeo.formeo-editor .field-edit.panel-count-1 .panel-nav{border-bottom:1px solid #999}.formeo.formeo-editor .field-edit.panel-count-1 .panel-nav button{display:none}.formeo.formeo-editor .field-edit.panel-count-1 .panel-labels{background-color:transparent}.formeo.formeo-editor .options-panel .prop-wrap{margin-bottom:10px}.formeo.formeo-editor .options-panel .input-group-addon{line-height:0}.formeo.formeo-editor .options-panel .prop-labels{padding:10px 34px 10px 10px}.formeo.formeo-editor .options-panel .prop-labels .input-group-addon{font-size:12px}.formeo.formeo-editor .options-panel .prop-labels label{font-size:12px;width:50%;position:relative;display:table-cell}.formeo.formeo-editor .options-panel .prop-label-disabled,.formeo.formeo-editor .options-panel .prop-label-selected{width:1%!important;white-space:nowrap;vertical-align:middle;border:0 none;background-color:transparent}.formeo.formeo-editor .panel-action-buttons{padding:0 10px 10px}.formeo.formeo-editor .panel-action-buttons:after{content:\\"\\";display:table;clear:both}.formeo.formeo-editor .panel-action-buttons [class^=add-]{float:right}.formeo.formeo-editor .panels-wrap h5{margin:0;padding:.55em 0;color:#666;font-weight:400;display:inline-block;width:100%}.formeo.formeo-editor .panels-wrap nav{position:relative;padding:0;overflow:hidden}.formeo.formeo-editor .panels-wrap nav button{position:absolute;width:24px;color:#000;height:100%;padding:0;line-height:0;z-index:1}.formeo.formeo-editor .panels-wrap nav button:focus{outline:none;border:1px solid #66afe9;box-shadow:none}.formeo.formeo-editor .panels-wrap nav button .svg-icon{width:20px;height:20px}.formeo.formeo-editor .panels-wrap nav button.next-group{right:0;top:0;border-top-left-radius:0;border-bottom-left-radius:0}.formeo.formeo-editor .panels-wrap nav button.prev-group{left:0;top:0;border-top-right-radius:0;border-bottom-right-radius:0}.formeo.formeo-editor .panels-wrap .f-panel{vertical-align:top;display:inline-block;width:100%;-ms-flex-direction:column;flex-direction:column;-ms-flex:1 0 100%;flex:1 0 100%}.formeo.formeo-editor .panels-wrap .f-panel>li:last-child{border-radius:0 0 5px 5px}.formeo.formeo-editor .panels-wrap .panels{white-space:nowrap;transition-property:transform,height;transition-duration:.15s;transition-timing-function:ease-in-out;will-change:transform;-ms-flex-direction:row;flex-direction:row}.formeo.formeo-editor .panels-wrap .panel-labels{height:100%;background:#fff;overflow:hidden;text-align:center}.formeo.formeo-editor .panels-wrap .panel-labels div{transition:transform .15s ease-in-out;will-change:transform;white-space:nowrap}.formeo.formeo-editor .tabbed-panels .panel-nav{height:auto}.formeo.formeo-editor .tabbed-panels .panel-nav button{display:none}.formeo.formeo-editor .tabbed-panels .panels{transition:none}.formeo.formeo-editor .tabbed-panels .f-panel{background-color:#fff}.formeo.formeo-editor .tabbed-panels .panel-labels div{-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:start;justify-content:flex-start;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-ms-flex-line-pack:stretch;align-content:stretch;-ms-flex-align:stretch;align-items:stretch;display:-ms-flexbox;display:flex}.formeo.formeo-editor .tabbed-panels .panel-labels h5{-ms-flex-direction:column;flex-direction:column;-ms-flex:1;flex:1;cursor:pointer;background-color:#ccc;box-shadow:inset 0 -1px 6px #999}.formeo.formeo-editor .tabbed-panels .panel-labels h5.active-tab{color:#000;box-shadow:none;background-color:#fff}.formeo.formeo-editor .stage-wrap{position:relative;float:left;width:calc(74% - 5px);box-sizing:border-box;transition:width .25s;margin-right:5px}@media (max-width:481px){.formeo.formeo-editor .stage-wrap{width:calc(100% - 50px)}}.formeo.formeo-editor .stage-wrap .stage{min-height:450px;transition-property:background-color,border-color;transition-duration:.5s,333ms;border:0 dashed transparent;background-color:hsla(0,0%,100%,0);padding-left:23px;padding-bottom:15px;overflow:visible}.formeo.formeo-editor .stage-wrap .stage.empty-stages{border:3px dashed #ccc;background-color:hsla(0,0%,100%,.25)}.formeo.formeo-editor .stage-wrap .stage.removing-all-fields .stage-rows{transition:margin-top .25s ease-in}.formeo.formeo-editor .stage-wrap.editing-stage .formeo-settings{display:block}.formeo.formeo-editor .stage-wrap.editing-stage .stage{display:none}.formeo.formeo-editor .stage-wrap .f-field-group{margin-bottom:0}.formeo.formeo-editor [class*=empty-][class*=editing-]:after{opacity:0}.formeo.formeo-editor [class*=empty-]:after{opacity:1;font-size:24px;position:absolute;top:50%;left:50%;color:#999;transition:opacity .2s ease-in-out;will-change:opacity;text-align:center;transform:translate(-50%,-50%);content:attr(data-hover-tag)}.formeo.formeo-editor .formeo-settings{display:none}.formeo.formeo-editor .formeo-controls{float:right;width:26%;overflow:hidden}.formeo.formeo-editor .formeo-controls.pull-left .form-actions{float:left}.formeo.formeo-editor .formeo-controls .filtered-term{background-color:#fff;text-align:center;border-radius:3px 3px 0 0;border:1px solid #ccc;border-bottom:0 none;width:calc(100% - 2px)}.formeo.formeo-editor .formeo-controls nav{position:relative;padding:0 24px;overflow:hidden}.formeo.formeo-editor .formeo-controls nav h5{font-size:13px;line-height:22px}.formeo.formeo-editor .formeo-controls nav button{position:absolute;width:24px;color:#000;height:calc(100% + 1px);padding:0;line-height:0;margin:0;border-color:#ccc}.formeo.formeo-editor .formeo-controls nav button.next-group{right:0;top:0;border-top-left-radius:0;border-top-right-radius:6px;border-bottom-left-radius:0;border-bottom-right-radius:0}.formeo.formeo-editor .formeo-controls nav button.prev-group{border-top-left-radius:6px;border-bottom-left-radius:0}.formeo.formeo-editor .formeo-controls .panels-wrap{font-size:.85em;line-height:1.8em}.formeo.formeo-editor .formeo-controls .panel-labels{border-top:1px solid #ccc}.formeo.formeo-editor .formeo-controls .panel-count-1{border-bottom-left-radius:0}.formeo.formeo-editor .formeo-controls .panel-count-1 .panel-nav{display:none}.formeo.formeo-editor .formeo-controls .panel-count-1 .control-group li:first-child{border-radius:6px 6px 0 0}.formeo.formeo-editor .formeo-controls .control-group{vertical-align:top;display:inline-block;width:100%;border-top:1px solid #ccc}.formeo.formeo-editor .formeo-controls .control-group>li:first-child{border-top-right-radius:0}.formeo.formeo-editor .formeo-controls .control-group>li:last-child{border-radius:0 0 6px 6px}.formeo.formeo-editor .formeo-controls.filtered .panel-nav{display:none}.formeo.formeo-editor .formeo-controls.filtered .control-group{display:block}.formeo.formeo-editor .formeo-controls.filtered .control-group>li{border-radius:0}.formeo.formeo-editor .formeo-controls.filtered .control-group:last-child>li:last-child{border-radius:0 0 0 3px}.formeo.formeo-editor .formeo-controls .control-groups{white-space:nowrap}.formeo.formeo-editor .formeo-controls .control-group-labels{height:100%;background:#fff;overflow:hidden}.formeo.formeo-editor .formeo-controls .control-group-labels div{white-space:nowrap}.formeo.formeo-editor .formeo-controls .control-group-labels h4{display:inline-block;width:100%}.formeo.formeo-editor .formeo-controls .form-actions{float:right;margin-top:5px}.formeo.formeo-editor .formeo-controls .form-actions .svg-icon{fill:#666;display:none}.formeo.formeo-editor .formeo-controls .form-actions .svg-icon:hover{fill:#000}.formeo.formeo-editor .formeo-controls .form-actions .clear-form:hover,.formeo.formeo-editor .formeo-controls .form-actions .save-form:hover{color:#fff}.formeo.formeo-editor .formeo-controls .form-actions .save-form:hover{background-color:#325d88}.formeo.formeo-editor .formeo-controls .form-actions .clear-form:hover{background-color:#d9534f}@media (max-width:481px){.formeo.formeo-editor .formeo-controls{width:45px}.formeo.formeo-editor .formeo-controls .control-group{text-indent:-9999px}.formeo.formeo-editor .formeo-controls .form-actions{display:inline-block;width:100%;position:relative;vertical-align:middle;float:none;margin-top:10px}.formeo.formeo-editor .formeo-controls .form-actions>button+button{margin-top:-1px;margin-left:0}.formeo.formeo-editor .formeo-controls .form-actions>button{max-width:100%;padding:10px;border-radius:0;line-height:0;width:100%;float:none;position:relative;display:block}.formeo.formeo-editor .formeo-controls .form-actions>button:not(:first-child):not(:last-child){border-radius:0}.formeo.formeo-editor .formeo-controls .form-actions>button:first-child:not(:last-child){border-top-right-radius:3px;border-top-left-radius:3px;border-bottom-right-radius:0;border-bottom-left-radius:0}.formeo.formeo-editor .formeo-controls .form-actions>button:last-child:not(:first-child){border-bottom-left-radius:3px;border-bottom-right-radius:3px;border-top-right-radius:0;border-top-left-radius:0}.formeo.formeo-editor .formeo-controls .form-actions .glyphicon,.formeo.formeo-editor .formeo-controls .form-actions .svg-icon{display:inline-block;margin-right:10px}}.formeo.formeo-editor .formeo-controls .field-control .svg-icon{pointer-events:none}.formeo.formeo-editor[dir=rtl] input[type=checkbox]+.checkable:after,.formeo.formeo-editor[dir=rtl] input[type=checkbox]+.checkable:before,.formeo.formeo-editor[dir=rtl] input[type=radio]+.checkable:after,.formeo.formeo-editor[dir=rtl] input[type=radio]+.checkable:before{right:0;left:auto}.formeo.formeo-editor[dir=rtl] .f-btn-group{display:-ms-inline-flexbox;display:inline-flex;vertical-align:middle}.formeo.formeo-editor[dir=rtl] .f-btn-group>button{-ms-flex:0 1 auto;flex:0 1 auto}.formeo.formeo-editor[dir=rtl] .f-btn-group>button:not(:first-child):not(:last-child):not(.dropdown-toggle){border-radius:0}.formeo.formeo-editor[dir=rtl] .f-btn-group>button:last-child:not(:first-child):not(.dropdown-toggle){border-bottom-right-radius:0;border-top-right-radius:0;border-bottom-left-radius:3px;border-top-left-radius:3px}.formeo.formeo-editor[dir=rtl] .f-btn-group>button:first-child{margin-left:0}.formeo.formeo-editor[dir=rtl] .f-btn-group>button:first-child:not(:last-child):not(.dropdown-toggle){border-bottom-left-radius:0;border-top-left-radius:0;border-bottom-right-radius:3px;border-top-right-radius:3px}.formeo.formeo-editor[dir=rtl] .f-btn-group .f-btn-group+.f-btn-group,.formeo.formeo-editor[dir=rtl] .f-btn-group .f-btn-group+button,.formeo.formeo-editor[dir=rtl] .f-btn-group .f-btn-group-vertical .f-btn-group+.f-btn-group,.formeo.formeo-editor[dir=rtl] .f-btn-group .f-btn-group-vertical .f-btn-group+button,.formeo.formeo-editor[dir=rtl] .f-btn-group .f-btn-group-vertical button+.f-btn-group,.formeo.formeo-editor[dir=rtl] .f-btn-group .f-btn-group-vertical button+button,.formeo.formeo-editor[dir=rtl] .f-btn-group button+.f-btn-group,.formeo.formeo-editor[dir=rtl] .f-btn-group button+button{margin-right:-1px}.formeo.formeo-editor[dir=rtl] .formeo-controls,.formeo.formeo-editor[dir=rtl] .formeo-controls .form-actions{float:left}.formeo.formeo-editor[dir=rtl] .stage-wrap{float:right}.formeo.formeo-editor[dir=rtl] .stage-wrap .stage{padding-left:5px;padding-right:23px}.formeo.formeo-editor[dir=rtl] .stage-rows:before{border-bottom-left-radius:6px;border-bottom-right-radius:0;right:0;left:auto}.formeo.formeo-editor[dir=rtl] .stage-rows:first-child{border-top-left-radius:5px;border-top-right-radius:0}.formeo.formeo-editor[dir=rtl] .stage-rows:last-child{border-bottom-left-radius:5px;border-bottom-right-radius:5px}.formeo.formeo-editor[dir=rtl] .stage-rows.hovering-row:first-child{border-top-left-radius:0}.formeo.formeo-editor[dir=rtl] .stage-rows.hovering-row.editing-row:before{border-left-width:0;border-right-width:auto}.formeo.formeo-editor[dir=rtl] .stage-rows.hovering-row:before{border-left-width:1px}.formeo.formeo-editor[dir=rtl] .stage-rows.empty-rows:after{left:0;right:auto}.formeo.formeo-editor[dir=rtl] .row-actions{right:-23px;left:auto;border-top-right-radius:6px;border-bottom-right-radius:6px;border-top-left-radius:0;border-bottom-left-radius:0;border-left:1px solid #fff}.formeo.formeo-editor[dir=rtl] .field-actions{text-align:left;left:0;right:auto;border-bottom-right-radius:3px;border-bottom-left-radius:0}.formeo.formeo-editor[dir=rtl] .field-actions button:first-of-type{left:0;right:auto}.formeo.formeo-editor[dir=rtl] .field-actions button:nth-of-type(2){left:24px;right:auto}.formeo.formeo-editor[dir=rtl] .field-actions button:nth-of-type(3){left:48px;right:auto}.formeo.formeo-editor[dir=rtl] .field-actions button:nth-of-type(4){left:72px;right:auto}.formeo.formeo-editor[dir=rtl] .field-actions button:nth-of-type(5){left:96px;right:auto}.formeo.formeo-editor[dir=rtl] .field-actions button:nth-of-type(6){left:120px;right:auto}.formeo.formeo-editor[dir=rtl] .field-actions button:first-child{left:0}.formeo.formeo-editor[dir=rtl] .stage-fields.editing-field .field-actions,.formeo.formeo-editor[dir=rtl] .stage-fields.hovering-field .field-actions{box-shadow:1px 1px 1px #ccc;border-width:1px 0 0 1px}.formeo.formeo-render .f-row{margin-bottom:1em;-ms-flex-direction:row;flex-direction:row;-ms-flex-pack:start;justify-content:flex-start;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-ms-flex-line-pack:stretch;align-content:stretch;-ms-flex-align:stretch;align-items:stretch;display:-ms-flexbox;display:flex;background-color:transparent;border-radius:6px;transition:background-color .2s}.formeo.formeo-render .f-row.will-remove{background-color:rgba(217,83,79,.5);box-shadow:inset 0 0 3px 1px #d9534f}.formeo.formeo-render .f-input-group-wrap:after{content:\\"\\";display:table;clear:both}.formeo.formeo-render .f-input-group{position:relative}.formeo.formeo-render .f-input-group:first-child .remove-input-group{display:none}.formeo.formeo-render .add-input-group{float:right;margin-top:10px}.formeo.formeo-render .remove-input-group{position:absolute;left:-32px;transform:translateY(-50%);width:32px;height:32px;top:50%;border:0 none;background:transparent;outline:0 none;line-height:0}.formeo.formeo-render .remove-input-group:hover .svg-icon{fill:#d9534f}.formeo.formeo-render .remove-input-group .svg-icon{pointer-events:none}.formeo.formeo-render .form-check-input:only-child{position:absolute}.formeo.formeo-render .svg-icon{max-width:100%;max-height:100%}.formeo.formeo-render .f-render-column{padding:0 5px;float:left;display:inline-block;max-width:none;-ms-flex-direction:column;flex-direction:column;-ms-flex:auto;flex:auto}.field-control .svg-icon{pointer-events:none}", ""]);\n\n// exports\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTcuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvaWdvci9kZXZlbG9wbWVudC9vcGVuc291cmNlL2Zvcm1lby9zcmMvc2Fzcy9mb3JtZW8uc2Nzcz82NDA0Il0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9saWIvY3NzLWJhc2UuanNcIikoKTtcbi8vIGltcG9ydHNcblxuXG4vLyBtb2R1bGVcbmV4cG9ydHMucHVzaChbbW9kdWxlLmlkLCBcIkBrZXlmcmFtZXMgUExBQ0VIT0xERVJ7MCV7aGVpZ2h0OjFweH10b3toZWlnaHQ6MTVweH19QGtleWZyYW1lcyBEUkFHX0dIT1NUezAle2JveC1zaGFkb3c6MCAwIDAgMCAjOTk5fXRve2JveC1zaGFkb3c6MCAwIDMwcHggMCAjOTk5fX1Aa2V5ZnJhbWVzIEVESVRfUFVMU0V7MCUsdG97Ym9yZGVyLWNvbG9yOiM2NmFmZTl9NTAle2JvcmRlci1jb2xvcjojYmZkZWY2fX0uZm9ybWVvIC5mLWlucHV0LWdyb3VwLC5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2Utcm93c3tkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDstbXMtZmxleC1kaXJlY3Rpb246cm93O2ZsZXgtZGlyZWN0aW9uOnJvdzstbXMtZmxleC1wYWNrOnN0YXJ0O2p1c3RpZnktY29udGVudDpmbGV4LXN0YXJ0Oy1tcy1mbGV4LXdyYXA6bm93cmFwO2ZsZXgtd3JhcDpub3dyYXA7LW1zLWZsZXgtbGluZS1wYWNrOnN0cmV0Y2g7YWxpZ24tY29udGVudDpzdHJldGNoOy1tcy1mbGV4LWFsaWduOnN0cmV0Y2g7YWxpZ24taXRlbXM6c3RyZXRjaH0uZm9ybWVvIC5mLWFkZG9uLC5mb3JtZW8gaW5wdXQsLmZvcm1lbyBzZWxlY3QsLmZvcm1lbyB0ZXh0YXJlYXtmb250LXNpemU6MTAwJTtmb250LWZhbWlseTppbmhlcml0O2hlaWdodDoyLjFlbTtsaW5lLWhlaWdodDoxLjU7bWFyZ2luOjA7Ym9yZGVyOjFweCBzb2xpZCAjY2NjO2JvcmRlci1yYWRpdXM6M3B4O2JhY2tncm91bmQtY29sb3I6I2ZmZjt3aWR0aDoxMDAlO3BhZGRpbmc6LjNlbSAuNmVtO2JveC1zaXppbmc6Ym9yZGVyLWJveH0uZm9ybWVvIC5mLWFkZG9uOmZvY3VzLC5mb3JtZW8gaW5wdXQ6Zm9jdXMsLmZvcm1lbyBzZWxlY3Q6Zm9jdXMsLmZvcm1lbyB0ZXh0YXJlYTpmb2N1c3tib3JkZXI6MXB4IHNvbGlkICM2NmFmZTk7b3V0bGluZTpub25lfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZmllbGQtZWRpdC1ncm91cCwuZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1jb250cm9scyB1bCwuZm9ybWVvLmZvcm1lby1lZGl0b3IgLnBhbmVscy13cmFwIHVsLC5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2UtY29sdW1ucywuZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLXdyYXAgLnN0YWdle21hcmdpbjowO3BhZGRpbmc6MDtsaXN0LXN0eWxlOm5vbmV9LmZvcm1lbyBpbnB1dFt0eXBlPWNoZWNrYm94XSwuZm9ybWVvIGlucHV0W3R5cGU9cmFkaW9de29wYWNpdHk6MDt3aWR0aDowO3Bvc2l0aW9uOmFic29sdXRlO2Rpc3BsYXk6aW5saW5lLWJsb2NrO2hlaWdodDphdXRvfS5mb3JtZW8gaW5wdXRbdHlwZT1jaGVja2JveF0rLmNoZWNrYWJsZSwuZm9ybWVvIGlucHV0W3R5cGU9cmFkaW9dKy5jaGVja2FibGV7cGFkZGluZy1sZWZ0OjEuNWVtO2N1cnNvcjpwb2ludGVyO3Bvc2l0aW9uOnJlbGF0aXZlfS5mb3JtZW8gaW5wdXRbdHlwZT1jaGVja2JveF0rLmNoZWNrYWJsZTphZnRlciwuZm9ybWVvIGlucHV0W3R5cGU9Y2hlY2tib3hdKy5jaGVja2FibGU6YmVmb3JlLC5mb3JtZW8gaW5wdXRbdHlwZT1yYWRpb10rLmNoZWNrYWJsZTphZnRlciwuZm9ybWVvIGlucHV0W3R5cGU9cmFkaW9dKy5jaGVja2FibGU6YmVmb3Jle2NvbnRlbnQ6XFxcIlxcXCI7cG9zaXRpb246YWJzb2x1dGU7ZGlzcGxheTppbmxpbmUtYmxvY2s7bGVmdDowO3RvcDo1MCU7dHJhbnNmb3JtOnRyYW5zbGF0ZVkoLTUwJSk7Zm9udC1zaXplOjFlbTtsaW5lLWhlaWdodDoxZW07Y29sb3I6dHJhbnNwYXJlbnQ7Zm9udC1mYW1pbHk6c2Fuczt0ZXh0LWFsaWduOmNlbnRlcjt3aWR0aDoxZW07aGVpZ2h0OjFlbTtib3JkZXItcmFkaXVzOjJweH0uZm9ybWVvIGlucHV0W3R5cGU9Y2hlY2tib3hdKy5jaGVja2FibGU6YmVmb3JlLC5mb3JtZW8gaW5wdXRbdHlwZT1yYWRpb10rLmNoZWNrYWJsZTpiZWZvcmV7YmFja2dyb3VuZDojZmZmO2JvcmRlcjoxcHggc29saWQgIzY2Nn0uZm9ybWVvIGlucHV0W3R5cGU9Y2hlY2tib3hdOmZvY3VzKy5jaGVja2FibGU6YmVmb3JlLC5mb3JtZW8gaW5wdXRbdHlwZT1yYWRpb106Zm9jdXMrLmNoZWNrYWJsZTpiZWZvcmV7Ym9yZGVyOjFweCBzb2xpZCAjNjZhZmU5fS5mb3JtZW8gaW5wdXRbdHlwZT1jaGVja2JveF0rLmNoZWNrYWJsZTphZnRlciwuZm9ybWVvIGlucHV0W3R5cGU9cmFkaW9dKy5jaGVja2FibGU6YWZ0ZXJ7Y29udGVudDpcXFwiXFxcXDI3MTRcXFwiO2JhY2tncm91bmQ6bm9uZTt2aXNpYmlsaXR5OmhpZGRlbjtvcGFjaXR5OjA7Zm9udC1zaXplOjEuMTVlbTtjb2xvcjojMDAwfS5mb3JtZW8gaW5wdXRbdHlwZT1jaGVja2JveF06Y2hlY2tlZCsuY2hlY2thYmxlOmFmdGVyLC5mb3JtZW8gaW5wdXRbdHlwZT1yYWRpb106Y2hlY2tlZCsuY2hlY2thYmxlOmFmdGVye2NvbG9yOiM2NjY7YmFja2dyb3VuZDpub25lO3Zpc2liaWxpdHk6dmlzaWJsZTtvcGFjaXR5OjF9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS1jb2x1bW5zOmJlZm9yZSwuZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLWZpZWxkczpiZWZvcmUsLmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS1yb3dzOmJlZm9yZXtmb250LXNpemU6MTJweDtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDt3aWR0aDowO3BhZGRpbmc6MDtoZWlnaHQ6MjJweDtsaW5lLWhlaWdodDoyNHB4O3RleHQtYWxpZ246Y2VudGVyO292ZXJmbG93OmhpZGRlbjt6LWluZGV4OjEwMDt0cmFuc2l0aW9uLXByb3BlcnR5OndpZHRoO3RyYW5zaXRpb24tZHVyYXRpb246LjE1cztjb250ZW50OmF0dHIoZGF0YS1ob3Zlci10YWcpO2JhY2tncm91bmQtY29sb3I6I2ZmZn0uZmllbGQtY29udHJvbCwuZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1jb250cm9scyAuZmllbGQtY29udHJvbHtjdXJzb3I6bW92ZTtsaXN0LXN0eWxlOm5vbmU7bWFyZ2luOi0xcHggMCAwO2JvcmRlcjoxcHggc29saWQgI2NjYzt0ZXh0LWFsaWduOmxlZnQ7YmFja2dyb3VuZDojZmZmOy13ZWJraXQtdXNlci1zZWxlY3Q6bm9uZTstbW96LXVzZXItc2VsZWN0Om5vbmU7LW1zLXVzZXItc2VsZWN0Om5vbmU7dXNlci1zZWxlY3Q6bm9uZX0uY29udHJvbC1tb3ZpbmcuZmllbGQtY29udHJvbCwuZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1jb250cm9scyAuY29udHJvbC1tb3ZpbmcuZmllbGQtY29udHJvbHtib3JkZXItcmFkaXVzOjZweDthbmltYXRpb246RFJBR19HSE9TVCAuNXMgZm9yd2FyZHN9LmZpZWxkLWNvbnRyb2w6YmVmb3JlLC5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZm9ybWVvLWNvbnRyb2xzIC5maWVsZC1jb250cm9sOmJlZm9yZXttYXJnaW4tcmlnaHQ6MTBweDtmb250LXNpemU6MTZweH0uZmllbGQtY29udHJvbDpob3ZlciwuZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1jb250cm9scyAuZmllbGQtY29udHJvbDpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOiNmMmYyZjJ9LmZpZWxkLWNvbnRyb2wgYnV0dG9uLC5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZm9ybWVvLWNvbnRyb2xzIC5maWVsZC1jb250cm9sIGJ1dHRvbntib3gtc2l6aW5nOmJvcmRlci1ib3g7Zm9udC1zaXplOjFlbTtsaW5lLWhlaWdodDoxLjhlbTtkaXNwbGF5OmJsb2NrO2hlaWdodDoxMDAlO3dpZHRoOjEwMCU7YmFja2dyb3VuZDp0cmFuc3BhcmVudDtib3JkZXI6MCBub25lO3RleHQtYWxpZ246bGVmdDtwYWRkaW5nOjEwcHg7Ym9yZGVyLXJhZGl1czowfS5maWVsZC1jb250cm9sIGJ1dHRvbjpmb2N1cywuZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1jb250cm9scyAuZmllbGQtY29udHJvbCBidXR0b246Zm9jdXN7b3V0bGluZTowIG5vbmU7YmFja2dyb3VuZC1jb2xvcjojZjJmMmYyO2JveC1zaGFkb3c6aW5zZXQgMCAwIDAgMXB4ICM2NmFmZTk7Ym9yZGVyLXJhZGl1czowIWltcG9ydGFudH0uZmllbGQtY29udHJvbCBidXR0b246YWN0aXZlLC5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZm9ybWVvLWNvbnRyb2xzIC5maWVsZC1jb250cm9sIGJ1dHRvbjphY3RpdmV7dHJhbnNmb3JtOm5vbmV9LmZpZWxkLWNvbnRyb2wgYnV0dG9uOmhvdmVyLC5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZm9ybWVvLWNvbnRyb2xzIC5maWVsZC1jb250cm9sIGJ1dHRvbjpob3ZlcntmaWx0ZXI6bm9uZX0uZmllbGQtY29udHJvbCAuZ2x5cGhpY29uLC5maWVsZC1jb250cm9sIHN2ZywuZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1jb250cm9scyAuZmllbGQtY29udHJvbCAuZ2x5cGhpY29uLC5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZm9ybWVvLWNvbnRyb2xzIC5maWVsZC1jb250cm9sIHN2Z3tmbG9hdDpsZWZ0O21hcmdpbi1yaWdodDoxMHB4fS5maWVsZC1jb250cm9sIC5nbHlwaGljb24sLmZvcm1lby5mb3JtZW8tZWRpdG9yIC5mb3JtZW8tY29udHJvbHMgLmZpZWxkLWNvbnRyb2wgLmdseXBoaWNvbntkaXNwbGF5OmlubGluZS1ibG9jazt0ZXh0LWFsaWduOmNlbnRlcjt3aWR0aDoyNHB4O2hlaWdodDoyNHB4O2xpbmUtaGVpZ2h0OjIwcHh9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5mb3JtZW8tY29udHJvbHMgW2Rpcj1ydGxdIC5maWVsZC1jb250cm9sIGJ1dHRvbixbZGlyPXJ0bF0gLmZpZWxkLWNvbnRyb2wgYnV0dG9uLFtkaXI9cnRsXSAuZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1jb250cm9scyAuZmllbGQtY29udHJvbCBidXR0b257dGV4dC1hbGlnbjpyaWdodCFpbXBvcnRhbnR9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5mb3JtZW8tY29udHJvbHMgW2Rpcj1ydGxdIC5maWVsZC1jb250cm9sIHN2ZyxbZGlyPXJ0bF0gLmZpZWxkLWNvbnRyb2wgc3ZnLFtkaXI9cnRsXSAuZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1jb250cm9scyAuZmllbGQtY29udHJvbCBzdmd7ZmxvYXQ6cmlnaHQhaW1wb3J0YW50O21hcmdpbjowIDAgMCAxMHB4IWltcG9ydGFudH0uZm9ybWVvIGJ1dHRvbntib3JkZXItcmFkaXVzOjNweDtib3JkZXI6MXB4IHNvbGlkICM2NjY7Y29sb3I6IzMzMztiYWNrZ3JvdW5kLWNvbG9yOiNmZmY7cGFkZGluZzouNWVtIDFlbX0uZm9ybWVvIGJ1dHRvbjphY3RpdmV7dHJhbnNmb3JtOnNjYWxlKC45Nyl9LmZvcm1lbyBidXR0b246aG92ZXJ7ZmlsdGVyOmJyaWdodG5lc3MoLjkpfS5zdmctaWNvbntkaXNwbGF5OmlubGluZS1ibG9jazt3aWR0aDoyNHB4O2hlaWdodDoyNHB4O3BvaW50ZXItZXZlbnRzOm5vbmV9Lmljb24tcmVtb3ZlOmhvdmVye2ZpbGw6I2Q5NTM0Zn1idXR0b25bY2xhc3MqPS1yZW1vdmVdOmhvdmVye2JhY2tncm91bmQtY29sb3I6I2Q5NTM0ZiFpbXBvcnRhbnR9YnV0dG9uW2NsYXNzKj0tcmVtb3ZlXTpob3ZlciAuc3ZnLWljb257ZmlsbDojZmZmfWJ1dHRvbltjbGFzcyo9LWNsb25lXTpob3ZlcntiYWNrZ3JvdW5kLWNvbG9yOiM5M2M1NGIhaW1wb3J0YW50fWJ1dHRvbltjbGFzcyo9LWNsb25lXTpob3ZlciAuc3ZnLWljb257ZmlsbDojZmZmfS5pdGVtLWVkaXQtdG9nZ2xlOmhvdmVye2JhY2tncm91bmQtY29sb3I6IzMyNWQ4OCFpbXBvcnRhbnR9Lml0ZW0tZWRpdC10b2dnbGU6aG92ZXIgLnN2Zy1pY29ue2ZpbGw6I2ZmZn0uZm9ybWVvICp7Ym94LXNpemluZzppbmhlcml0fS5mb3JtZW8gLnBpbGwtYnV0dG9ucz5idXR0b257Ym9yZGVyLXJhZGl1czo1MHB4fS5mb3JtZW8gaHJ7bWFyZ2luLXRvcDoxcmVtO21hcmdpbi1ib3R0b206MXJlbTtib3JkZXI6MDtib3JkZXItdG9wOjFweCBzb2xpZCAjY2NjfS5mb3JtZW8gLmYtZmllbGQtZ3JvdXB7LW1zLWZsZXgtd3JhcDp3cmFwO2ZsZXgtd3JhcDp3cmFwfS5mb3JtZW8gLmYtZmllbGQtZ3JvdXAgbGFiZWwrLmJhZGdle21hcmdpbi1sZWZ0OjEwcHh9LmZvcm1lbyAuZi1maWVsZC1ncm91cD5sYWJlbHtkaXNwbGF5OmlubGluZS1ibG9jazttYXJnaW4tYm90dG9tOjEwcHh9LmZvcm1lbyAuZi1maWVsZC1ncm91cCBidXR0b257bWFyZ2luLXJpZ2h0OjVweH0uZm9ybWVvIGlucHV0W3R5cGU9ZGF0ZV17bWF4LXdpZHRoOjI4MHB4O2Rpc3BsYXk6YmxvY2t9LmZvcm1lbyBpbnB1dFt0eXBlPXJhZGlvXSsuY2hlY2thYmxlOmJlZm9yZXtib3JkZXItcmFkaXVzOjJlbX0uZm9ybWVvIGlucHV0W3R5cGU9cmFkaW9dOmNoZWNrZWQrLmNoZWNrYWJsZTphZnRlcntjb250ZW50OlxcXCJcXFwiO2JhY2tncm91bmQ6IzY2Njt0cmFuc2Zvcm06c2NhbGUoLjUpIHRyYW5zbGF0ZVkoLTEwMCUpO2JvcmRlci1yYWRpdXM6NTAlfS5mb3JtZW8gdGV4dGFyZWF7aGVpZ2h0OmF1dG99LmZvcm1lbyBidXR0b257bGluZS1oZWlnaHQ6MS41ZW19LmZvcm1lbyBidXR0b24uZXJyb3IsLmZvcm1lbyBidXR0b24ucHJpbWFyeSwuZm9ybWVvIGJ1dHRvbi5zdWNjZXNzLC5mb3JtZW8gYnV0dG9uLndhcm5pbmd7Y29sb3I6I2ZmZn0uZm9ybWVvIGJ1dHRvbi5wcmltYXJ5e2JhY2tncm91bmQtY29sb3I6IzMyNWQ4ODtib3JkZXItY29sb3I6IzI0NDQ2M30uZm9ybWVvIGJ1dHRvbi5zdWNjZXNze2JhY2tncm91bmQtY29sb3I6IzkzYzU0Yjtib3JkZXItY29sb3I6Izc5YTczNn0uZm9ybWVvIGJ1dHRvbi53YXJuaW5ne2JhY2tncm91bmQtY29sb3I6I2Y0N2MzYztib3JkZXItY29sb3I6I2VmNWMwZX0uZm9ybWVvIGJ1dHRvbi5lcnJvcntiYWNrZ3JvdW5kLWNvbG9yOiNkOTUzNGY7Ym9yZGVyLWNvbG9yOiNjOTMwMmN9LmZvcm1lbyBidXR0b25bZGlzYWJsZWRde2JhY2tncm91bmQtY29sb3I6I2NjYztjb2xvcjojZmZmfS5mb3JtZW8gYnV0dG9uOmZvY3Vze2JvcmRlcjoxcHggc29saWQgIzY2YWZlOX0uZm9ybWVvIGJ1dHRvbjpmb2N1cywuZm9ybWVvIGJ1dHRvbjpob3ZlcntvdXRsaW5lOjAgbm9uZX0uZm9ybWVvIC5mLWFkZG9ue3dpZHRoOmF1dG99LmZvcm1lbyAuZi1hZGRvbiBsYWJlbHttYXJnaW46MXB4IDAgMCAzcHh9LmZvcm1lbyAuZi1hZGRvbjpsYXN0LWNoaWxke21hcmdpbi1sZWZ0Oi0xcHh9LmZvcm1lbyAuZi1idG4tZ3JvdXB7ZGlzcGxheTotbXMtaW5saW5lLWZsZXhib3g7ZGlzcGxheTppbmxpbmUtZmxleDt2ZXJ0aWNhbC1hbGlnbjptaWRkbGV9LmZvcm1lbyAuZi1idG4tZ3JvdXA+YnV0dG9uey1tcy1mbGV4OjAgMSBhdXRvO2ZsZXg6MCAxIGF1dG99LmZvcm1lbyAuZi1idG4tZ3JvdXA+YnV0dG9uOm5vdCg6Zmlyc3QtY2hpbGQpOm5vdCg6bGFzdC1jaGlsZCk6bm90KC5kcm9wZG93bi10b2dnbGUpe2JvcmRlci1yYWRpdXM6MH0uZm9ybWVvIC5mLWJ0bi1ncm91cD5idXR0b246bGFzdC1jaGlsZDpub3QoOmZpcnN0LWNoaWxkKTpub3QoLmRyb3Bkb3duLXRvZ2dsZSl7Ym9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czowO2JvcmRlci10b3AtbGVmdC1yYWRpdXM6MH0uZm9ybWVvIC5mLWJ0bi1ncm91cD5idXR0b246Zmlyc3QtY2hpbGR7bWFyZ2luLWxlZnQ6MH0uZm9ybWVvIC5mLWJ0bi1ncm91cD5idXR0b246Zmlyc3QtY2hpbGQ6bm90KDpsYXN0LWNoaWxkKTpub3QoLmRyb3Bkb3duLXRvZ2dsZSl7Ym9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6MDtib3JkZXItdG9wLXJpZ2h0LXJhZGl1czowfS5mb3JtZW8gLmYtYnRuLWdyb3VwIC5mLWJ0bi1ncm91cCsuZi1idG4tZ3JvdXAsLmZvcm1lbyAuZi1idG4tZ3JvdXAgLmYtYnRuLWdyb3VwK2J1dHRvbiwuZm9ybWVvIC5mLWJ0bi1ncm91cCAuZi1idG4tZ3JvdXAtdmVydGljYWwgLmYtYnRuLWdyb3VwKy5mLWJ0bi1ncm91cCwuZm9ybWVvIC5mLWJ0bi1ncm91cCAuZi1idG4tZ3JvdXAtdmVydGljYWwgLmYtYnRuLWdyb3VwK2J1dHRvbiwuZm9ybWVvIC5mLWJ0bi1ncm91cCAuZi1idG4tZ3JvdXAtdmVydGljYWwgYnV0dG9uKy5mLWJ0bi1ncm91cCwuZm9ybWVvIC5mLWJ0bi1ncm91cCAuZi1idG4tZ3JvdXAtdmVydGljYWwgYnV0dG9uK2J1dHRvbiwuZm9ybWVvIC5mLWJ0bi1ncm91cCBidXR0b24rLmYtYnRuLWdyb3VwLC5mb3JtZW8gLmYtYnRuLWdyb3VwIGJ1dHRvbitidXR0b257bWFyZ2luLWxlZnQ6LTFweH0uZm9ybWVvIC5mLWNoZWNrYm94LC5mb3JtZW8gLmYtcmFkaW97bWFyZ2luLWJvdHRvbTo1cHh9LmZvcm1lbyAuZi1pbnB1dC1ncm91cHtkaXNwbGF5Oi1tcy1pbmxpbmUtZmxleGJveDtkaXNwbGF5OmlubGluZS1mbGV4O3ZlcnRpY2FsLWFsaWduOmJvdHRvbX0uZm9ybWVvIC5mLWlucHV0LWdyb3VwIGlucHV0K2lucHV0LC5mb3JtZW8gLmYtaW5wdXQtZ3JvdXAgaW5wdXQrc2VsZWN0LC5mb3JtZW8gLmYtaW5wdXQtZ3JvdXAgc2VsZWN0K3NlbGVjdHttYXJnaW4tbGVmdDotMXB4fS5mb3JtZW8gLmYtaW5wdXQtZ3JvdXAgc2VsZWN0ey13ZWJraXQtYXBwZWFyYW5jZTpub25lO2JhY2tncm91bmQtaW1hZ2U6dXJsKFxcXCJkYXRhOmltYWdlL3N2Zyt4bWw7YmFzZTY0LFBEOTRiV3dnZG1WeWMybHZiajBpTVM0d0lpQmxibU52WkdsdVp6MGlkWFJtTFRnaVB6NEtQQ0V0TFNCSFpXNWxjbUYwWldRZ1lua2dTV052VFc5dmJpNXBieUF0TFQ0S1BDRkVUME5VV1ZCRklITjJaeUJRVlVKTVNVTWdJaTB2TDFjelF5OHZSRlJFSUZOV1J5QXhMakV2TDBWT0lpQWlhSFIwY0RvdkwzZDNkeTUzTXk1dmNtY3ZSM0poY0docFkzTXZVMVpITHpFdU1TOUVWRVF2YzNabk1URXVaSFJrSWo0S1BITjJaeUIyWlhKemFXOXVQU0l4TGpFaUlIaHRiRzV6UFNKb2RIUndPaTh2ZDNkM0xuY3pMbTl5Wnk4eU1EQXdMM04yWnlJZ2VHMXNibk02ZUd4cGJtczlJbWgwZEhBNkx5OTNkM2N1ZHpNdWIzSm5MekU1T1RrdmVHeHBibXNpSUhkcFpIUm9QU0l5TkNJZ2FHVnBaMmgwUFNJek1pSWdkbWxsZDBKdmVEMGlNQ0F3SURJMElETXlJajRLUEhCaGRHZ2dabWxzYkQwaUl6UTBOQ0lnWkQwaVRUQWdNVEpzTVRFdU9Ua3lJREV4TGprNU1pQXhNUzQ1T1RJdE1URXVPVGt5YUMweU15NDVPRFI2SWo0OEwzQmhkR2crQ2p3dmMzWm5QZ289XFxcIik7YmFja2dyb3VuZC1wb3NpdGlvbjpyaWdodCAxMHB4IHRvcCAycHg7YmFja2dyb3VuZC1yZXBlYXQ6bm8tcmVwZWF0O2JhY2tncm91bmQtc2l6ZToxNnB4fS5mb3JtZW8gLmYtaW5wdXQtZ3JvdXAgLmYtYWRkb24sLmZvcm1lbyAuZi1pbnB1dC1ncm91cCBpbnB1dCwuZm9ybWVvIC5mLWlucHV0LWdyb3VwIHNlbGVjdHstbXMtZmxleDowIDEgYXV0bztmbGV4OjAgMSBhdXRvO2JvcmRlci1yYWRpdXM6MH0uZm9ybWVvIC5mLWlucHV0LWdyb3VwIC5mLWFkZG9uOmxhc3QtY2hpbGQsLmZvcm1lbyAuZi1pbnB1dC1ncm91cCBpbnB1dDpsYXN0LWNoaWxkLC5mb3JtZW8gLmYtaW5wdXQtZ3JvdXAgc2VsZWN0Omxhc3QtY2hpbGR7Ym9yZGVyLXJpZ2h0LXdpZHRoOjFweDtib3JkZXItcmFkaXVzOjAgM3B4IDNweCAwfS5mb3JtZW8gLmYtaW5wdXQtZ3JvdXAgLmYtYWRkb246Zmlyc3QtY2hpbGQsLmZvcm1lbyAuZi1pbnB1dC1ncm91cCBpbnB1dDpmaXJzdC1jaGlsZCwuZm9ybWVvIC5mLWlucHV0LWdyb3VwIHNlbGVjdDpmaXJzdC1jaGlsZHtib3JkZXItcmFkaXVzOjNweCAwIDAgM3B4O2JvcmRlci1sZWZ0LXdpZHRoOjFweH0uZm9ybWVvIC5mLWlucHV0LWdyb3VwIC5mLWFkZG9uOmZvY3VzK2lucHV0LC5mb3JtZW8gLmYtaW5wdXQtZ3JvdXAgLmYtYWRkb246Zm9jdXMrc2VsZWN0LC5mb3JtZW8gLmYtaW5wdXQtZ3JvdXAgaW5wdXQ6Zm9jdXMraW5wdXQsLmZvcm1lbyAuZi1pbnB1dC1ncm91cCBpbnB1dDpmb2N1cytzZWxlY3QsLmZvcm1lbyAuZi1pbnB1dC1ncm91cCBzZWxlY3Q6Zm9jdXMraW5wdXQsLmZvcm1lbyAuZi1pbnB1dC1ncm91cCBzZWxlY3Q6Zm9jdXMrc2VsZWN0e2JvcmRlci1sZWZ0OjFweCBzb2xpZCAjNjZhZmU5fS5mb3JtZW8gLnRleHQtcHJpbWFyeXtjb2xvcjojMzI1ZDg4fS5mb3JtZW8gLnRleHQtc3VjY2Vzc3tjb2xvcjojOTNjNTRifS5mb3JtZW8gLnRleHQtd2FybmluZ3tjb2xvcjojZjQ3YzNjfS5mb3JtZW8gLnRleHQtZXJyb3J7Y29sb3I6I2Q5NTM0Zn0uZm9ybWVvOmFmdGVye2NvbnRlbnQ6XFxcIlxcXCI7ZGlzcGxheTp0YWJsZTtjbGVhcjpib3RofS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZ3JvdXAtYWN0aW9uc3ttaW4td2lkdGg6MjRweDt3aWR0aDoyNHB4O2hlaWdodDoyNHB4O292ZXJmbG93OmhpZGRlbjtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtsaW5lLWhlaWdodDowO3otaW5kZXg6MX0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmdyb3VwLWFjdGlvbnMgYnV0dG9ue3dpZHRoOjI0cHg7aGVpZ2h0OjI0cHg7cGFkZGluZzo2cHg7Ym9yZGVyOjAgbm9uZTtsaW5lLWhlaWdodDowO292ZXJmbG93OmhpZGRlbjtiYWNrZ3JvdW5kLWNvbG9yOiNmZmZ9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5ncm91cC1hY3Rpb25zIGJ1dHRvbjpmb2N1c3tib3JkZXI6MCBub25lO291dGxpbmU6MCBub25lO2JveC1zaGFkb3c6bm9uZX0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmdyb3VwLWFjdGlvbnMgLnN2Zy1pY29ue3dpZHRoOjEycHg7aGVpZ2h0OjEycHh9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5ncm91cC1hY3Rpb25zIC5pY29uLWhhbmRsZXtvcGFjaXR5Oi41fS5sYXN0LWZpZWxkIC5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZ3JvdXAtYWN0aW9ucyBidXR0b246bGFzdC1jaGlsZHtib3JkZXItcmFkaXVzOjB9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5jb2x1bW4tZWRpdGluZy1maWVsZCAuY29sdW1uLWFjdGlvbnMsLmZvcm1lby5mb3JtZW8tZWRpdG9yIC5ncm91cC1hY3Rpb25zIC5pY29uLWNvcHksLmZvcm1lby5mb3JtZW8tZWRpdG9yIC5ncm91cC1hY3Rpb25zIC5pY29uLW1lbnUsLmZvcm1lby5mb3JtZW8tZWRpdG9yIC5ncm91cC1hY3Rpb25zIC5pY29uLW1vdmUsLmZvcm1lby5mb3JtZW8tZWRpdG9yIC5ncm91cC1hY3Rpb25zIC5pY29uLW1vdmUtdmVydGljYWx7ZGlzcGxheTpub25lfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2UtZmllbGRzLmVkaXRpbmctZmllbGQgLmZpZWxkLWFjdGlvbnMsLmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS1maWVsZHMuaG92ZXJpbmctZmllbGQgLmZpZWxkLWFjdGlvbnN7Ym94LXNoYWRvdzotMXB4IDFweCAxcHggI2NjYztib3JkZXItY29sb3I6IzkzYzU0Yjtib3JkZXItd2lkdGg6MXB4IDFweCAwIDA7Ym9yZGVyLXN0eWxlOnNvbGlkfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuaG92ZXJpbmctY29sdW1uIC5maWVsZC1hY3Rpb25zLC5mb3JtZW8uZm9ybWVvLWVkaXRvciAuaG92ZXJpbmctcm93IC5maWVsZC1hY3Rpb25ze2Rpc3BsYXk6bm9uZX0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmhvdmVyaW5nLWNvbHVtbiAucm93LWFjdGlvbnMsLmZvcm1lby5mb3JtZW8tZWRpdG9yIC5ob3ZlcmluZy1yb3cgLnJvdy1hY3Rpb25ze3otaW5kZXg6MTB9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5maWVsZC1hY3Rpb25ze3JpZ2h0OjA7dGV4dC1hbGlnbjpyaWdodDt0cmFuc2l0aW9uOndpZHRoIC4xNXM7Ym9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czozcHg7Ym9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6MDt3aWxsLWNoYW5nZTp3aWR0aH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZpZWxkLWFjdGlvbnMgYnV0dG9ue2JvcmRlci1yYWRpdXM6MDtwb3NpdGlvbjphYnNvbHV0ZX0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZpZWxkLWFjdGlvbnMgYnV0dG9uOmZpcnN0LW9mLXR5cGV7cmlnaHQ6MH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZpZWxkLWFjdGlvbnMgYnV0dG9uOm50aC1vZi10eXBlKDIpe3JpZ2h0OjI0cHh9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5maWVsZC1hY3Rpb25zIGJ1dHRvbjpudGgtb2YtdHlwZSgzKXtyaWdodDo0OHB4fS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZmllbGQtYWN0aW9ucyBidXR0b246bnRoLW9mLXR5cGUoNCl7cmlnaHQ6NzJweH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZpZWxkLWFjdGlvbnMgYnV0dG9uOm50aC1vZi10eXBlKDUpe3JpZ2h0Ojk2cHh9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5maWVsZC1hY3Rpb25zIGJ1dHRvbjpudGgtb2YtdHlwZSg2KXtyaWdodDoxMjBweH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZpZWxkLWFjdGlvbnMgYnV0dG9uOmZpcnN0LWNoaWxke3JpZ2h0OjB9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5ncm91cC1jb25maWd7ZGlzcGxheTpub25lO3BhZGRpbmc6LjVyZW19LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5lZGl0aW5nLXJvdyAuY29sdW1uLWFjdGlvbnN7ZGlzcGxheTpub25lfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuY29sdW1uLWFjdGlvbnN7d2lkdGg6MjRweDtoZWlnaHQ6MjRweDtwYWRkaW5nOjA7cmlnaHQ6NTAlO3RyYW5zZm9ybTp0cmFuc2xhdGVYKDEycHgpO3otaW5kZXg6MTt0cmFuc2l0aW9uOndpZHRoIC4xNXN9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5jb2x1bW4tYWN0aW9ucyAuYWN0aW9uLWJ0bi13cmFwe3Bvc2l0aW9uOnJlbGF0aXZlO3doaXRlLXNwYWNlOm5vd3JhcH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmNvbHVtbi1hY3Rpb25zIGJ1dHRvbntwb3NpdGlvbjphYnNvbHV0ZTtiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50O2JvcmRlci1yYWRpdXM6MH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmNvbHVtbi1hY3Rpb25zIGJ1dHRvbjpmaXJzdC1vZi10eXBle3JpZ2h0OjB9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5jb2x1bW4tYWN0aW9ucyBidXR0b246bnRoLW9mLXR5cGUoMil7cmlnaHQ6MjRweH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmNvbHVtbi1hY3Rpb25zIGJ1dHRvbjpudGgtb2YtdHlwZSgzKXtyaWdodDo0OHB4fS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuY29sdW1uLWFjdGlvbnMgYnV0dG9uOm50aC1vZi10eXBlKDQpe3JpZ2h0OjcycHh9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5jb2x1bW4tYWN0aW9ucyBidXR0b246bnRoLW9mLXR5cGUoNSl7cmlnaHQ6OTZweH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmNvbHVtbi1hY3Rpb25zIGJ1dHRvbjpudGgtb2YtdHlwZSg2KXtyaWdodDoxMjBweH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmNvbHVtbi1hY3Rpb25zIGJ1dHRvbjpmaXJzdC1jaGlsZHtib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czowO3JpZ2h0OjB9LmhvdmVyaW5nLWNvbHVtbiAuZm9ybWVvLmZvcm1lby1lZGl0b3IgLmNvbHVtbi1hY3Rpb25zIGJ1dHRvbjpmaXJzdC1jaGlsZHtib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czowO2JvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6MH0uaG92ZXJpbmctY29sdW1uIC5mb3JtZW8uZm9ybWVvLWVkaXRvciAuY29sdW1uLWFjdGlvbnMgYnV0dG9uOmxhc3QtY2hpbGR7Ym9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czozcHh9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5lZGl0aW5nLWNvbHVtbiAuY29sdW1uLWFjdGlvbnMsLmZvcm1lby5mb3JtZW8tZWRpdG9yIC5ob3ZlcmluZy1jb2x1bW4gLmNvbHVtbi1hY3Rpb25ze3RyYW5zZm9ybTp0cmFuc2xhdGVYKDUwJSk7d2lkdGg6YXV0bztib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czowO2JvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6M3B4fS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZWRpdGluZy1jb2x1bW4gLmNvbHVtbi1hY3Rpb25zIGJ1dHRvbjpmaXJzdC1jaGlsZCwuZm9ybWVvLmZvcm1lby1lZGl0b3IgLmhvdmVyaW5nLWNvbHVtbiAuY29sdW1uLWFjdGlvbnMgYnV0dG9uOmZpcnN0LWNoaWxke2JvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOjNweDtyaWdodDowfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZWRpdGluZy1jb2x1bW4gLmNvbHVtbi1hY3Rpb25zIGJ1dHRvbjpsYXN0LWNoaWxkLC5mb3JtZW8uZm9ybWVvLWVkaXRvciAuaG92ZXJpbmctY29sdW1uIC5jb2x1bW4tYWN0aW9ucyBidXR0b246bGFzdC1jaGlsZHtib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOjNweH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnJvdy1hY3Rpb25ze3dpZHRoOjI0cHg7aGVpZ2h0OjI0cHg7bGVmdDotMjNweDt0ZXh0LWFsaWduOnJpZ2h0O2JvcmRlci10b3AtbGVmdC1yYWRpdXM6NnB4O2JvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6NnB4O3RyYW5zaXRpb246aGVpZ2h0IC4xNXMgZWFzZS1pbi1vdXQ7d2hpdGUtc3BhY2U6bm9ybWFsO2JvcmRlcjoxcHggc29saWQgI2NjYztib3JkZXItcmlnaHQ6MXB4IHNvbGlkICNmZmZ9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5yb3ctYWN0aW9ucyAuaXRlbS1oYW5kbGUgLmljb24taGFuZGxle3RyYW5zZm9ybTpyb3RhdGUoOTBkZWcpfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAucm93LWFjdGlvbnMgYnV0dG9ue2JvcmRlci1yYWRpdXM6MH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmVkaXRpbmctcm93IC5yb3ctYWN0aW9ucywuZm9ybWVvLmZvcm1lby1lZGl0b3IgLmhvdmVyaW5nLXJvdyAucm93LWFjdGlvbnN7Ym9yZGVyOjFweCBzb2xpZCAjMzI1ZDg4fS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZWRpdGluZy1yb3cgLnJvdy1hY3Rpb25zIGJ1dHRvbjpmaXJzdC1jaGlsZCwuZm9ybWVvLmZvcm1lby1lZGl0b3IgLmhvdmVyaW5nLXJvdyAucm93LWFjdGlvbnMgYnV0dG9uOmZpcnN0LWNoaWxke2JvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6MH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgW2NsYXNzKj1ob3ZlcmluZy1dPi5ncm91cC1hY3Rpb25zIC5zdmctaWNvbi5pY29uLWNvcHksLmZvcm1lby5mb3JtZW8tZWRpdG9yIFtjbGFzcyo9aG92ZXJpbmctXT4uZ3JvdXAtYWN0aW9ucyAuc3ZnLWljb24uaWNvbi1tZW51LC5mb3JtZW8uZm9ybWVvLWVkaXRvciBbY2xhc3MqPWhvdmVyaW5nLV0+Lmdyb3VwLWFjdGlvbnMgLnN2Zy1pY29uLmljb24tbW92ZSwuZm9ybWVvLmZvcm1lby1lZGl0b3IgW2NsYXNzKj1ob3ZlcmluZy1dPi5ncm91cC1hY3Rpb25zIC5zdmctaWNvbi5pY29uLW1vdmUtdmVydGljYWx7ZGlzcGxheTppbmxpbmUtYmxvY2shaW1wb3J0YW50fS5mb3JtZW8uZm9ybWVvLWVkaXRvciBbY2xhc3MqPWhvdmVyaW5nLV0+Lmdyb3VwLWFjdGlvbnMgLnN2Zy1pY29uLmljb24taGFuZGxle2Rpc3BsYXk6bm9uZSFpbXBvcnRhbnR9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS1yb3dze3RyYW5zaXRpb246YmFja2dyb3VuZC1jb2xvciAxMjVtcyBlYXNlLWluLW91dDtwb3NpdGlvbjpyZWxhdGl2ZTtjbGVhcjpib3RoO21hcmdpbi1sZWZ0OjA7bWFyZ2luLWJvdHRvbTo2cHg7YmFja2dyb3VuZC1jb2xvcjojZmZmO3BhZGRpbmc6NXB4O21pbi1oZWlnaHQ6MzRweDtib3gtc2hhZG93Omluc2V0IDAgMCAwIDFweCAjY2NjfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2Utcm93czphZnRlcntjb250ZW50OlxcXCJcXFwiO2Rpc3BsYXk6dGFibGV9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS1yb3dzOmJlZm9yZXtib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czo2cHg7Ym9yZGVyOjFweCBzb2xpZCAjMzI1ZDg4O2JvcmRlci13aWR0aDoxcHggMDtsZWZ0OjB9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS1yb3dzOmFmdGVye2NsZWFyOmJvdGh9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS1yb3dzLmNvbnRyb2wtZ2hvc3R7cGFkZGluZzoxMHB4fS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2Utcm93czpmaXJzdC1jaGlsZHtib3JkZXItdG9wLXJpZ2h0LXJhZGl1czo1cHg7Ym9yZGVyLXRvcC1sZWZ0LXJhZGl1czowfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2Utcm93czpsYXN0LWNoaWxke2JvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOjVweDtib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOjVweH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLXJvd3MuaG92ZXJpbmctcm93OmZpcnN0LWNoaWxke2JvcmRlci10b3AtbGVmdC1yYWRpdXM6MH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLXJvd3MuaG92ZXJpbmctcm93OmJlZm9yZXt3aWR0aDoxMDBweH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLXJvd3MuaG92ZXJpbmctcm93IC5zdGFnZS1jb2x1bW5ze29wYWNpdHk6LjV9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS1yb3dzLmVkaXRpbmctcm93LC5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2Utcm93cy5lZGl0aW5nLXJvdyAucm93LWVkaXR7ZGlzcGxheTpibG9ja30uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLXJvd3MucmVzaXppbmctY29sdW1ucyAuc3RhZ2UtY29sdW1uc3t0cmFuc2l0aW9uOm5vbmV9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS1yb3dzLmVkaXRpbmctcm93LmhvdmVyaW5nLXJvdyAuc3RhZ2UtY29sdW1uc3tvcGFjaXR5OjF9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS1yb3dzLmVkaXRpbmctcm93e2JveC1zaGFkb3c6aW5zZXQgMCAwIDAgMXB4ICMzMjVkODh9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS1yb3dzLmVkaXRpbmctcm93OmJlZm9yZXtib3JkZXItd2lkdGg6MXB4IDAgMDt3aWR0aDo4MHB4IWltcG9ydGFudDtjb250ZW50OmF0dHIoZGF0YS1lZGl0aW5nLWhvdmVyLXRhZyl9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS1yb3dzLmhvdmVyaW5nLXJvd3tib3gtc2hhZG93Omluc2V0IDAgMCAwIDFweCAjMzI1ZDg4fS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2Utcm93cy5ob3ZlcmluZy1yb3cuZWRpdGluZy1yb3c6YmVmb3Jle2JvcmRlci1yaWdodC13aWR0aDowfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2Utcm93cy5ob3ZlcmluZy1yb3c6YmVmb3Jle2JveC1zaGFkb3c6MXB4IDFweCAxcHggI2NjYztib3JkZXItcmlnaHQtd2lkdGg6MXB4O3dpZHRoOjgwcHghaW1wb3J0YW50fS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2Utcm93cy5yb3ctbW92aW5ne2JveC1zaGFkb3c6aW5zZXQgMCAwIDAgMXB4ICMzMjVkODgsMCAwIDMwcHggMCAjOTk5fS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2Utcm93cy5lbXB0eS1yb3dzOmFmdGVye2xlZnQ6MDt0cmFuc2Zvcm06dHJhbnNsYXRlKDEwcHgsLTUwJSl9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS1yb3dzIC5sYXlvdXQtcm93LWNvbnRyb2x7ZGlzcGxheTpub25lfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAucm93LWVkaXR7cGFkZGluZy10b3A6MnJlbX0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmlucHV0LWdyb3VwLWFkZG9uIGxhYmVse21hcmdpbi1ib3R0b206MH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLWNvbHVtbnN7dHJhbnNpdGlvbjpiYWNrZ3JvdW5kLWNvbG9yIDEyNW1zIGVhc2UtaW4tb3V0LGJveC1zaGFkb3cgMTI1bXMsd2lkdGggLjI1cztwb3NpdGlvbjpyZWxhdGl2ZTtiYWNrZ3JvdW5kLWNvbG9yOiNmZmY7bWF4LXdpZHRoOm5vbmU7LW1zLWZsZXgtZGlyZWN0aW9uOmNvbHVtbjtmbGV4LWRpcmVjdGlvbjpjb2x1bW47LW1zLWZsZXg6YXV0bztmbGV4OmF1dG87d2lsbC1jaGFuZ2U6d2lkdGh9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS1jb2x1bW5zW2NsYXNzKj1jb2wtXXtwYWRkaW5nOjB9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS1jb2x1bW5zOmZpcnN0LW9mLXR5cGV7Ym9yZGVyLXRvcC1yaWdodC1yYWRpdXM6NXB4fS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2UtY29sdW1uczpsYXN0LW9mLXR5cGV7Ym9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6NXB4O2JvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6NXB4fS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2UtY29sdW1uczpsYXN0LW9mLXR5cGUgLnJlc2l6ZS14LWhhbmRsZXtkaXNwbGF5Om5vbmUhaW1wb3J0YW50fS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2UtY29sdW1ucyAucmVzaXplLXgtaGFuZGxle2Rpc3BsYXk6bm9uZTtwb3NpdGlvbjphYnNvbHV0ZTtyaWdodDotOHB4O3RvcDowO2JvdHRvbTowO3dpZHRoOjE2cHg7ei1pbmRleDoyO2N1cnNvcjpldy1yZXNpemV9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS1jb2x1bW5zIC5yZXNpemUteC1oYW5kbGU6YmVmb3Jle3dpZHRoOjA7cmlnaHQ6NnB4O2JvcmRlcjoxcHggZGFzaGVkICMyOWFiZTA7Ym9yZGVyLXdpZHRoOjAgMnB4O2Rpc3BsYXk6YmxvY2s7dG9wOjA7cG9zaXRpb246YWJzb2x1dGU7aGVpZ2h0OjEwMCU7Y29udGVudDpcXFwiXFxcIn0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLWNvbHVtbnMgLnJlc2l6ZS14LWhhbmRsZSBzdmd7ZmlsbDojMjlhYmUwO3Bvc2l0aW9uOmFic29sdXRlO3JpZ2h0OjFweDt3aWR0aDoxNHB4fS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2UtY29sdW1ucyAucmVzaXplLXgtaGFuZGxlIHN2Zy5pY29uLXRyaWFuZ2xlLWRvd257dG9wOi0xNHB4fS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2UtY29sdW1ucyAucmVzaXplLXgtaGFuZGxlIHN2Zy5pY29uLXRyaWFuZ2xlLXVwe2JvdHRvbTotMTRweH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLWNvbHVtbnM6YmVmb3Jle3RyYW5zaXRpb24tcHJvcGVydHk6aGVpZ2h0O3RyYW5zaXRpb24tZHVyYXRpb246LjE1cztwYWRkaW5nOjAgMTBweDtsZWZ0OjUwJTt0b3A6MXB4O3RyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSwtMTAwJSk7d2lkdGg6YXV0bztoZWlnaHQ6MDtib3JkZXItdG9wLWxlZnQtcmFkaXVzOjVweDtib3JkZXItdG9wLXJpZ2h0LXJhZGl1czo1cHh9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS1jb2x1bW5zLmhvdmVyaW5nLWNvbHVtbjpmaXJzdC1jaGlsZHtib3JkZXItdG9wLWxlZnQtcmFkaXVzOjB9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS1jb2x1bW5zLmhvdmVyaW5nLWNvbHVtbiAuc3RhZ2UtZmllbGRze29wYWNpdHk6LjV9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS1jb2x1bW5zLmhvdmVyaW5nLWNvbHVtbjphZnRlcntvcGFjaXR5OjB9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS1jb2x1bW5zLmVkaXRpbmctY29sdW1uLC5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2UtY29sdW1ucy5ob3ZlcmluZy1jb2x1bW57Ym94LXNoYWRvdzppbnNldCAwIDAgMCAxcHggIzI5YWJlMH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLWNvbHVtbnMuZWRpdGluZy1jb2x1bW46YmVmb3JlLC5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2UtY29sdW1ucy5ob3ZlcmluZy1jb2x1bW46YmVmb3Jle2hlaWdodDoyM3B4O2JvcmRlci1yaWdodDoxcHggc29saWQgIzI5YWJlMDtib3JkZXItbGVmdDoxcHggc29saWQgIzI5YWJlMDtib3JkZXItdG9wOjFweCBzb2xpZCAjMjlhYmUwfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2UtY29sdW1ucy5jb2x1bW4tbW92aW5ne2JveC1zaGFkb3c6aW5zZXQgMCAwIDAgMXB4ICMyOWFiZTAsMCAwIDMwcHggMCAjOTk5fS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2UtY29sdW1ucy5lZGl0aW5nLWNvbHVtbntvdmVyZmxvdzpoaWRkZW59LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS1jb2x1bW5zLmVkaXRpbmctY29sdW1uIC5jb2x1bW4tZWRpdHtkaXNwbGF5OmJsb2NrfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZWRpdGluZy1yb3cgLmVtcHR5LWNvbHVtbnMsLmZvcm1lby5mb3JtZW8tZWRpdG9yIC5lZGl0aW5nLXJvdyAuc3RhZ2UtY29sdW1uc3tkaXNwbGF5OnRhYmxlLWNlbGw7Ym9yZGVyLXJhZGl1czo1cHg7aGVpZ2h0OjYwcHg7YmFja2dyb3VuZC1jb2xvcjojZTZlNmU2fS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZWRpdGluZy1yb3cgLmVtcHR5LWNvbHVtbnMuZW1wdHktY29sdW1ucywuZm9ybWVvLmZvcm1lby1lZGl0b3IgLmVkaXRpbmctcm93IC5zdGFnZS1jb2x1bW5zLmVtcHR5LWNvbHVtbnN7bWluLWhlaWdodDowfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZWRpdGluZy1yb3cgLmVtcHR5LWNvbHVtbnMgLnN0YWdlLWZpZWxkcywuZm9ybWVvLmZvcm1lby1lZGl0b3IgLmVkaXRpbmctcm93IC5zdGFnZS1jb2x1bW5zIC5zdGFnZS1maWVsZHN7ZGlzcGxheTpub25lfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZWRpdGluZy1yb3cgLmVtcHR5LWNvbHVtbnMgLnJlc2l6ZS14LWhhbmRsZSwuZm9ybWVvLmZvcm1lby1lZGl0b3IgLmVkaXRpbmctcm93IC5zdGFnZS1jb2x1bW5zIC5yZXNpemUteC1oYW5kbGV7ZGlzcGxheTpibG9ja30uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmVkaXRpbmctcm93IC5lbXB0eS1jb2x1bW5zOmFmdGVyLC5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZWRpdGluZy1yb3cgLnN0YWdlLWNvbHVtbnM6YWZ0ZXJ7Y29sb3I6IzMzMyFpbXBvcnRhbnQ7bGluZS1oZWlnaHQ6MWVtO29wYWNpdHk6MTtmb250LXNpemU6MS4xZW07Y29udGVudDphdHRyKGRhdGEtY29sLXdpZHRoKSFpbXBvcnRhbnQ7ZGlzcGxheTpibG9jazt3aWR0aDoxMDAlO3RleHQtYWxpZ246Y2VudGVyO3Bvc2l0aW9uOmFic29sdXRlO2xlZnQ6NTAlO21hcmdpbi10b3A6MDt0b3A6NTAlO3RyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSwtNTAlKX0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmVkaXRpbmctZmllbGQtcHJldmlldyAuY29sdW1uLWFjdGlvbnN7ZGlzcGxheTpub25lfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2UtZmllbGRze21pbi1oZWlnaHQ6MjZweDtwb3NpdGlvbjpyZWxhdGl2ZTtwYWRkaW5nOjVweDt0cmFuc2l0aW9uOmJhY2tncm91bmQtY29sb3IgMTI1bXMgZWFzZS1pbi1vdXR9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS1maWVsZHMuZmllbGQtdHlwZS1jaGVja2JveCAuZmllbGQtZWRpdHtkaXNwbGF5OmJsb2NrIWltcG9ydGFudH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLWZpZWxkcy5maWVsZC10eXBlLWNoZWNrYm94IC5maWVsZC1lZGl0IC5wcm9wLWlucHV0cyBpbnB1dDpudGgtY2hpbGQoMiksLmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS1maWVsZHMuZmllbGQtdHlwZS1jaGVja2JveCAuZmllbGQtcHJldmlldyAuZi1maWVsZC1ncm91cD5kaXYsLmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS1maWVsZHMuZmllbGQtdHlwZS1jaGVja2JveCAuZmllbGQtcHJldmlldyAucGFuZWwtbGFiZWxze2Rpc3BsYXk6bm9uZX0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLWZpZWxkcy5maXJzdC1maWVsZCwuZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLWZpZWxkcy5maXJzdC1maWVsZCAuZmllbGQtYWN0aW9uc3tib3JkZXItdG9wLXJpZ2h0LXJhZGl1czozcHh9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS1maWVsZHMubGFzdC1maWVsZHtib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czozcHg7Ym9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czozcHh9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS1maWVsZHMgW2NvbnRlbnRlZGl0YWJsZV17cGFkZGluZzoxcHggMXB4IDA7dHJhbnNpdGlvbjpib3JkZXItY29sb3IgLjI1cztib3JkZXItYm90dG9tOjFweCBkYXNoZWQgI2NjYzstd2Via2l0LXVzZXItc2VsZWN0OnRleHQ7LW1vei11c2VyLXNlbGVjdDp0ZXh0Oy1tcy11c2VyLXNlbGVjdDp0ZXh0O3VzZXItc2VsZWN0OnRleHR9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS1maWVsZHMgW2NvbnRlbnRlZGl0YWJsZV06Zm9jdXN7Ym9yZGVyOjFweCBzb2xpZCAjNjZhZmU5O291dGxpbmU6bm9uZTtwYWRkaW5nOjB9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS1maWVsZHMgLmZvcm0tY2hlY2t7bWFyZ2luLWxlZnQ6MS4yNWVtfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2UtZmllbGRzIC5mb3JtLWNoZWNrLWlucHV0Om9ubHktY2hpbGR7cG9zaXRpb246YWJzb2x1dGV9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS1maWVsZHM6YmVmb3Jle2Rpc3BsYXk6bm9uZTtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6MDtwYWRkaW5nOjAgMTBweDtyaWdodDowO3RyYW5zZm9ybTp0cmFuc2xhdGVYKC03MnB4KTtib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czowO2JvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6NnB4fS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2UtZmllbGRzLmVkaXRpbmctZmllbGQsLmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS1maWVsZHMuaG92ZXJpbmctZmllbGR7Ym94LXNoYWRvdzppbnNldCAwIDAgMCAxcHggIzkzYzU0Yn0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLWZpZWxkcy5lZGl0aW5nLWZpZWxkOmJlZm9yZSwuZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLWZpZWxkcy5ob3ZlcmluZy1maWVsZDpiZWZvcmV7bGluZS1oZWlnaHQ6MjNweCFpbXBvcnRhbnQ7Ym9yZGVyLWxlZnQ6MXB4IHNvbGlkICM5M2M1NGI7Ym9yZGVyLWJvdHRvbToxcHggc29saWQgIzkzYzU0Yn0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLWZpZWxkcy5maWVsZC1tb3Zpbmd7Ym94LXNoYWRvdzppbnNldCAwIDAgMCAxcHggIzkzYzU0YiwwIDAgMzBweCAwICM5OTk7YmFja2dyb3VuZC1jb2xvcjojZmZmfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2UtZmllbGRzLmVkaXRpbmctZmllbGR7YmFja2dyb3VuZC1jb2xvcjojZTZlNmU2O3otaW5kZXg6MX0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLWZpZWxkcy5maWVsZC10eXBlLWhpZGRlbntib3JkZXI6MXB4IGRhc2hlZCAjY2NjfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZWRpdGluZy1maWVsZC1wcmV2aWV3IC5maWVsZC1hY3Rpb25ze2Rpc3BsYXk6bm9uZX0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZpZWxkLXByZXZpZXcgcHt3aGl0ZS1zcGFjZTpub3JtYWx9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5maWVsZC1lZGl0e2Rpc3BsYXk6bm9uZTtvdmVyZmxvdzpoaWRkZW59LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5maWVsZC1lZGl0IGxhYmVse2ZvbnQtc2l6ZTouODVlbX0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZpZWxkLWVkaXQgLnBhbmVsLW5hdntkaXNwbGF5Om5vbmU7bWFyZ2luLWJvdHRvbTowO3BhZGRpbmc6MDtvdmVyZmxvdzpoaWRkZW59LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5maWVsZC1lZGl0LmZpZWxkLWVkaXQtb3B0aW9uc3tsaXN0LXN0eWxlOmRlY2ltYWx9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5maWVsZC1lZGl0IC5wcm9wLWNvbnRyb2xze3dpZHRoOjI4cHg7aGVpZ2h0OjI4cHg7dGV4dC1hbGlnbjpyaWdodDtwb3NpdGlvbjphYnNvbHV0ZTtyaWdodDowO2JvdHRvbTowO292ZXJmbG93OmhpZGRlbjt3aGl0ZS1zcGFjZTpub3dyYXB9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5maWVsZC1lZGl0IC5wcm9wLWNvbnRyb2xzIC5zdmctaWNvbnt3aWR0aDoxNHB4O2hlaWdodDoxNHB4O2xlZnQ6NTAlO3Bvc2l0aW9uOmFic29sdXRlO3RvcDo1MCU7dHJhbnNmb3JtOnRyYW5zbGF0ZSgtNTAlLC01MCUpfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZmllbGQtZWRpdCAucHJvcC1jb250cm9sczpob3ZlciAucHJvcC1jb250cm9sOmZpcnN0LWNoaWxke2JvcmRlci1yYWRpdXM6MCAzcHggM3B4IDB9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5maWVsZC1lZGl0IC5wcm9wLWNvbnRyb2xzOmhvdmVyIC5wcm9wLWNvbnRyb2w6bGFzdC1jaGlsZHtkaXNwbGF5OmlubGluZS1ibG9ja30uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZpZWxkLWVkaXQgLnByb3AtY29udHJvbHt3aWR0aDoyOHB4O2hlaWdodDoyOHB4O3JpZ2h0OjA7Ym90dG9tOjA7cG9zaXRpb246YWJzb2x1dGU7cGFkZGluZzowfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZmllbGQtZWRpdCAucHJvcC1jb250cm9sOmZpcnN0LW9mLXR5cGV7cmlnaHQ6MH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZpZWxkLWVkaXQgLnByb3AtY29udHJvbDpudGgtb2YtdHlwZSgyKXtyaWdodDoyOHB4fS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZmllbGQtZWRpdCAucHJvcC1jb250cm9sOm50aC1vZi10eXBlKDMpe3JpZ2h0OjU2cHh9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5maWVsZC1lZGl0IC5wcm9wLWNvbnRyb2w6bnRoLW9mLXR5cGUoNCl7cmlnaHQ6ODRweH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZpZWxkLWVkaXQgLnByb3AtY29udHJvbDpmaXJzdC1jaGlsZHtyaWdodDowfTpub3QoLmNvbnRyb2wtY291bnQtMSkgLmZvcm1lby5mb3JtZW8tZWRpdG9yIC5maWVsZC1lZGl0IC5wcm9wLWNvbnRyb2w6bGFzdC1jaGlsZHtib3JkZXItcmFkaXVzOjNweCAwIDAgM3B4O21hcmdpbi1yaWdodDotMXB4O2Rpc3BsYXk6bm9uZX06bm90KC5jb250cm9sLWNvdW50LTEpIC5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZmllbGQtZWRpdCAucHJvcC1jb250cm9sOmZpcnN0LWNoaWxke2JvcmRlci1yYWRpdXM6M3B4fS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZmllbGQtZWRpdCAucHJvcC1jb250cm9sOmhvdmVyOmZpcnN0LWNoaWxke2JvcmRlci1yYWRpdXM6MCAzcHggM3B4IDB9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5maWVsZC1lZGl0IC5wcm9wLWNvbnRyb2w6aG92ZXI6Zmlyc3QtY2hpbGQ6bGFzdC1jaGlsZHtib3JkZXItcmFkaXVzOjNweH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZpZWxkLWVkaXQgLnByb3AtY29udHJvbDpob3ZlcjpsYXN0LWNoaWxke2Rpc3BsYXk6aW5saW5lLWJsb2NrfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZmllbGQtZWRpdCAucHJvcC1jb250cm9sOmxhc3QtY2hpbGQ6Zmlyc3QtY2hpbGR7ZGlzcGxheTppbmxpbmUtYmxvY2s7Ym9yZGVyLXJhZGl1czozcHg7bWFyZ2luLXJpZ2h0OjB9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5maWVsZC1lZGl0IC5wcm9wLXdyYXB7cG9zaXRpb246cmVsYXRpdmU7cGFkZGluZy1yaWdodDozMXB4O21hcmdpbi1ib3R0b206MTBweDttaW4taGVpZ2h0OjI4cHh9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5maWVsZC1lZGl0IC5wcm9wLXdyYXA6bGFzdC1jaGlsZHttYXJnaW4tYm90dG9tOjB9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5maWVsZC1lZGl0IC5maWVsZC1lZGl0LWdyb3Vwe3BhZGRpbmc6MTBweH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZpZWxkLWVkaXQgLnByb3AtY29udHJvbHMsLmZvcm1lby5mb3JtZW8tZWRpdG9yIC5maWVsZC1lZGl0IC5wcm9wLWlucHV0c3t0cmFuc2l0aW9uOndpZHRoIC4xNXM7d2lsbC1jaGFuZ2U6d2lkdGh9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5maWVsZC1lZGl0IC5wcm9wLWNvbnRyb2xzIC5mLWFkZG9uLC5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZmllbGQtZWRpdCAucHJvcC1jb250cm9scyBpbnB1dCwuZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZpZWxkLWVkaXQgLnByb3AtY29udHJvbHMgc2VsZWN0LC5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZmllbGQtZWRpdCAucHJvcC1jb250cm9scyB0ZXh0YXJlYSwuZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZpZWxkLWVkaXQgLnByb3AtaW5wdXRzIC5mLWFkZG9uLC5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZmllbGQtZWRpdCAucHJvcC1pbnB1dHMgaW5wdXQsLmZvcm1lby5mb3JtZW8tZWRpdG9yIC5maWVsZC1lZGl0IC5wcm9wLWlucHV0cyBzZWxlY3QsLmZvcm1lby5mb3JtZW8tZWRpdG9yIC5maWVsZC1lZGl0IC5wcm9wLWlucHV0cyB0ZXh0YXJlYXtmb250LXNpemU6LjgyNWVtfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZmllbGQtZWRpdCAucHJvcC1pbnB1dHMsLmZvcm1lby5mb3JtZW8tZWRpdG9yIC5maWVsZC1lZGl0IC5wcm9wLWlucHV0cyAuZi1maWVsZC1ncm91cHt3aWR0aDoxMDAlO2Rpc3BsYXk6LW1zLWlubGluZS1mbGV4Ym94O2Rpc3BsYXk6aW5saW5lLWZsZXg7dmVydGljYWwtYWxpZ246Ym90dG9tfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZmllbGQtZWRpdCAucHJvcC1pbnB1dHMgLmYtZmllbGQtZ3JvdXB7bWFyZ2luLWJvdHRvbTowfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZmllbGQtZWRpdCAucHJvcC1pbnB1dHMgLmYtY2hlY2tib3h7bWFyZ2luLXRvcDo3cHg7bWFyZ2luLWJvdHRvbTowfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZmllbGQtZWRpdCAucHJvcC1pbnB1dHMgbGFiZWx7ZGlzcGxheTpibG9ja30uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZpZWxkLWVkaXQgLmNvbnRyb2wtY291bnQtMiAucHJvcC1jb250cm9sczpob3Zlcnt3aWR0aDo1NnB4fS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZmllbGQtZWRpdCAuY29udHJvbC1jb3VudC0yIC5wcm9wLWNvbnRyb2xzOmhvdmVyKy5wcm9wLWlucHV0c3t3aWR0aDpjYWxjKDEwMCUgLSAyOHB4KX0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZpZWxkLWVkaXQucGFuZWwtY291bnQtMSAucGFuZWwtbmF2e2JvcmRlci1ib3R0b206MXB4IHNvbGlkICM5OTl9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5maWVsZC1lZGl0LnBhbmVsLWNvdW50LTEgLnBhbmVsLW5hdiBidXR0b257ZGlzcGxheTpub25lfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZmllbGQtZWRpdC5wYW5lbC1jb3VudC0xIC5wYW5lbC1sYWJlbHN7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLm9wdGlvbnMtcGFuZWwgLnByb3Atd3JhcHttYXJnaW4tYm90dG9tOjEwcHh9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5vcHRpb25zLXBhbmVsIC5pbnB1dC1ncm91cC1hZGRvbntsaW5lLWhlaWdodDowfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAub3B0aW9ucy1wYW5lbCAucHJvcC1sYWJlbHN7cGFkZGluZzoxMHB4IDM0cHggMTBweCAxMHB4fS5mb3JtZW8uZm9ybWVvLWVkaXRvciAub3B0aW9ucy1wYW5lbCAucHJvcC1sYWJlbHMgLmlucHV0LWdyb3VwLWFkZG9ue2ZvbnQtc2l6ZToxMnB4fS5mb3JtZW8uZm9ybWVvLWVkaXRvciAub3B0aW9ucy1wYW5lbCAucHJvcC1sYWJlbHMgbGFiZWx7Zm9udC1zaXplOjEycHg7d2lkdGg6NTAlO3Bvc2l0aW9uOnJlbGF0aXZlO2Rpc3BsYXk6dGFibGUtY2VsbH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLm9wdGlvbnMtcGFuZWwgLnByb3AtbGFiZWwtZGlzYWJsZWQsLmZvcm1lby5mb3JtZW8tZWRpdG9yIC5vcHRpb25zLXBhbmVsIC5wcm9wLWxhYmVsLXNlbGVjdGVke3dpZHRoOjElIWltcG9ydGFudDt3aGl0ZS1zcGFjZTpub3dyYXA7dmVydGljYWwtYWxpZ246bWlkZGxlO2JvcmRlcjowIG5vbmU7YmFja2dyb3VuZC1jb2xvcjp0cmFuc3BhcmVudH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnBhbmVsLWFjdGlvbi1idXR0b25ze3BhZGRpbmc6MCAxMHB4IDEwcHh9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5wYW5lbC1hY3Rpb24tYnV0dG9uczphZnRlcntjb250ZW50OlxcXCJcXFwiO2Rpc3BsYXk6dGFibGU7Y2xlYXI6Ym90aH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnBhbmVsLWFjdGlvbi1idXR0b25zIFtjbGFzc149YWRkLV17ZmxvYXQ6cmlnaHR9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5wYW5lbHMtd3JhcCBoNXttYXJnaW46MDtwYWRkaW5nOi41NWVtIDA7Y29sb3I6IzY2Njtmb250LXdlaWdodDo0MDA7ZGlzcGxheTppbmxpbmUtYmxvY2s7d2lkdGg6MTAwJX0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnBhbmVscy13cmFwIG5hdntwb3NpdGlvbjpyZWxhdGl2ZTtwYWRkaW5nOjA7b3ZlcmZsb3c6aGlkZGVufS5mb3JtZW8uZm9ybWVvLWVkaXRvciAucGFuZWxzLXdyYXAgbmF2IGJ1dHRvbntwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDoyNHB4O2NvbG9yOiMwMDA7aGVpZ2h0OjEwMCU7cGFkZGluZzowO2xpbmUtaGVpZ2h0OjA7ei1pbmRleDoxfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAucGFuZWxzLXdyYXAgbmF2IGJ1dHRvbjpmb2N1c3tvdXRsaW5lOm5vbmU7Ym9yZGVyOjFweCBzb2xpZCAjNjZhZmU5O2JveC1zaGFkb3c6bm9uZX0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnBhbmVscy13cmFwIG5hdiBidXR0b24gLnN2Zy1pY29ue3dpZHRoOjIwcHg7aGVpZ2h0OjIwcHh9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5wYW5lbHMtd3JhcCBuYXYgYnV0dG9uLm5leHQtZ3JvdXB7cmlnaHQ6MDt0b3A6MDtib3JkZXItdG9wLWxlZnQtcmFkaXVzOjA7Ym9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czowfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAucGFuZWxzLXdyYXAgbmF2IGJ1dHRvbi5wcmV2LWdyb3Vwe2xlZnQ6MDt0b3A6MDtib3JkZXItdG9wLXJpZ2h0LXJhZGl1czowO2JvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOjB9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5wYW5lbHMtd3JhcCAuZi1wYW5lbHt2ZXJ0aWNhbC1hbGlnbjp0b3A7ZGlzcGxheTppbmxpbmUtYmxvY2s7d2lkdGg6MTAwJTstbXMtZmxleC1kaXJlY3Rpb246Y29sdW1uO2ZsZXgtZGlyZWN0aW9uOmNvbHVtbjstbXMtZmxleDoxIDAgMTAwJTtmbGV4OjEgMCAxMDAlfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAucGFuZWxzLXdyYXAgLmYtcGFuZWw+bGk6bGFzdC1jaGlsZHtib3JkZXItcmFkaXVzOjAgMCA1cHggNXB4fS5mb3JtZW8uZm9ybWVvLWVkaXRvciAucGFuZWxzLXdyYXAgLnBhbmVsc3t3aGl0ZS1zcGFjZTpub3dyYXA7dHJhbnNpdGlvbi1wcm9wZXJ0eTp0cmFuc2Zvcm0saGVpZ2h0O3RyYW5zaXRpb24tZHVyYXRpb246LjE1czt0cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbjplYXNlLWluLW91dDt3aWxsLWNoYW5nZTp0cmFuc2Zvcm07LW1zLWZsZXgtZGlyZWN0aW9uOnJvdztmbGV4LWRpcmVjdGlvbjpyb3d9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5wYW5lbHMtd3JhcCAucGFuZWwtbGFiZWxze2hlaWdodDoxMDAlO2JhY2tncm91bmQ6I2ZmZjtvdmVyZmxvdzpoaWRkZW47dGV4dC1hbGlnbjpjZW50ZXJ9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5wYW5lbHMtd3JhcCAucGFuZWwtbGFiZWxzIGRpdnt0cmFuc2l0aW9uOnRyYW5zZm9ybSAuMTVzIGVhc2UtaW4tb3V0O3dpbGwtY2hhbmdlOnRyYW5zZm9ybTt3aGl0ZS1zcGFjZTpub3dyYXB9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC50YWJiZWQtcGFuZWxzIC5wYW5lbC1uYXZ7aGVpZ2h0OmF1dG99LmZvcm1lby5mb3JtZW8tZWRpdG9yIC50YWJiZWQtcGFuZWxzIC5wYW5lbC1uYXYgYnV0dG9ue2Rpc3BsYXk6bm9uZX0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnRhYmJlZC1wYW5lbHMgLnBhbmVsc3t0cmFuc2l0aW9uOm5vbmV9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC50YWJiZWQtcGFuZWxzIC5mLXBhbmVse2JhY2tncm91bmQtY29sb3I6I2ZmZn0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnRhYmJlZC1wYW5lbHMgLnBhbmVsLWxhYmVscyBkaXZ7LW1zLWZsZXgtZGlyZWN0aW9uOnJvdztmbGV4LWRpcmVjdGlvbjpyb3c7LW1zLWZsZXgtcGFjazpzdGFydDtqdXN0aWZ5LWNvbnRlbnQ6ZmxleC1zdGFydDstbXMtZmxleC13cmFwOm5vd3JhcDtmbGV4LXdyYXA6bm93cmFwOy1tcy1mbGV4LWxpbmUtcGFjazpzdHJldGNoO2FsaWduLWNvbnRlbnQ6c3RyZXRjaDstbXMtZmxleC1hbGlnbjpzdHJldGNoO2FsaWduLWl0ZW1zOnN0cmV0Y2g7ZGlzcGxheTotbXMtZmxleGJveDtkaXNwbGF5OmZsZXh9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC50YWJiZWQtcGFuZWxzIC5wYW5lbC1sYWJlbHMgaDV7LW1zLWZsZXgtZGlyZWN0aW9uOmNvbHVtbjtmbGV4LWRpcmVjdGlvbjpjb2x1bW47LW1zLWZsZXg6MTtmbGV4OjE7Y3Vyc29yOnBvaW50ZXI7YmFja2dyb3VuZC1jb2xvcjojY2NjO2JveC1zaGFkb3c6aW5zZXQgMCAtMXB4IDZweCAjOTk5fS5mb3JtZW8uZm9ybWVvLWVkaXRvciAudGFiYmVkLXBhbmVscyAucGFuZWwtbGFiZWxzIGg1LmFjdGl2ZS10YWJ7Y29sb3I6IzAwMDtib3gtc2hhZG93Om5vbmU7YmFja2dyb3VuZC1jb2xvcjojZmZmfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2Utd3JhcHtwb3NpdGlvbjpyZWxhdGl2ZTtmbG9hdDpsZWZ0O3dpZHRoOmNhbGMoNzQlIC0gNXB4KTtib3gtc2l6aW5nOmJvcmRlci1ib3g7dHJhbnNpdGlvbjp3aWR0aCAuMjVzO21hcmdpbi1yaWdodDo1cHh9QG1lZGlhIChtYXgtd2lkdGg6NDgxcHgpey5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2Utd3JhcHt3aWR0aDpjYWxjKDEwMCUgLSA1MHB4KX19LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5zdGFnZS13cmFwIC5zdGFnZXttaW4taGVpZ2h0OjQ1MHB4O3RyYW5zaXRpb24tcHJvcGVydHk6YmFja2dyb3VuZC1jb2xvcixib3JkZXItY29sb3I7dHJhbnNpdGlvbi1kdXJhdGlvbjouNXMsMzMzbXM7Ym9yZGVyOjAgZGFzaGVkIHRyYW5zcGFyZW50O2JhY2tncm91bmQtY29sb3I6aHNsYSgwLDAlLDEwMCUsMCk7cGFkZGluZy1sZWZ0OjIzcHg7cGFkZGluZy1ib3R0b206MTVweDtvdmVyZmxvdzp2aXNpYmxlfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2Utd3JhcCAuc3RhZ2UuZW1wdHktc3RhZ2Vze2JvcmRlcjozcHggZGFzaGVkICNjY2M7YmFja2dyb3VuZC1jb2xvcjpoc2xhKDAsMCUsMTAwJSwuMjUpfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2Utd3JhcCAuc3RhZ2UucmVtb3ZpbmctYWxsLWZpZWxkcyAuc3RhZ2Utcm93c3t0cmFuc2l0aW9uOm1hcmdpbi10b3AgLjI1cyBlYXNlLWlufS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2Utd3JhcC5lZGl0aW5nLXN0YWdlIC5mb3JtZW8tc2V0dGluZ3N7ZGlzcGxheTpibG9ja30uZm9ybWVvLmZvcm1lby1lZGl0b3IgLnN0YWdlLXdyYXAuZWRpdGluZy1zdGFnZSAuc3RhZ2V7ZGlzcGxheTpub25lfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuc3RhZ2Utd3JhcCAuZi1maWVsZC1ncm91cHttYXJnaW4tYm90dG9tOjB9LmZvcm1lby5mb3JtZW8tZWRpdG9yIFtjbGFzcyo9ZW1wdHktXVtjbGFzcyo9ZWRpdGluZy1dOmFmdGVye29wYWNpdHk6MH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgW2NsYXNzKj1lbXB0eS1dOmFmdGVye29wYWNpdHk6MTtmb250LXNpemU6MjRweDtwb3NpdGlvbjphYnNvbHV0ZTt0b3A6NTAlO2xlZnQ6NTAlO2NvbG9yOiM5OTk7dHJhbnNpdGlvbjpvcGFjaXR5IC4ycyBlYXNlLWluLW91dDt3aWxsLWNoYW5nZTpvcGFjaXR5O3RleHQtYWxpZ246Y2VudGVyO3RyYW5zZm9ybTp0cmFuc2xhdGUoLTUwJSwtNTAlKTtjb250ZW50OmF0dHIoZGF0YS1ob3Zlci10YWcpfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZm9ybWVvLXNldHRpbmdze2Rpc3BsYXk6bm9uZX0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1jb250cm9sc3tmbG9hdDpyaWdodDt3aWR0aDoyNiU7b3ZlcmZsb3c6aGlkZGVufS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZm9ybWVvLWNvbnRyb2xzLnB1bGwtbGVmdCAuZm9ybS1hY3Rpb25ze2Zsb2F0OmxlZnR9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5mb3JtZW8tY29udHJvbHMgLmZpbHRlcmVkLXRlcm17YmFja2dyb3VuZC1jb2xvcjojZmZmO3RleHQtYWxpZ246Y2VudGVyO2JvcmRlci1yYWRpdXM6M3B4IDNweCAwIDA7Ym9yZGVyOjFweCBzb2xpZCAjY2NjO2JvcmRlci1ib3R0b206MCBub25lO3dpZHRoOmNhbGMoMTAwJSAtIDJweCl9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5mb3JtZW8tY29udHJvbHMgbmF2e3Bvc2l0aW9uOnJlbGF0aXZlO3BhZGRpbmc6MCAyNHB4O292ZXJmbG93OmhpZGRlbn0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1jb250cm9scyBuYXYgaDV7Zm9udC1zaXplOjEzcHg7bGluZS1oZWlnaHQ6MjJweH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1jb250cm9scyBuYXYgYnV0dG9ue3Bvc2l0aW9uOmFic29sdXRlO3dpZHRoOjI0cHg7Y29sb3I6IzAwMDtoZWlnaHQ6Y2FsYygxMDAlICsgMXB4KTtwYWRkaW5nOjA7bGluZS1oZWlnaHQ6MDttYXJnaW46MDtib3JkZXItY29sb3I6I2NjY30uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1jb250cm9scyBuYXYgYnV0dG9uLm5leHQtZ3JvdXB7cmlnaHQ6MDt0b3A6MDtib3JkZXItdG9wLWxlZnQtcmFkaXVzOjA7Ym9yZGVyLXRvcC1yaWdodC1yYWRpdXM6NnB4O2JvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6MDtib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czowfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZm9ybWVvLWNvbnRyb2xzIG5hdiBidXR0b24ucHJldi1ncm91cHtib3JkZXItdG9wLWxlZnQtcmFkaXVzOjZweDtib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOjB9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5mb3JtZW8tY29udHJvbHMgLnBhbmVscy13cmFwe2ZvbnQtc2l6ZTouODVlbTtsaW5lLWhlaWdodDoxLjhlbX0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1jb250cm9scyAucGFuZWwtbGFiZWxze2JvcmRlci10b3A6MXB4IHNvbGlkICNjY2N9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5mb3JtZW8tY29udHJvbHMgLnBhbmVsLWNvdW50LTF7Ym9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czowfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZm9ybWVvLWNvbnRyb2xzIC5wYW5lbC1jb3VudC0xIC5wYW5lbC1uYXZ7ZGlzcGxheTpub25lfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZm9ybWVvLWNvbnRyb2xzIC5wYW5lbC1jb3VudC0xIC5jb250cm9sLWdyb3VwIGxpOmZpcnN0LWNoaWxke2JvcmRlci1yYWRpdXM6NnB4IDZweCAwIDB9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5mb3JtZW8tY29udHJvbHMgLmNvbnRyb2wtZ3JvdXB7dmVydGljYWwtYWxpZ246dG9wO2Rpc3BsYXk6aW5saW5lLWJsb2NrO3dpZHRoOjEwMCU7Ym9yZGVyLXRvcDoxcHggc29saWQgI2NjY30uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1jb250cm9scyAuY29udHJvbC1ncm91cD5saTpmaXJzdC1jaGlsZHtib3JkZXItdG9wLXJpZ2h0LXJhZGl1czowfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZm9ybWVvLWNvbnRyb2xzIC5jb250cm9sLWdyb3VwPmxpOmxhc3QtY2hpbGR7Ym9yZGVyLXJhZGl1czowIDAgNnB4IDZweH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1jb250cm9scy5maWx0ZXJlZCAucGFuZWwtbmF2e2Rpc3BsYXk6bm9uZX0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1jb250cm9scy5maWx0ZXJlZCAuY29udHJvbC1ncm91cHtkaXNwbGF5OmJsb2NrfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZm9ybWVvLWNvbnRyb2xzLmZpbHRlcmVkIC5jb250cm9sLWdyb3VwPmxpe2JvcmRlci1yYWRpdXM6MH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1jb250cm9scy5maWx0ZXJlZCAuY29udHJvbC1ncm91cDpsYXN0LWNoaWxkPmxpOmxhc3QtY2hpbGR7Ym9yZGVyLXJhZGl1czowIDAgMCAzcHh9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5mb3JtZW8tY29udHJvbHMgLmNvbnRyb2wtZ3JvdXBze3doaXRlLXNwYWNlOm5vd3JhcH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1jb250cm9scyAuY29udHJvbC1ncm91cC1sYWJlbHN7aGVpZ2h0OjEwMCU7YmFja2dyb3VuZDojZmZmO292ZXJmbG93OmhpZGRlbn0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1jb250cm9scyAuY29udHJvbC1ncm91cC1sYWJlbHMgZGl2e3doaXRlLXNwYWNlOm5vd3JhcH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1jb250cm9scyAuY29udHJvbC1ncm91cC1sYWJlbHMgaDR7ZGlzcGxheTppbmxpbmUtYmxvY2s7d2lkdGg6MTAwJX0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1jb250cm9scyAuZm9ybS1hY3Rpb25ze2Zsb2F0OnJpZ2h0O21hcmdpbi10b3A6NXB4fS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZm9ybWVvLWNvbnRyb2xzIC5mb3JtLWFjdGlvbnMgLnN2Zy1pY29ue2ZpbGw6IzY2NjtkaXNwbGF5Om5vbmV9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5mb3JtZW8tY29udHJvbHMgLmZvcm0tYWN0aW9ucyAuc3ZnLWljb246aG92ZXJ7ZmlsbDojMDAwfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZm9ybWVvLWNvbnRyb2xzIC5mb3JtLWFjdGlvbnMgLmNsZWFyLWZvcm06aG92ZXIsLmZvcm1lby5mb3JtZW8tZWRpdG9yIC5mb3JtZW8tY29udHJvbHMgLmZvcm0tYWN0aW9ucyAuc2F2ZS1mb3JtOmhvdmVye2NvbG9yOiNmZmZ9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5mb3JtZW8tY29udHJvbHMgLmZvcm0tYWN0aW9ucyAuc2F2ZS1mb3JtOmhvdmVye2JhY2tncm91bmQtY29sb3I6IzMyNWQ4OH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1jb250cm9scyAuZm9ybS1hY3Rpb25zIC5jbGVhci1mb3JtOmhvdmVye2JhY2tncm91bmQtY29sb3I6I2Q5NTM0Zn1AbWVkaWEgKG1heC13aWR0aDo0ODFweCl7LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5mb3JtZW8tY29udHJvbHN7d2lkdGg6NDVweH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1jb250cm9scyAuY29udHJvbC1ncm91cHt0ZXh0LWluZGVudDotOTk5OXB4fS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZm9ybWVvLWNvbnRyb2xzIC5mb3JtLWFjdGlvbnN7ZGlzcGxheTppbmxpbmUtYmxvY2s7d2lkdGg6MTAwJTtwb3NpdGlvbjpyZWxhdGl2ZTt2ZXJ0aWNhbC1hbGlnbjptaWRkbGU7ZmxvYXQ6bm9uZTttYXJnaW4tdG9wOjEwcHh9LmZvcm1lby5mb3JtZW8tZWRpdG9yIC5mb3JtZW8tY29udHJvbHMgLmZvcm0tYWN0aW9ucz5idXR0b24rYnV0dG9ue21hcmdpbi10b3A6LTFweDttYXJnaW4tbGVmdDowfS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZm9ybWVvLWNvbnRyb2xzIC5mb3JtLWFjdGlvbnM+YnV0dG9ue21heC13aWR0aDoxMDAlO3BhZGRpbmc6MTBweDtib3JkZXItcmFkaXVzOjA7bGluZS1oZWlnaHQ6MDt3aWR0aDoxMDAlO2Zsb2F0Om5vbmU7cG9zaXRpb246cmVsYXRpdmU7ZGlzcGxheTpibG9ja30uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1jb250cm9scyAuZm9ybS1hY3Rpb25zPmJ1dHRvbjpub3QoOmZpcnN0LWNoaWxkKTpub3QoOmxhc3QtY2hpbGQpe2JvcmRlci1yYWRpdXM6MH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1jb250cm9scyAuZm9ybS1hY3Rpb25zPmJ1dHRvbjpmaXJzdC1jaGlsZDpub3QoOmxhc3QtY2hpbGQpe2JvcmRlci10b3AtcmlnaHQtcmFkaXVzOjNweDtib3JkZXItdG9wLWxlZnQtcmFkaXVzOjNweDtib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czowO2JvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6MH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1jb250cm9scyAuZm9ybS1hY3Rpb25zPmJ1dHRvbjpsYXN0LWNoaWxkOm5vdCg6Zmlyc3QtY2hpbGQpe2JvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6M3B4O2JvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOjNweDtib3JkZXItdG9wLXJpZ2h0LXJhZGl1czowO2JvcmRlci10b3AtbGVmdC1yYWRpdXM6MH0uZm9ybWVvLmZvcm1lby1lZGl0b3IgLmZvcm1lby1jb250cm9scyAuZm9ybS1hY3Rpb25zIC5nbHlwaGljb24sLmZvcm1lby5mb3JtZW8tZWRpdG9yIC5mb3JtZW8tY29udHJvbHMgLmZvcm0tYWN0aW9ucyAuc3ZnLWljb257ZGlzcGxheTppbmxpbmUtYmxvY2s7bWFyZ2luLXJpZ2h0OjEwcHh9fS5mb3JtZW8uZm9ybWVvLWVkaXRvciAuZm9ybWVvLWNvbnRyb2xzIC5maWVsZC1jb250cm9sIC5zdmctaWNvbntwb2ludGVyLWV2ZW50czpub25lfS5mb3JtZW8uZm9ybWVvLWVkaXRvcltkaXI9cnRsXSBpbnB1dFt0eXBlPWNoZWNrYm94XSsuY2hlY2thYmxlOmFmdGVyLC5mb3JtZW8uZm9ybWVvLWVkaXRvcltkaXI9cnRsXSBpbnB1dFt0eXBlPWNoZWNrYm94XSsuY2hlY2thYmxlOmJlZm9yZSwuZm9ybWVvLmZvcm1lby1lZGl0b3JbZGlyPXJ0bF0gaW5wdXRbdHlwZT1yYWRpb10rLmNoZWNrYWJsZTphZnRlciwuZm9ybWVvLmZvcm1lby1lZGl0b3JbZGlyPXJ0bF0gaW5wdXRbdHlwZT1yYWRpb10rLmNoZWNrYWJsZTpiZWZvcmV7cmlnaHQ6MDtsZWZ0OmF1dG99LmZvcm1lby5mb3JtZW8tZWRpdG9yW2Rpcj1ydGxdIC5mLWJ0bi1ncm91cHtkaXNwbGF5Oi1tcy1pbmxpbmUtZmxleGJveDtkaXNwbGF5OmlubGluZS1mbGV4O3ZlcnRpY2FsLWFsaWduOm1pZGRsZX0uZm9ybWVvLmZvcm1lby1lZGl0b3JbZGlyPXJ0bF0gLmYtYnRuLWdyb3VwPmJ1dHRvbnstbXMtZmxleDowIDEgYXV0bztmbGV4OjAgMSBhdXRvfS5mb3JtZW8uZm9ybWVvLWVkaXRvcltkaXI9cnRsXSAuZi1idG4tZ3JvdXA+YnV0dG9uOm5vdCg6Zmlyc3QtY2hpbGQpOm5vdCg6bGFzdC1jaGlsZCk6bm90KC5kcm9wZG93bi10b2dnbGUpe2JvcmRlci1yYWRpdXM6MH0uZm9ybWVvLmZvcm1lby1lZGl0b3JbZGlyPXJ0bF0gLmYtYnRuLWdyb3VwPmJ1dHRvbjpsYXN0LWNoaWxkOm5vdCg6Zmlyc3QtY2hpbGQpOm5vdCguZHJvcGRvd24tdG9nZ2xlKXtib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czowO2JvcmRlci10b3AtcmlnaHQtcmFkaXVzOjA7Ym9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czozcHg7Ym9yZGVyLXRvcC1sZWZ0LXJhZGl1czozcHh9LmZvcm1lby5mb3JtZW8tZWRpdG9yW2Rpcj1ydGxdIC5mLWJ0bi1ncm91cD5idXR0b246Zmlyc3QtY2hpbGR7bWFyZ2luLWxlZnQ6MH0uZm9ybWVvLmZvcm1lby1lZGl0b3JbZGlyPXJ0bF0gLmYtYnRuLWdyb3VwPmJ1dHRvbjpmaXJzdC1jaGlsZDpub3QoOmxhc3QtY2hpbGQpOm5vdCguZHJvcGRvd24tdG9nZ2xlKXtib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOjA7Ym9yZGVyLXRvcC1sZWZ0LXJhZGl1czowO2JvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOjNweDtib3JkZXItdG9wLXJpZ2h0LXJhZGl1czozcHh9LmZvcm1lby5mb3JtZW8tZWRpdG9yW2Rpcj1ydGxdIC5mLWJ0bi1ncm91cCAuZi1idG4tZ3JvdXArLmYtYnRuLWdyb3VwLC5mb3JtZW8uZm9ybWVvLWVkaXRvcltkaXI9cnRsXSAuZi1idG4tZ3JvdXAgLmYtYnRuLWdyb3VwK2J1dHRvbiwuZm9ybWVvLmZvcm1lby1lZGl0b3JbZGlyPXJ0bF0gLmYtYnRuLWdyb3VwIC5mLWJ0bi1ncm91cC12ZXJ0aWNhbCAuZi1idG4tZ3JvdXArLmYtYnRuLWdyb3VwLC5mb3JtZW8uZm9ybWVvLWVkaXRvcltkaXI9cnRsXSAuZi1idG4tZ3JvdXAgLmYtYnRuLWdyb3VwLXZlcnRpY2FsIC5mLWJ0bi1ncm91cCtidXR0b24sLmZvcm1lby5mb3JtZW8tZWRpdG9yW2Rpcj1ydGxdIC5mLWJ0bi1ncm91cCAuZi1idG4tZ3JvdXAtdmVydGljYWwgYnV0dG9uKy5mLWJ0bi1ncm91cCwuZm9ybWVvLmZvcm1lby1lZGl0b3JbZGlyPXJ0bF0gLmYtYnRuLWdyb3VwIC5mLWJ0bi1ncm91cC12ZXJ0aWNhbCBidXR0b24rYnV0dG9uLC5mb3JtZW8uZm9ybWVvLWVkaXRvcltkaXI9cnRsXSAuZi1idG4tZ3JvdXAgYnV0dG9uKy5mLWJ0bi1ncm91cCwuZm9ybWVvLmZvcm1lby1lZGl0b3JbZGlyPXJ0bF0gLmYtYnRuLWdyb3VwIGJ1dHRvbitidXR0b257bWFyZ2luLXJpZ2h0Oi0xcHh9LmZvcm1lby5mb3JtZW8tZWRpdG9yW2Rpcj1ydGxdIC5mb3JtZW8tY29udHJvbHMsLmZvcm1lby5mb3JtZW8tZWRpdG9yW2Rpcj1ydGxdIC5mb3JtZW8tY29udHJvbHMgLmZvcm0tYWN0aW9uc3tmbG9hdDpsZWZ0fS5mb3JtZW8uZm9ybWVvLWVkaXRvcltkaXI9cnRsXSAuc3RhZ2Utd3JhcHtmbG9hdDpyaWdodH0uZm9ybWVvLmZvcm1lby1lZGl0b3JbZGlyPXJ0bF0gLnN0YWdlLXdyYXAgLnN0YWdle3BhZGRpbmctbGVmdDo1cHg7cGFkZGluZy1yaWdodDoyM3B4fS5mb3JtZW8uZm9ybWVvLWVkaXRvcltkaXI9cnRsXSAuc3RhZ2Utcm93czpiZWZvcmV7Ym9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czo2cHg7Ym9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6MDtyaWdodDowO2xlZnQ6YXV0b30uZm9ybWVvLmZvcm1lby1lZGl0b3JbZGlyPXJ0bF0gLnN0YWdlLXJvd3M6Zmlyc3QtY2hpbGR7Ym9yZGVyLXRvcC1sZWZ0LXJhZGl1czo1cHg7Ym9yZGVyLXRvcC1yaWdodC1yYWRpdXM6MH0uZm9ybWVvLmZvcm1lby1lZGl0b3JbZGlyPXJ0bF0gLnN0YWdlLXJvd3M6bGFzdC1jaGlsZHtib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOjVweDtib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czo1cHh9LmZvcm1lby5mb3JtZW8tZWRpdG9yW2Rpcj1ydGxdIC5zdGFnZS1yb3dzLmhvdmVyaW5nLXJvdzpmaXJzdC1jaGlsZHtib3JkZXItdG9wLWxlZnQtcmFkaXVzOjB9LmZvcm1lby5mb3JtZW8tZWRpdG9yW2Rpcj1ydGxdIC5zdGFnZS1yb3dzLmhvdmVyaW5nLXJvdy5lZGl0aW5nLXJvdzpiZWZvcmV7Ym9yZGVyLWxlZnQtd2lkdGg6MDtib3JkZXItcmlnaHQtd2lkdGg6YXV0b30uZm9ybWVvLmZvcm1lby1lZGl0b3JbZGlyPXJ0bF0gLnN0YWdlLXJvd3MuaG92ZXJpbmctcm93OmJlZm9yZXtib3JkZXItbGVmdC13aWR0aDoxcHh9LmZvcm1lby5mb3JtZW8tZWRpdG9yW2Rpcj1ydGxdIC5zdGFnZS1yb3dzLmVtcHR5LXJvd3M6YWZ0ZXJ7bGVmdDowO3JpZ2h0OmF1dG99LmZvcm1lby5mb3JtZW8tZWRpdG9yW2Rpcj1ydGxdIC5yb3ctYWN0aW9uc3tyaWdodDotMjNweDtsZWZ0OmF1dG87Ym9yZGVyLXRvcC1yaWdodC1yYWRpdXM6NnB4O2JvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOjZweDtib3JkZXItdG9wLWxlZnQtcmFkaXVzOjA7Ym9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czowO2JvcmRlci1sZWZ0OjFweCBzb2xpZCAjZmZmfS5mb3JtZW8uZm9ybWVvLWVkaXRvcltkaXI9cnRsXSAuZmllbGQtYWN0aW9uc3t0ZXh0LWFsaWduOmxlZnQ7bGVmdDowO3JpZ2h0OmF1dG87Ym9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6M3B4O2JvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6MH0uZm9ybWVvLmZvcm1lby1lZGl0b3JbZGlyPXJ0bF0gLmZpZWxkLWFjdGlvbnMgYnV0dG9uOmZpcnN0LW9mLXR5cGV7bGVmdDowO3JpZ2h0OmF1dG99LmZvcm1lby5mb3JtZW8tZWRpdG9yW2Rpcj1ydGxdIC5maWVsZC1hY3Rpb25zIGJ1dHRvbjpudGgtb2YtdHlwZSgyKXtsZWZ0OjI0cHg7cmlnaHQ6YXV0b30uZm9ybWVvLmZvcm1lby1lZGl0b3JbZGlyPXJ0bF0gLmZpZWxkLWFjdGlvbnMgYnV0dG9uOm50aC1vZi10eXBlKDMpe2xlZnQ6NDhweDtyaWdodDphdXRvfS5mb3JtZW8uZm9ybWVvLWVkaXRvcltkaXI9cnRsXSAuZmllbGQtYWN0aW9ucyBidXR0b246bnRoLW9mLXR5cGUoNCl7bGVmdDo3MnB4O3JpZ2h0OmF1dG99LmZvcm1lby5mb3JtZW8tZWRpdG9yW2Rpcj1ydGxdIC5maWVsZC1hY3Rpb25zIGJ1dHRvbjpudGgtb2YtdHlwZSg1KXtsZWZ0Ojk2cHg7cmlnaHQ6YXV0b30uZm9ybWVvLmZvcm1lby1lZGl0b3JbZGlyPXJ0bF0gLmZpZWxkLWFjdGlvbnMgYnV0dG9uOm50aC1vZi10eXBlKDYpe2xlZnQ6MTIwcHg7cmlnaHQ6YXV0b30uZm9ybWVvLmZvcm1lby1lZGl0b3JbZGlyPXJ0bF0gLmZpZWxkLWFjdGlvbnMgYnV0dG9uOmZpcnN0LWNoaWxke2xlZnQ6MH0uZm9ybWVvLmZvcm1lby1lZGl0b3JbZGlyPXJ0bF0gLnN0YWdlLWZpZWxkcy5lZGl0aW5nLWZpZWxkIC5maWVsZC1hY3Rpb25zLC5mb3JtZW8uZm9ybWVvLWVkaXRvcltkaXI9cnRsXSAuc3RhZ2UtZmllbGRzLmhvdmVyaW5nLWZpZWxkIC5maWVsZC1hY3Rpb25ze2JveC1zaGFkb3c6MXB4IDFweCAxcHggI2NjYztib3JkZXItd2lkdGg6MXB4IDAgMCAxcHh9LmZvcm1lby5mb3JtZW8tcmVuZGVyIC5mLXJvd3ttYXJnaW4tYm90dG9tOjFlbTstbXMtZmxleC1kaXJlY3Rpb246cm93O2ZsZXgtZGlyZWN0aW9uOnJvdzstbXMtZmxleC1wYWNrOnN0YXJ0O2p1c3RpZnktY29udGVudDpmbGV4LXN0YXJ0Oy1tcy1mbGV4LXdyYXA6bm93cmFwO2ZsZXgtd3JhcDpub3dyYXA7LW1zLWZsZXgtbGluZS1wYWNrOnN0cmV0Y2g7YWxpZ24tY29udGVudDpzdHJldGNoOy1tcy1mbGV4LWFsaWduOnN0cmV0Y2g7YWxpZ24taXRlbXM6c3RyZXRjaDtkaXNwbGF5Oi1tcy1mbGV4Ym94O2Rpc3BsYXk6ZmxleDtiYWNrZ3JvdW5kLWNvbG9yOnRyYW5zcGFyZW50O2JvcmRlci1yYWRpdXM6NnB4O3RyYW5zaXRpb246YmFja2dyb3VuZC1jb2xvciAuMnN9LmZvcm1lby5mb3JtZW8tcmVuZGVyIC5mLXJvdy53aWxsLXJlbW92ZXtiYWNrZ3JvdW5kLWNvbG9yOnJnYmEoMjE3LDgzLDc5LC41KTtib3gtc2hhZG93Omluc2V0IDAgMCAzcHggMXB4ICNkOTUzNGZ9LmZvcm1lby5mb3JtZW8tcmVuZGVyIC5mLWlucHV0LWdyb3VwLXdyYXA6YWZ0ZXJ7Y29udGVudDpcXFwiXFxcIjtkaXNwbGF5OnRhYmxlO2NsZWFyOmJvdGh9LmZvcm1lby5mb3JtZW8tcmVuZGVyIC5mLWlucHV0LWdyb3Vwe3Bvc2l0aW9uOnJlbGF0aXZlfS5mb3JtZW8uZm9ybWVvLXJlbmRlciAuZi1pbnB1dC1ncm91cDpmaXJzdC1jaGlsZCAucmVtb3ZlLWlucHV0LWdyb3Vwe2Rpc3BsYXk6bm9uZX0uZm9ybWVvLmZvcm1lby1yZW5kZXIgLmFkZC1pbnB1dC1ncm91cHtmbG9hdDpyaWdodDttYXJnaW4tdG9wOjEwcHh9LmZvcm1lby5mb3JtZW8tcmVuZGVyIC5yZW1vdmUtaW5wdXQtZ3JvdXB7cG9zaXRpb246YWJzb2x1dGU7bGVmdDotMzJweDt0cmFuc2Zvcm06dHJhbnNsYXRlWSgtNTAlKTt3aWR0aDozMnB4O2hlaWdodDozMnB4O3RvcDo1MCU7Ym9yZGVyOjAgbm9uZTtiYWNrZ3JvdW5kOnRyYW5zcGFyZW50O291dGxpbmU6MCBub25lO2xpbmUtaGVpZ2h0OjB9LmZvcm1lby5mb3JtZW8tcmVuZGVyIC5yZW1vdmUtaW5wdXQtZ3JvdXA6aG92ZXIgLnN2Zy1pY29ue2ZpbGw6I2Q5NTM0Zn0uZm9ybWVvLmZvcm1lby1yZW5kZXIgLnJlbW92ZS1pbnB1dC1ncm91cCAuc3ZnLWljb257cG9pbnRlci1ldmVudHM6bm9uZX0uZm9ybWVvLmZvcm1lby1yZW5kZXIgLmZvcm0tY2hlY2staW5wdXQ6b25seS1jaGlsZHtwb3NpdGlvbjphYnNvbHV0ZX0uZm9ybWVvLmZvcm1lby1yZW5kZXIgLnN2Zy1pY29ue21heC13aWR0aDoxMDAlO21heC1oZWlnaHQ6MTAwJX0uZm9ybWVvLmZvcm1lby1yZW5kZXIgLmYtcmVuZGVyLWNvbHVtbntwYWRkaW5nOjAgNXB4O2Zsb2F0OmxlZnQ7ZGlzcGxheTppbmxpbmUtYmxvY2s7bWF4LXdpZHRoOm5vbmU7LW1zLWZsZXgtZGlyZWN0aW9uOmNvbHVtbjtmbGV4LWRpcmVjdGlvbjpjb2x1bW47LW1zLWZsZXg6YXV0bztmbGV4OmF1dG99LmZpZWxkLWNvbnRyb2wgLnN2Zy1pY29ue3BvaW50ZXItZXZlbnRzOm5vbmV9XCIsIFwiXCJdKTtcblxuLy8gZXhwb3J0c1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gL2hvbWUvaWdvci9kZXZlbG9wbWVudC9vcGVuc291cmNlL2Zvcm1lby9+L2Nzcy1sb2FkZXI/e1wibWluaW1pemVcIjp0cnVlLFwic291cmNlTWFwc1wiOnRydWV9IS9ob21lL2lnb3IvZGV2ZWxvcG1lbnQvb3BlbnNvdXJjZS9mb3JtZW8vfi9wb3N0Y3NzLWxvYWRlcj97XCJwbHVnaW5zXCI6W251bGxdfSEvaG9tZS9pZ29yL2RldmVsb3BtZW50L29wZW5zb3VyY2UvZm9ybWVvL34vc2Fzcy1sb2FkZXIvbGliL2xvYWRlci5qcz97XCJzb3VyY2VNYXBzXCI6dHJ1ZX0hL2hvbWUvaWdvci9kZXZlbG9wbWVudC9vcGVuc291cmNlL2Zvcm1lby9zcmMvc2Fzcy9mb3JtZW8uc2Nzc1xuLy8gbW9kdWxlIGlkID0gMTdcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///17\n')},function(module,exports){eval('/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\nmodule.exports = function() {\n\tvar list = [];\n\n\t// return the list of modules as css string\n\tlist.toString = function toString() {\n\t\tvar result = [];\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar item = this[i];\n\t\t\tif(item[2]) {\n\t\t\t\tresult.push("@media " + item[2] + "{" + item[1] + "}");\n\t\t\t} else {\n\t\t\t\tresult.push(item[1]);\n\t\t\t}\n\t\t}\n\t\treturn result.join("");\n\t};\n\n\t// import a list of modules into the list\n\tlist.i = function(modules, mediaQuery) {\n\t\tif(typeof modules === "string")\n\t\t\tmodules = [[null, modules, ""]];\n\t\tvar alreadyImportedModules = {};\n\t\tfor(var i = 0; i < this.length; i++) {\n\t\t\tvar id = this[i][0];\n\t\t\tif(typeof id === "number")\n\t\t\t\talreadyImportedModules[id] = true;\n\t\t}\n\t\tfor(i = 0; i < modules.length; i++) {\n\t\t\tvar item = modules[i];\n\t\t\t// skip already imported module\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\n\t\t\t//  when a module is imported multiple times with different media queries.\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\n\t\t\tif(typeof item[0] !== "number" || !alreadyImportedModules[item[0]]) {\n\t\t\t\tif(mediaQuery && !item[2]) {\n\t\t\t\t\titem[2] = mediaQuery;\n\t\t\t\t} else if(mediaQuery) {\n\t\t\t\t\titem[2] = "(" + item[2] + ") and (" + mediaQuery + ")";\n\t\t\t\t}\n\t\t\t\tlist.push(item);\n\t\t\t}\n\t\t}\n\t};\n\treturn list;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvaWdvci9kZXZlbG9wbWVudC9vcGVuc291cmNlL2Zvcm1lby9+L2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzP2Y3N2QiXSwic291cmNlc0NvbnRlbnQiOlsiLypcblx0TUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcblx0QXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbi8vIGNzcyBiYXNlIGNvZGUsIGluamVjdGVkIGJ5IHRoZSBjc3MtbG9hZGVyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuXHR2YXIgbGlzdCA9IFtdO1xuXG5cdC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcblx0bGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuXHRcdHZhciByZXN1bHQgPSBbXTtcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGl0ZW0gPSB0aGlzW2ldO1xuXHRcdFx0aWYoaXRlbVsyXSkge1xuXHRcdFx0XHRyZXN1bHQucHVzaChcIkBtZWRpYSBcIiArIGl0ZW1bMl0gKyBcIntcIiArIGl0ZW1bMV0gKyBcIn1cIik7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXN1bHQucHVzaChpdGVtWzFdKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIHJlc3VsdC5qb2luKFwiXCIpO1xuXHR9O1xuXG5cdC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG5cdGxpc3QuaSA9IGZ1bmN0aW9uKG1vZHVsZXMsIG1lZGlhUXVlcnkpIHtcblx0XHRpZih0eXBlb2YgbW9kdWxlcyA9PT0gXCJzdHJpbmdcIilcblx0XHRcdG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIFwiXCJdXTtcblx0XHR2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuXHRcdGZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaWQgPSB0aGlzW2ldWzBdO1xuXHRcdFx0aWYodHlwZW9mIGlkID09PSBcIm51bWJlclwiKVxuXHRcdFx0XHRhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG5cdFx0fVxuXHRcdGZvcihpID0gMDsgaSA8IG1vZHVsZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdHZhciBpdGVtID0gbW9kdWxlc1tpXTtcblx0XHRcdC8vIHNraXAgYWxyZWFkeSBpbXBvcnRlZCBtb2R1bGVcblx0XHRcdC8vIHRoaXMgaW1wbGVtZW50YXRpb24gaXMgbm90IDEwMCUgcGVyZmVjdCBmb3Igd2VpcmQgbWVkaWEgcXVlcnkgY29tYmluYXRpb25zXG5cdFx0XHQvLyAgd2hlbiBhIG1vZHVsZSBpcyBpbXBvcnRlZCBtdWx0aXBsZSB0aW1lcyB3aXRoIGRpZmZlcmVudCBtZWRpYSBxdWVyaWVzLlxuXHRcdFx0Ly8gIEkgaG9wZSB0aGlzIHdpbGwgbmV2ZXIgb2NjdXIgKEhleSB0aGlzIHdheSB3ZSBoYXZlIHNtYWxsZXIgYnVuZGxlcylcblx0XHRcdGlmKHR5cGVvZiBpdGVtWzBdICE9PSBcIm51bWJlclwiIHx8ICFhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG5cdFx0XHRcdGlmKG1lZGlhUXVlcnkgJiYgIWl0ZW1bMl0pIHtcblx0XHRcdFx0XHRpdGVtWzJdID0gbWVkaWFRdWVyeTtcblx0XHRcdFx0fSBlbHNlIGlmKG1lZGlhUXVlcnkpIHtcblx0XHRcdFx0XHRpdGVtWzJdID0gXCIoXCIgKyBpdGVtWzJdICsgXCIpIGFuZCAoXCIgKyBtZWRpYVF1ZXJ5ICsgXCIpXCI7XG5cdFx0XHRcdH1cblx0XHRcdFx0bGlzdC5wdXNoKGl0ZW0pO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcblx0cmV0dXJuIGxpc3Q7XG59O1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gL2hvbWUvaWdvci9kZXZlbG9wbWVudC9vcGVuc291cmNlL2Zvcm1lby9+L2Nzcy1sb2FkZXIvbGliL2Nzcy1iYXNlLmpzXG4vLyBtb2R1bGUgaWQgPSAxOFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///18\n')},function(module,exports,__webpack_require__){eval('// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(/*! !../../~/css-loader??ref--3-2!../../~/postcss-loader??ref--3-3!../../~/sass-loader/lib/loader.js??ref--3-4!./formeo.scss */ 17);\nif(typeof content === \'string\') content = [[module.i, content, \'\']];\n// add the styles to the DOM\nvar update = __webpack_require__(/*! ../../~/style-loader/addStyles.js */ 21)(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept("!!../../node_modules/css-loader/index.js??ref--3-2!../../node_modules/postcss-loader/index.js??ref--3-3!../../node_modules/sass-loader/lib/loader.js??ref--3-4!./formeo.scss", function() {\n\t\t\tvar newContent = require("!!../../node_modules/css-loader/index.js??ref--3-2!../../node_modules/postcss-loader/index.js??ref--3-3!../../node_modules/sass-loader/lib/loader.js??ref--3-4!./formeo.scss");\n\t\t\tif(typeof newContent === \'string\') newContent = [[module.id, newContent, \'\']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvaWdvci9kZXZlbG9wbWVudC9vcGVuc291cmNlL2Zvcm1lby9zcmMvc2Fzcy9mb3JtZW8uc2Nzcz8wNjlhIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHN0eWxlLWxvYWRlcjogQWRkcyBzb21lIGNzcyB0byB0aGUgRE9NIGJ5IGFkZGluZyBhIDxzdHlsZT4gdGFnXG5cbi8vIGxvYWQgdGhlIHN0eWxlc1xudmFyIGNvbnRlbnQgPSByZXF1aXJlKFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcz8/cmVmLS0zLTIhLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzPz9yZWYtLTMtMyEuLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvbGliL2xvYWRlci5qcz8/cmVmLS0zLTQhLi9mb3JtZW8uc2Nzc1wiKTtcbmlmKHR5cGVvZiBjb250ZW50ID09PSAnc3RyaW5nJykgY29udGVudCA9IFtbbW9kdWxlLmlkLCBjb250ZW50LCAnJ11dO1xuLy8gYWRkIHRoZSBzdHlsZXMgdG8gdGhlIERPTVxudmFyIHVwZGF0ZSA9IHJlcXVpcmUoXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9hZGRTdHlsZXMuanNcIikoY29udGVudCwge30pO1xuaWYoY29udGVudC5sb2NhbHMpIG1vZHVsZS5leHBvcnRzID0gY29udGVudC5sb2NhbHM7XG4vLyBIb3QgTW9kdWxlIFJlcGxhY2VtZW50XG5pZihtb2R1bGUuaG90KSB7XG5cdC8vIFdoZW4gdGhlIHN0eWxlcyBjaGFuZ2UsIHVwZGF0ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdGlmKCFjb250ZW50LmxvY2Fscykge1xuXHRcdG1vZHVsZS5ob3QuYWNjZXB0KFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9pbmRleC5qcz8/cmVmLS0zLTIhLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rjc3MtbG9hZGVyL2luZGV4LmpzPz9yZWYtLTMtMyEuLi8uLi9ub2RlX21vZHVsZXMvc2Fzcy1sb2FkZXIvbGliL2xvYWRlci5qcz8/cmVmLS0zLTQhLi9mb3JtZW8uc2Nzc1wiLCBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBuZXdDb250ZW50ID0gcmVxdWlyZShcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvaW5kZXguanM/P3JlZi0tMy0yIS4uLy4uL25vZGVfbW9kdWxlcy9wb3N0Y3NzLWxvYWRlci9pbmRleC5qcz8/cmVmLS0zLTMhLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2xpYi9sb2FkZXIuanM/P3JlZi0tMy00IS4vZm9ybWVvLnNjc3NcIik7XG5cdFx0XHRpZih0eXBlb2YgbmV3Q29udGVudCA9PT0gJ3N0cmluZycpIG5ld0NvbnRlbnQgPSBbW21vZHVsZS5pZCwgbmV3Q29udGVudCwgJyddXTtcblx0XHRcdHVwZGF0ZShuZXdDb250ZW50KTtcblx0XHR9KTtcblx0fVxuXHQvLyBXaGVuIHRoZSBtb2R1bGUgaXMgZGlzcG9zZWQsIHJlbW92ZSB0aGUgPHN0eWxlPiB0YWdzXG5cdG1vZHVsZS5ob3QuZGlzcG9zZShmdW5jdGlvbigpIHsgdXBkYXRlKCk7IH0pO1xufVxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC9ob21lL2lnb3IvZGV2ZWxvcG1lbnQvb3BlbnNvdXJjZS9mb3JtZW8vc3JjL3Nhc3MvZm9ybWVvLnNjc3Ncbi8vIG1vZHVsZSBpZCA9IDE5XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///19\n')},function(module,exports){eval('// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don\'t break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn\'t define any globals.  It\'s inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error(\'setTimeout has not been defined\');\n}\nfunction defaultClearTimeout () {\n    throw new Error(\'clearTimeout has not been defined\');\n}\n(function () {\n    try {\n        if (typeof setTimeout === \'function\') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === \'function\') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn\'t available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn\'t trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it\'s a version of I.E. that must have the global object for \'this\', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn\'t available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn\'t  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it\'s a version of I.E. that must have the global object for \'this\', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = \'browser\';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = \'\'; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error(\'process.binding is not supported\');\n};\n\nprocess.cwd = function () { return \'/\' };\nprocess.chdir = function (dir) {\n    throw new Error(\'process.chdir is not supported\');\n};\nprocess.umask = function() { return 0; };\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvaWdvci9kZXZlbG9wbWVudC9vcGVuc291cmNlL2Zvcm1lby9+L3Byb2Nlc3MvYnJvd3Nlci5qcz82ODQzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZE9uY2VMaXN0ZW5lciA9IG5vb3A7XG5cbnByb2Nlc3MubGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIFtdIH1cblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAvaG9tZS9pZ29yL2RldmVsb3BtZW50L29wZW5zb3VyY2UvZm9ybWVvL34vcHJvY2Vzcy9icm93c2VyLmpzXG4vLyBtb2R1bGUgaWQgPSAyMFxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///20\n')},function(module,exports){eval('/*\n\tMIT License http://www.opensource.org/licenses/mit-license.php\n\tAuthor Tobias Koppers @sokra\n*/\nvar stylesInDom = {},\n\tmemoize = function(fn) {\n\t\tvar memo;\n\t\treturn function () {\n\t\t\tif (typeof memo === "undefined") memo = fn.apply(this, arguments);\n\t\t\treturn memo;\n\t\t};\n\t},\n\tisOldIE = memoize(function() {\n\t\treturn /msie [6-9]\\b/.test(self.navigator.userAgent.toLowerCase());\n\t}),\n\tgetHeadElement = memoize(function () {\n\t\treturn document.head || document.getElementsByTagName("head")[0];\n\t}),\n\tsingletonElement = null,\n\tsingletonCounter = 0,\n\tstyleElementsInsertedAtTop = [];\n\nmodule.exports = function(list, options) {\n\tif(typeof DEBUG !== "undefined" && DEBUG) {\n\t\tif(typeof document !== "object") throw new Error("The style-loader cannot be used in a non-browser environment");\n\t}\n\n\toptions = options || {};\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n\t// tags it will allow on a page\n\tif (typeof options.singleton === "undefined") options.singleton = isOldIE();\n\n\t// By default, add <style> tags to the bottom of <head>.\n\tif (typeof options.insertAt === "undefined") options.insertAt = "bottom";\n\n\tvar styles = listToStyles(list);\n\taddStylesToDom(styles, options);\n\n\treturn function update(newList) {\n\t\tvar mayRemove = [];\n\t\tfor(var i = 0; i < styles.length; i++) {\n\t\t\tvar item = styles[i];\n\t\t\tvar domStyle = stylesInDom[item.id];\n\t\t\tdomStyle.refs--;\n\t\t\tmayRemove.push(domStyle);\n\t\t}\n\t\tif(newList) {\n\t\t\tvar newStyles = listToStyles(newList);\n\t\t\taddStylesToDom(newStyles, options);\n\t\t}\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\n\t\t\tvar domStyle = mayRemove[i];\n\t\t\tif(domStyle.refs === 0) {\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\n\t\t\t\t\tdomStyle.parts[j]();\n\t\t\t\tdelete stylesInDom[domStyle.id];\n\t\t\t}\n\t\t}\n\t};\n}\n\nfunction addStylesToDom(styles, options) {\n\tfor(var i = 0; i < styles.length; i++) {\n\t\tvar item = styles[i];\n\t\tvar domStyle = stylesInDom[item.id];\n\t\tif(domStyle) {\n\t\t\tdomStyle.refs++;\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\n\t\t\t}\n\t\t\tfor(; j < item.parts.length; j++) {\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t} else {\n\t\t\tvar parts = [];\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\n\t\t\t}\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\n\t\t}\n\t}\n}\n\nfunction listToStyles(list) {\n\tvar styles = [];\n\tvar newStyles = {};\n\tfor(var i = 0; i < list.length; i++) {\n\t\tvar item = list[i];\n\t\tvar id = item[0];\n\t\tvar css = item[1];\n\t\tvar media = item[2];\n\t\tvar sourceMap = item[3];\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\n\t\tif(!newStyles[id])\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\n\t\telse\n\t\t\tnewStyles[id].parts.push(part);\n\t}\n\treturn styles;\n}\n\nfunction insertStyleElement(options, styleElement) {\n\tvar head = getHeadElement();\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\n\tif (options.insertAt === "top") {\n\t\tif(!lastStyleElementInsertedAtTop) {\n\t\t\thead.insertBefore(styleElement, head.firstChild);\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\n\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\n\t\t} else {\n\t\t\thead.appendChild(styleElement);\n\t\t}\n\t\tstyleElementsInsertedAtTop.push(styleElement);\n\t} else if (options.insertAt === "bottom") {\n\t\thead.appendChild(styleElement);\n\t} else {\n\t\tthrow new Error("Invalid value for parameter \'insertAt\'. Must be \'top\' or \'bottom\'.");\n\t}\n}\n\nfunction removeStyleElement(styleElement) {\n\tstyleElement.parentNode.removeChild(styleElement);\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\n\tif(idx >= 0) {\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\n\t}\n}\n\nfunction createStyleElement(options) {\n\tvar styleElement = document.createElement("style");\n\tstyleElement.type = "text/css";\n\tinsertStyleElement(options, styleElement);\n\treturn styleElement;\n}\n\nfunction createLinkElement(options) {\n\tvar linkElement = document.createElement("link");\n\tlinkElement.rel = "stylesheet";\n\tinsertStyleElement(options, linkElement);\n\treturn linkElement;\n}\n\nfunction addStyle(obj, options) {\n\tvar styleElement, update, remove;\n\n\tif (options.singleton) {\n\t\tvar styleIndex = singletonCounter++;\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\n\t} else if(obj.sourceMap &&\n\t\ttypeof URL === "function" &&\n\t\ttypeof URL.createObjectURL === "function" &&\n\t\ttypeof URL.revokeObjectURL === "function" &&\n\t\ttypeof Blob === "function" &&\n\t\ttypeof btoa === "function") {\n\t\tstyleElement = createLinkElement(options);\n\t\tupdate = updateLink.bind(null, styleElement);\n\t\tremove = function() {\n\t\t\tremoveStyleElement(styleElement);\n\t\t\tif(styleElement.href)\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\n\t\t};\n\t} else {\n\t\tstyleElement = createStyleElement(options);\n\t\tupdate = applyToTag.bind(null, styleElement);\n\t\tremove = function() {\n\t\t\tremoveStyleElement(styleElement);\n\t\t};\n\t}\n\n\tupdate(obj);\n\n\treturn function updateStyle(newObj) {\n\t\tif(newObj) {\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\n\t\t\t\treturn;\n\t\t\tupdate(obj = newObj);\n\t\t} else {\n\t\t\tremove();\n\t\t}\n\t};\n}\n\nvar replaceText = (function () {\n\tvar textStore = [];\n\n\treturn function (index, replacement) {\n\t\ttextStore[index] = replacement;\n\t\treturn textStore.filter(Boolean).join(\'\\n\');\n\t};\n})();\n\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\n\tvar css = remove ? "" : obj.css;\n\n\tif (styleElement.styleSheet) {\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\n\t} else {\n\t\tvar cssNode = document.createTextNode(css);\n\t\tvar childNodes = styleElement.childNodes;\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\n\t\tif (childNodes.length) {\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\n\t\t} else {\n\t\t\tstyleElement.appendChild(cssNode);\n\t\t}\n\t}\n}\n\nfunction applyToTag(styleElement, obj) {\n\tvar css = obj.css;\n\tvar media = obj.media;\n\n\tif(media) {\n\t\tstyleElement.setAttribute("media", media)\n\t}\n\n\tif(styleElement.styleSheet) {\n\t\tstyleElement.styleSheet.cssText = css;\n\t} else {\n\t\twhile(styleElement.firstChild) {\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\n\t\t}\n\t\tstyleElement.appendChild(document.createTextNode(css));\n\t}\n}\n\nfunction updateLink(linkElement, obj) {\n\tvar css = obj.css;\n\tvar sourceMap = obj.sourceMap;\n\n\tif(sourceMap) {\n\t\t// http://stackoverflow.com/a/26603875\n\t\tcss += "\\n/*# sourceMappingURL=data:application/json;base64," + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + " */";\n\t}\n\n\tvar blob = new Blob([css], { type: "text/css" });\n\n\tvar oldSrc = linkElement.href;\n\n\tlinkElement.href = URL.createObjectURL(blob);\n\n\tif(oldSrc)\n\t\tURL.revokeObjectURL(oldSrc);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvaWdvci9kZXZlbG9wbWVudC9vcGVuc291cmNlL2Zvcm1lby9+L3N0eWxlLWxvYWRlci9hZGRTdHlsZXMuanM/ZTQwMyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKlxuXHRNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuXHRBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xudmFyIHN0eWxlc0luRG9tID0ge30sXG5cdG1lbW9pemUgPSBmdW5jdGlvbihmbikge1xuXHRcdHZhciBtZW1vO1xuXHRcdHJldHVybiBmdW5jdGlvbiAoKSB7XG5cdFx0XHRpZiAodHlwZW9mIG1lbW8gPT09IFwidW5kZWZpbmVkXCIpIG1lbW8gPSBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuXHRcdFx0cmV0dXJuIG1lbW87XG5cdFx0fTtcblx0fSxcblx0aXNPbGRJRSA9IG1lbW9pemUoZnVuY3Rpb24oKSB7XG5cdFx0cmV0dXJuIC9tc2llIFs2LTldXFxiLy50ZXN0KHNlbGYubmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpKTtcblx0fSksXG5cdGdldEhlYWRFbGVtZW50ID0gbWVtb2l6ZShmdW5jdGlvbiAoKSB7XG5cdFx0cmV0dXJuIGRvY3VtZW50LmhlYWQgfHwgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdO1xuXHR9KSxcblx0c2luZ2xldG9uRWxlbWVudCA9IG51bGwsXG5cdHNpbmdsZXRvbkNvdW50ZXIgPSAwLFxuXHRzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcCA9IFtdO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGxpc3QsIG9wdGlvbnMpIHtcblx0aWYodHlwZW9mIERFQlVHICE9PSBcInVuZGVmaW5lZFwiICYmIERFQlVHKSB7XG5cdFx0aWYodHlwZW9mIGRvY3VtZW50ICE9PSBcIm9iamVjdFwiKSB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgc3R5bGUtbG9hZGVyIGNhbm5vdCBiZSB1c2VkIGluIGEgbm9uLWJyb3dzZXIgZW52aXJvbm1lbnRcIik7XG5cdH1cblxuXHRvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblx0Ly8gRm9yY2Ugc2luZ2xlLXRhZyBzb2x1dGlvbiBvbiBJRTYtOSwgd2hpY2ggaGFzIGEgaGFyZCBsaW1pdCBvbiB0aGUgIyBvZiA8c3R5bGU+XG5cdC8vIHRhZ3MgaXQgd2lsbCBhbGxvdyBvbiBhIHBhZ2Vcblx0aWYgKHR5cGVvZiBvcHRpb25zLnNpbmdsZXRvbiA9PT0gXCJ1bmRlZmluZWRcIikgb3B0aW9ucy5zaW5nbGV0b24gPSBpc09sZElFKCk7XG5cblx0Ly8gQnkgZGVmYXVsdCwgYWRkIDxzdHlsZT4gdGFncyB0byB0aGUgYm90dG9tIG9mIDxoZWFkPi5cblx0aWYgKHR5cGVvZiBvcHRpb25zLmluc2VydEF0ID09PSBcInVuZGVmaW5lZFwiKSBvcHRpb25zLmluc2VydEF0ID0gXCJib3R0b21cIjtcblxuXHR2YXIgc3R5bGVzID0gbGlzdFRvU3R5bGVzKGxpc3QpO1xuXHRhZGRTdHlsZXNUb0RvbShzdHlsZXMsIG9wdGlvbnMpO1xuXG5cdHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xuXHRcdHZhciBtYXlSZW1vdmUgPSBbXTtcblx0XHRmb3IodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHR2YXIgaXRlbSA9IHN0eWxlc1tpXTtcblx0XHRcdHZhciBkb21TdHlsZSA9IHN0eWxlc0luRG9tW2l0ZW0uaWRdO1xuXHRcdFx0ZG9tU3R5bGUucmVmcy0tO1xuXHRcdFx0bWF5UmVtb3ZlLnB1c2goZG9tU3R5bGUpO1xuXHRcdH1cblx0XHRpZihuZXdMaXN0KSB7XG5cdFx0XHR2YXIgbmV3U3R5bGVzID0gbGlzdFRvU3R5bGVzKG5ld0xpc3QpO1xuXHRcdFx0YWRkU3R5bGVzVG9Eb20obmV3U3R5bGVzLCBvcHRpb25zKTtcblx0XHR9XG5cdFx0Zm9yKHZhciBpID0gMDsgaSA8IG1heVJlbW92ZS5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGRvbVN0eWxlID0gbWF5UmVtb3ZlW2ldO1xuXHRcdFx0aWYoZG9tU3R5bGUucmVmcyA9PT0gMCkge1xuXHRcdFx0XHRmb3IodmFyIGogPSAwOyBqIDwgZG9tU3R5bGUucGFydHMubGVuZ3RoOyBqKyspXG5cdFx0XHRcdFx0ZG9tU3R5bGUucGFydHNbal0oKTtcblx0XHRcdFx0ZGVsZXRlIHN0eWxlc0luRG9tW2RvbVN0eWxlLmlkXTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG59XG5cbmZ1bmN0aW9uIGFkZFN0eWxlc1RvRG9tKHN0eWxlcywgb3B0aW9ucykge1xuXHRmb3IodmFyIGkgPSAwOyBpIDwgc3R5bGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0dmFyIGl0ZW0gPSBzdHlsZXNbaV07XG5cdFx0dmFyIGRvbVN0eWxlID0gc3R5bGVzSW5Eb21baXRlbS5pZF07XG5cdFx0aWYoZG9tU3R5bGUpIHtcblx0XHRcdGRvbVN0eWxlLnJlZnMrKztcblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBkb21TdHlsZS5wYXJ0cy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRkb21TdHlsZS5wYXJ0c1tqXShpdGVtLnBhcnRzW2pdKTtcblx0XHRcdH1cblx0XHRcdGZvcig7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdGRvbVN0eWxlLnBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHR2YXIgcGFydHMgPSBbXTtcblx0XHRcdGZvcih2YXIgaiA9IDA7IGogPCBpdGVtLnBhcnRzLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdHBhcnRzLnB1c2goYWRkU3R5bGUoaXRlbS5wYXJ0c1tqXSwgb3B0aW9ucykpO1xuXHRcdFx0fVxuXHRcdFx0c3R5bGVzSW5Eb21baXRlbS5pZF0gPSB7aWQ6IGl0ZW0uaWQsIHJlZnM6IDEsIHBhcnRzOiBwYXJ0c307XG5cdFx0fVxuXHR9XG59XG5cbmZ1bmN0aW9uIGxpc3RUb1N0eWxlcyhsaXN0KSB7XG5cdHZhciBzdHlsZXMgPSBbXTtcblx0dmFyIG5ld1N0eWxlcyA9IHt9O1xuXHRmb3IodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuXHRcdHZhciBpdGVtID0gbGlzdFtpXTtcblx0XHR2YXIgaWQgPSBpdGVtWzBdO1xuXHRcdHZhciBjc3MgPSBpdGVtWzFdO1xuXHRcdHZhciBtZWRpYSA9IGl0ZW1bMl07XG5cdFx0dmFyIHNvdXJjZU1hcCA9IGl0ZW1bM107XG5cdFx0dmFyIHBhcnQgPSB7Y3NzOiBjc3MsIG1lZGlhOiBtZWRpYSwgc291cmNlTWFwOiBzb3VyY2VNYXB9O1xuXHRcdGlmKCFuZXdTdHlsZXNbaWRdKVxuXHRcdFx0c3R5bGVzLnB1c2gobmV3U3R5bGVzW2lkXSA9IHtpZDogaWQsIHBhcnRzOiBbcGFydF19KTtcblx0XHRlbHNlXG5cdFx0XHRuZXdTdHlsZXNbaWRdLnBhcnRzLnB1c2gocGFydCk7XG5cdH1cblx0cmV0dXJuIHN0eWxlcztcbn1cblxuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIHN0eWxlRWxlbWVudCkge1xuXHR2YXIgaGVhZCA9IGdldEhlYWRFbGVtZW50KCk7XG5cdHZhciBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCA9IHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wW3N0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wLmxlbmd0aCAtIDFdO1xuXHRpZiAob3B0aW9ucy5pbnNlcnRBdCA9PT0gXCJ0b3BcIikge1xuXHRcdGlmKCFsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcCkge1xuXHRcdFx0aGVhZC5pbnNlcnRCZWZvcmUoc3R5bGVFbGVtZW50LCBoZWFkLmZpcnN0Q2hpbGQpO1xuXHRcdH0gZWxzZSBpZihsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZykge1xuXHRcdFx0aGVhZC5pbnNlcnRCZWZvcmUoc3R5bGVFbGVtZW50LCBsYXN0U3R5bGVFbGVtZW50SW5zZXJ0ZWRBdFRvcC5uZXh0U2libGluZyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGhlYWQuYXBwZW5kQ2hpbGQoc3R5bGVFbGVtZW50KTtcblx0XHR9XG5cdFx0c3R5bGVFbGVtZW50c0luc2VydGVkQXRUb3AucHVzaChzdHlsZUVsZW1lbnQpO1xuXHR9IGVsc2UgaWYgKG9wdGlvbnMuaW5zZXJ0QXQgPT09IFwiYm90dG9tXCIpIHtcblx0XHRoZWFkLmFwcGVuZENoaWxkKHN0eWxlRWxlbWVudCk7XG5cdH0gZWxzZSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB2YWx1ZSBmb3IgcGFyYW1ldGVyICdpbnNlcnRBdCcuIE11c3QgYmUgJ3RvcCcgb3IgJ2JvdHRvbScuXCIpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpIHtcblx0c3R5bGVFbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50KTtcblx0dmFyIGlkeCA9IHN0eWxlRWxlbWVudHNJbnNlcnRlZEF0VG9wLmluZGV4T2Yoc3R5bGVFbGVtZW50KTtcblx0aWYoaWR4ID49IDApIHtcblx0XHRzdHlsZUVsZW1lbnRzSW5zZXJ0ZWRBdFRvcC5zcGxpY2UoaWR4LCAxKTtcblx0fVxufVxuXG5mdW5jdGlvbiBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucykge1xuXHR2YXIgc3R5bGVFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuXHRzdHlsZUVsZW1lbnQudHlwZSA9IFwidGV4dC9jc3NcIjtcblx0aW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMsIHN0eWxlRWxlbWVudCk7XG5cdHJldHVybiBzdHlsZUVsZW1lbnQ7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUxpbmtFbGVtZW50KG9wdGlvbnMpIHtcblx0dmFyIGxpbmtFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpbmtcIik7XG5cdGxpbmtFbGVtZW50LnJlbCA9IFwic3R5bGVzaGVldFwiO1xuXHRpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucywgbGlua0VsZW1lbnQpO1xuXHRyZXR1cm4gbGlua0VsZW1lbnQ7XG59XG5cbmZ1bmN0aW9uIGFkZFN0eWxlKG9iaiwgb3B0aW9ucykge1xuXHR2YXIgc3R5bGVFbGVtZW50LCB1cGRhdGUsIHJlbW92ZTtcblxuXHRpZiAob3B0aW9ucy5zaW5nbGV0b24pIHtcblx0XHR2YXIgc3R5bGVJbmRleCA9IHNpbmdsZXRvbkNvdW50ZXIrKztcblx0XHRzdHlsZUVsZW1lbnQgPSBzaW5nbGV0b25FbGVtZW50IHx8IChzaW5nbGV0b25FbGVtZW50ID0gY3JlYXRlU3R5bGVFbGVtZW50KG9wdGlvbnMpKTtcblx0XHR1cGRhdGUgPSBhcHBseVRvU2luZ2xldG9uVGFnLmJpbmQobnVsbCwgc3R5bGVFbGVtZW50LCBzdHlsZUluZGV4LCBmYWxzZSk7XG5cdFx0cmVtb3ZlID0gYXBwbHlUb1NpbmdsZXRvblRhZy5iaW5kKG51bGwsIHN0eWxlRWxlbWVudCwgc3R5bGVJbmRleCwgdHJ1ZSk7XG5cdH0gZWxzZSBpZihvYmouc291cmNlTWFwICYmXG5cdFx0dHlwZW9mIFVSTCA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIFVSTC5jcmVhdGVPYmplY3RVUkwgPT09IFwiZnVuY3Rpb25cIiAmJlxuXHRcdHR5cGVvZiBVUkwucmV2b2tlT2JqZWN0VVJMID09PSBcImZ1bmN0aW9uXCIgJiZcblx0XHR0eXBlb2YgQmxvYiA9PT0gXCJmdW5jdGlvblwiICYmXG5cdFx0dHlwZW9mIGJ0b2EgPT09IFwiZnVuY3Rpb25cIikge1xuXHRcdHN0eWxlRWxlbWVudCA9IGNyZWF0ZUxpbmtFbGVtZW50KG9wdGlvbnMpO1xuXHRcdHVwZGF0ZSA9IHVwZGF0ZUxpbmsuYmluZChudWxsLCBzdHlsZUVsZW1lbnQpO1xuXHRcdHJlbW92ZSA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCk7XG5cdFx0XHRpZihzdHlsZUVsZW1lbnQuaHJlZilcblx0XHRcdFx0VVJMLnJldm9rZU9iamVjdFVSTChzdHlsZUVsZW1lbnQuaHJlZik7XG5cdFx0fTtcblx0fSBlbHNlIHtcblx0XHRzdHlsZUVsZW1lbnQgPSBjcmVhdGVTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG5cdFx0dXBkYXRlID0gYXBwbHlUb1RhZy5iaW5kKG51bGwsIHN0eWxlRWxlbWVudCk7XG5cdFx0cmVtb3ZlID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRyZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KTtcblx0XHR9O1xuXHR9XG5cblx0dXBkYXRlKG9iaik7XG5cblx0cmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZVN0eWxlKG5ld09iaikge1xuXHRcdGlmKG5ld09iaikge1xuXHRcdFx0aWYobmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJiBuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJiBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwKVxuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR1cGRhdGUob2JqID0gbmV3T2JqKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmVtb3ZlKCk7XG5cdFx0fVxuXHR9O1xufVxuXG52YXIgcmVwbGFjZVRleHQgPSAoZnVuY3Rpb24gKCkge1xuXHR2YXIgdGV4dFN0b3JlID0gW107XG5cblx0cmV0dXJuIGZ1bmN0aW9uIChpbmRleCwgcmVwbGFjZW1lbnQpIHtcblx0XHR0ZXh0U3RvcmVbaW5kZXhdID0gcmVwbGFjZW1lbnQ7XG5cdFx0cmV0dXJuIHRleHRTdG9yZS5maWx0ZXIoQm9vbGVhbikuam9pbignXFxuJyk7XG5cdH07XG59KSgpO1xuXG5mdW5jdGlvbiBhcHBseVRvU2luZ2xldG9uVGFnKHN0eWxlRWxlbWVudCwgaW5kZXgsIHJlbW92ZSwgb2JqKSB7XG5cdHZhciBjc3MgPSByZW1vdmUgPyBcIlwiIDogb2JqLmNzcztcblxuXHRpZiAoc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQpIHtcblx0XHRzdHlsZUVsZW1lbnQuc3R5bGVTaGVldC5jc3NUZXh0ID0gcmVwbGFjZVRleHQoaW5kZXgsIGNzcyk7XG5cdH0gZWxzZSB7XG5cdFx0dmFyIGNzc05vZGUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpO1xuXHRcdHZhciBjaGlsZE5vZGVzID0gc3R5bGVFbGVtZW50LmNoaWxkTm9kZXM7XG5cdFx0aWYgKGNoaWxkTm9kZXNbaW5kZXhdKSBzdHlsZUVsZW1lbnQucmVtb3ZlQ2hpbGQoY2hpbGROb2Rlc1tpbmRleF0pO1xuXHRcdGlmIChjaGlsZE5vZGVzLmxlbmd0aCkge1xuXHRcdFx0c3R5bGVFbGVtZW50Lmluc2VydEJlZm9yZShjc3NOb2RlLCBjaGlsZE5vZGVzW2luZGV4XSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHN0eWxlRWxlbWVudC5hcHBlbmRDaGlsZChjc3NOb2RlKTtcblx0XHR9XG5cdH1cbn1cblxuZnVuY3Rpb24gYXBwbHlUb1RhZyhzdHlsZUVsZW1lbnQsIG9iaikge1xuXHR2YXIgY3NzID0gb2JqLmNzcztcblx0dmFyIG1lZGlhID0gb2JqLm1lZGlhO1xuXG5cdGlmKG1lZGlhKSB7XG5cdFx0c3R5bGVFbGVtZW50LnNldEF0dHJpYnV0ZShcIm1lZGlhXCIsIG1lZGlhKVxuXHR9XG5cblx0aWYoc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQpIHtcblx0XHRzdHlsZUVsZW1lbnQuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuXHR9IGVsc2Uge1xuXHRcdHdoaWxlKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKSB7XG5cdFx0XHRzdHlsZUVsZW1lbnQucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpO1xuXHRcdH1cblx0XHRzdHlsZUVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG5cdH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlTGluayhsaW5rRWxlbWVudCwgb2JqKSB7XG5cdHZhciBjc3MgPSBvYmouY3NzO1xuXHR2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcblxuXHRpZihzb3VyY2VNYXApIHtcblx0XHQvLyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8yNjYwMzg3NVxuXHRcdGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIgKyBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpICsgXCIgKi9cIjtcblx0fVxuXG5cdHZhciBibG9iID0gbmV3IEJsb2IoW2Nzc10sIHsgdHlwZTogXCJ0ZXh0L2Nzc1wiIH0pO1xuXG5cdHZhciBvbGRTcmMgPSBsaW5rRWxlbWVudC5ocmVmO1xuXG5cdGxpbmtFbGVtZW50LmhyZWYgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuXG5cdGlmKG9sZFNyYylcblx0XHRVUkwucmV2b2tlT2JqZWN0VVJMKG9sZFNyYyk7XG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAvaG9tZS9pZ29yL2RldmVsb3BtZW50L29wZW5zb3VyY2UvZm9ybWVvL34vc3R5bGUtbG9hZGVyL2FkZFN0eWxlcy5qc1xuLy8gbW9kdWxlIGlkID0gMjFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Iiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///21\n')},function(module,exports){eval('\nexports = module.exports = function() {\n\tvar ret = \'\', value;\n\tfor (var i = 0; i < 32; i++) {\n\t\tvalue = exports.random() * 16 | 0;\n\t\t// Insert the hypens\n\t\tif (i > 4 && i < 21 && ! (i % 4)) {\n\t\t\tret += \'-\';\n\t\t}\n\t\t// Add the next random character\n\t\tret += (\n\t\t\t(i === 12) ? 4 : (\n\t\t\t\t(i === 16) ? (value & 3 | 8) : value\n\t\t\t)\n\t\t).toString(16);\n\t}\n\treturn ret;\n};\n\nvar uuidRegex = /^[0-9a-f]{8}-[0-9a-f]{4}-4[0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/;\nexports.isUUID = function(uuid) {\n\treturn uuidRegex.test(uuid);\n};\n\nexports.random = function() {\n\treturn Math.random();\n};\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vL2hvbWUvaWdvci9kZXZlbG9wbWVudC9vcGVuc291cmNlL2Zvcm1lby9+L3V1aWQtdjQvaW5kZXguanM/NzEwYyJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuXHR2YXIgcmV0ID0gJycsIHZhbHVlO1xuXHRmb3IgKHZhciBpID0gMDsgaSA8IDMyOyBpKyspIHtcblx0XHR2YWx1ZSA9IGV4cG9ydHMucmFuZG9tKCkgKiAxNiB8IDA7XG5cdFx0Ly8gSW5zZXJ0IHRoZSBoeXBlbnNcblx0XHRpZiAoaSA+IDQgJiYgaSA8IDIxICYmICEgKGkgJSA0KSkge1xuXHRcdFx0cmV0ICs9ICctJztcblx0XHR9XG5cdFx0Ly8gQWRkIHRoZSBuZXh0IHJhbmRvbSBjaGFyYWN0ZXJcblx0XHRyZXQgKz0gKFxuXHRcdFx0KGkgPT09IDEyKSA/IDQgOiAoXG5cdFx0XHRcdChpID09PSAxNikgPyAodmFsdWUgJiAzIHwgOCkgOiB2YWx1ZVxuXHRcdFx0KVxuXHRcdCkudG9TdHJpbmcoMTYpO1xuXHR9XG5cdHJldHVybiByZXQ7XG59O1xuXG52YXIgdXVpZFJlZ2V4ID0gL15bMC05YS1mXXs4fS1bMC05YS1mXXs0fS00WzAtOWEtZl17M30tWzg5YWJdWzAtOWEtZl17M30tWzAtOWEtZl17MTJ9JC87XG5leHBvcnRzLmlzVVVJRCA9IGZ1bmN0aW9uKHV1aWQpIHtcblx0cmV0dXJuIHV1aWRSZWdleC50ZXN0KHV1aWQpO1xufTtcblxuZXhwb3J0cy5yYW5kb20gPSBmdW5jdGlvbigpIHtcblx0cmV0dXJuIE1hdGgucmFuZG9tKCk7XG59O1xuXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAvaG9tZS9pZ29yL2RldmVsb3BtZW50L29wZW5zb3VyY2UvZm9ybWVvL34vdXVpZC12NC9pbmRleC5qc1xuLy8gbW9kdWxlIGlkID0gMjJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///22\n')},function(module,exports){eval('var g;\r\n\r\n// This works in non-strict mode\r\ng = (function() {\r\n\treturn this;\r\n})();\r\n\r\ntry {\r\n\t// This works if eval is allowed (see CSP)\r\n\tg = g || Function("return this")() || (1,eval)("this");\r\n} catch(e) {\r\n\t// This works if the window reference is available\r\n\tif(typeof window === "object")\r\n\t\tg = window;\r\n}\r\n\r\n// g can still be undefined, but nothing to do about it...\r\n// We return undefined, instead of nothing here, so it\'s\r\n// easier to handle this case. if(!global) { ...}\r\n\r\nmodule.exports = g;\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzPzM2OTgiXSwic291cmNlc0NvbnRlbnQiOlsidmFyIGc7XHJcblxyXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxyXG5nID0gKGZ1bmN0aW9uKCkge1xyXG5cdHJldHVybiB0aGlzO1xyXG59KSgpO1xyXG5cclxudHJ5IHtcclxuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcclxuXHRnID0gZyB8fCBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCkgfHwgKDEsZXZhbCkoXCJ0aGlzXCIpO1xyXG59IGNhdGNoKGUpIHtcclxuXHQvLyBUaGlzIHdvcmtzIGlmIHRoZSB3aW5kb3cgcmVmZXJlbmNlIGlzIGF2YWlsYWJsZVxyXG5cdGlmKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpXHJcblx0XHRnID0gd2luZG93O1xyXG59XHJcblxyXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXHJcbi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzXHJcbi8vIGVhc2llciB0byBoYW5kbGUgdGhpcyBjYXNlLiBpZighZ2xvYmFsKSB7IC4uLn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZztcclxuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzXG4vLyBtb2R1bGUgaWQgPSAyM1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///23\n')},function(t,g,e){e(11),t.exports=e(10)}]);